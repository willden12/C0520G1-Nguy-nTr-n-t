var clienttelemetry_build;!function(t){t.version="2.4.0"}(clienttelemetry_build||(clienttelemetry_build={}));var Microsoft;!function(t){!function(t){!function(t){t[t.BT_STOP=0]="BT_STOP",t[t.BT_STOP_BASE=1]="BT_STOP_BASE",t[t.BT_BOOL=2]="BT_BOOL",t[t.BT_UINT8=3]="BT_UINT8",t[t.BT_UINT16=4]="BT_UINT16",t[t.BT_UINT32=5]="BT_UINT32",t[t.BT_UINT64=6]="BT_UINT64",t[t.BT_FLOAT=7]="BT_FLOAT",t[t.BT_DOUBLE=8]="BT_DOUBLE",t[t.BT_STRING=9]="BT_STRING",t[t.BT_STRUCT=10]="BT_STRUCT",t[t.BT_LIST=11]="BT_LIST",t[t.BT_SET=12]="BT_SET",t[t.BT_MAP=13]="BT_MAP",t[t.BT_INT8=14]="BT_INT8",t[t.BT_INT16=15]="BT_INT16",t[t.BT_INT32=16]="BT_INT32",t[t.BT_INT64=17]="BT_INT64",t[t.BT_WSTRING=18]="BT_WSTRING",t[t.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"}(t.BondDataType||(t.BondDataType={}));t.BondDataType;!function(t){t[t.MARSHALED_PROTOCOL=0]="MARSHALED_PROTOCOL",t[t.MAFIA_PROTOCOL=17997]="MAFIA_PROTOCOL",t[t.COMPACT_PROTOCOL=16963]="COMPACT_PROTOCOL",t[t.JSON_PROTOCOL=21322]="JSON_PROTOCOL",t[t.PRETTY_JSON_PROTOCOL=20554]="PRETTY_JSON_PROTOCOL",t[t.SIMPLE_PROTOCOL=20563]="SIMPLE_PROTOCOL"}(t.ProtocolType||(t.ProtocolType={}));t.ProtocolType}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var Microsoft;!function(t){!function(t){!function(t){var e=function(){function t(){this._buffer=[]}return t.prototype.Add=function(t){for(var e=0;e<this._buffer.length&&this._buffer[e]!=t;++e);e==this._buffer.length&&this._buffer.push(t)},t.prototype.Count=function(){return this._buffer.length},t.prototype.GetBuffer=function(){return this._buffer},t}();t.Set=e;var n=function(){function t(){this._buffer=[]}return t.prototype.Add=function(t,e){-1==this._getIndex(t)&&this._buffer.push({Key:t,Value:e})},t.prototype.AddOrReplace=function(t,e){var n=this._getIndex(t);n>=0?this._buffer[n]={Key:t,Value:e}:this._buffer.push({Key:t,Value:e})},t.prototype.Remove=function(t){var e=this._getIndex(t);e>=0&&this._buffer.splice(e,1)},t.prototype.Count=function(){return this._buffer.length},t.prototype.GetBuffer=function(){return this._buffer},t.prototype.ContainsKey=function(t){return this._getIndex(t)>=0?!0:!1},t.prototype.Get=function(t){var e=this._getIndex(t);return e>=0?this._buffer[e].Value:null},t.prototype._getIndex=function(t){for(var e=0,n=-1;e<this._buffer.length;++e)if(this._buffer[e].Key==t){n=e;break}return n},t}();t.Map=n}(t.Collections||(t.Collections={}));t.Collections}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var Microsoft;!function(t){!function(e){!function(t){var i=function(){function t(){}return t.GetBytes=function(t){for(var e=[],n=0;n<t.length;++n){var i=t.charCodeAt(n);128>i?e.push(i):2048>i?e.push(192|i>>6,128|63&i):55296>i||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e},t}();t.Utf8=i;var r=function(){function t(){}return t.GetString=function(t){var e,n,i,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=[],s=t.length%3,a=function(t){return[r.charAt(t>>18&63),r.charAt(t>>12&63),r.charAt(t>>6&63),r.charAt(63&t)].join("")};for(e=0,i=t.length-s;i>e;e+=3)n=(t[e]<<16)+(t[e+1]<<8)+t[e+2],o.push(a(n));switch(s){case 1:n=t[t.length-1],o.push(r.charAt(n>>2)),o.push(r.charAt(n<<4&63)),o.push("==");break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],o.push(r.charAt(n>>10)),o.push(r.charAt(n>>4&63)),o.push(r.charAt(n<<2&63)),o.push("=")}return o.join("")},t}();t.Base64=r;var o=function(){function t(){}return t.GetBytes=function(t){for(var e=[];4294967168&t;)e.push(127&t|128),t>>>=7;return e.push(127&t),e},t}();t.Varint=o;var s=function(){function t(){}return t.GetBytes=function(t){for(var e=t.low,n=t.high,i=[];n||4294967168&e;)i.push(127&e|128),e=(127&n)<<25|e>>>7,n>>>=7;return i.push(127&e),i},t}();t.Varint64=s;var a=function(){function t(){}return t.GetBytes=function(t){if(e.BrowserChecker.IsDataViewSupport()){var i=new DataView(new ArrayBuffer(4));i.setFloat32(0,t,!0);for(var r=[],o=0;4>o;++o)r.push(i.getUint8(o));return r}return n.ConvertNumberToArray(t,!1)},t}();t.Float=a;var u=function(){function t(){}return t.GetBytes=function(t){if(e.BrowserChecker.IsDataViewSupport()){var i=new DataView(new ArrayBuffer(8));i.setFloat64(0,t,!0);for(var r=[],o=0;8>o;++o)r.push(i.getUint8(o));return r}return n.ConvertNumberToArray(t,!0)},t}();t.Double=u;var c=function(){function t(){}return t.EncodeZigzag16=function(t){return t=e.Number.ToInt16(t),t<<1^t>>15},t.EncodeZigzag32=function(t){return t=e.Number.ToInt32(t),t<<1^t>>31},t.EncodeZigzag64=function(t){var n=t.low,i=t.high,r=i<<1|n>>>31,o=n<<1;2147483648&i&&(r=~r,o=~o);var s=new e.UInt64("0");return s.low=o,s.high=r,s},t}();t.Zigzag=c}(e.Encoding||(e.Encoding={}));e.Encoding;!function(i){var r=function(){function t(){}return t.GetString=function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];if(191>=i)e.push(String.fromCharCode(i));else if(223>=i){var r=t[++n];e.push(String.fromCharCode((31&i)<<6|63&r))}else if(239>=i){var r=t[++n],o=t[++n];e.push(String.fromCharCode((15&i)<<12|(63&r)<<6|63&o))}else{var r=t[++n],o=t[++n],s=t[++n];i=(7&i)<<18|(63&r)<<12|(63&o)<<6|63&s,i-=65536,e.push(String.fromCharCode(55296|i>>10&1023)),e.push(String.fromCharCode(56320|1023&i))}}return e.join("")},t}();i.Utf8=r;var o=function(){function t(){}return t.GetBytes=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[],i=0;i<t.length;++i){var r=e.indexOf(t.charAt(i++)),o=e.indexOf(t.charAt(i++)),s=e.indexOf(t.charAt(i++)),a=e.indexOf(t.charAt(i));n.push(r<<2|o>>4),s>=0&&(n.push(o<<4&240|s>>2),a>=0&&n.push(s<<6&192|a))}return n},t}();i.Base64=o;var s=function(){function e(){}return e.GetInt64=function(e){var n=new t.Bond.Int64("0"),i=this._Read(e);return n.low=i[0],i.length>1&&(n.high=i[1]),n},e.GetNumber=function(t){return this._Read(t)[0]},e._Read=function(t){for(var e=[],n=0,i=!0,r=0;i;){var o=t.shift();if(i=0!=(128&o),o=127&o,!(28>r)){n|=o<<r,e.push(n),n=o>>4,r=3;break}n|=o<<r,r+=7}for(;i;){var o=t.shift();if(i=0!=(128&o),o=127&o,n|=o<<r,r+=7,r>=32)break}return e.push(n),e},e}();i.Varint=s;var a=function(){function t(){}return t.GetNumber=function(t){if(e.BrowserChecker.IsDataViewSupport()){for(var i=new DataView(new ArrayBuffer(4)),r=0;4>r;++r)i.setUint8(r,t[r]);return i.getFloat32(0,!0)}return n.ConvertArrayToNumber(t,!1)},t}();i.Float=a;var u=function(){function t(){}return t.GetNumber=function(t){if(e.BrowserChecker.IsDataViewSupport()){for(var i=new DataView(new ArrayBuffer(8)),r=0;8>r;++r)i.setUint8(r,t[r]);return i.getFloat64(0,!0)}return n.ConvertArrayToNumber(t,!0)},t}();i.Double=u;var c=function(){function e(){}return e.DecodeZigzag16=function(t){return((65535&t)>>>1^-(1&t))<<16>>16},e.DecodeZigzag32=function(t){return t>>>1^-(1&t)},e.DecodeZigzag64=function(e){var n=1&e.high,i=e.high>>>1,r=1&e.low,o=e.low>>>1;o=n<<31|o,r&&(o^=4294967295,i^=4294967295);var s=new t.Bond.UInt64("0");return s.low=o,s.high=i,s},e}();i.Zigzag=c}(e.Decoding||(e.Decoding={}));var n=(e.Decoding,function(){function t(){}return t.ConvertNumberToArray=function(t,e){if(!t)return e?this._doubleZero:this._floatZero;var n=e?11:8,i=e?52:23,r=(1<<n-1)-1,o=1-r,s=r,a=0>t?1:0;t=Math.abs(t);for(var u=Math.floor(t),c=t-u,l=2*(r+2)+i,h=new Array(l),f=0;l>f;)h[f++]=0;for(f=r+2;f&&u;)h[--f]=u%2,u=Math.floor(u/2);for(f=r+1;l-1>f&&c>0;)c*=2,c>=1?(h[++f]=1,--c):h[++f]=0;for(var d=0;l>d&&!h[d];++d);var _=r+1-d,p=d+i;if(h[p+1]){for(f=p;f>d&&!(h[f]=1-h[f]);--f);f==d&&++_}if(_>s||u)return a?e?this._doubleNegInifinity:this._floatNegInifinity:e?this._doubleInifinity:this._floatInifinity;if(o>_)return e?this._doubleZero:this._floatZero;if(e){var g=0;for(f=0;20>f;++f)g=g<<1|h[++d];for(var I=0;52>f;++f)I=I<<1|h[++d];g|=_+r<<20,g=a<<31|2147483647&g;var S=[255&I,I>>8&255,I>>16&255,I>>>24,255&g,g>>8&255,g>>16&255,g>>>24];return S}var E=0;for(f=0;23>f;++f)E=E<<1|h[++d];E|=_+r<<23,E=a<<31|2147483647&E;var S=[255&E,E>>8&255,E>>16&255,E>>>24];return S},t.ConvertArrayToNumber=function(t,n){var i=n?11:8,r=(1<<i-1)-1,o=0!=(128&t[n?7:3]),s=n?(127&t[7])<<4|(240&t[6])>>4:(127&t[3])<<1|(128&t[2])>>7;if(255==s)throw new e.Exception("Not a valid float/double buffer.");var a=1,u=1;if(n){var c=(15&t[6])<<28|(255&t[5])<<20|(255&t[4])<<12,l=t[3]<<24|(255&t[2])<<16|(255&t[1])<<8|255&t[0];if(!s&&!c&&!l)return 0;for(var h=0;20>h;++h)u/=2,0>c&&(a+=u),c<<=1;for(var h=0;32>h;++h)u/=2,0>l&&(a+=u),l<<=1}else{var f=(127&t[2])<<25|(255&t[1])<<17|(255&t[0])<<9;if(!s&&!f)return 0;for(var h=0;23>h;++h)u/=2,0>f&&(a+=u),f<<=1}return a*=Math.pow(2,s-r),o?0-a:a},t._floatZero=[0,0,0,0],t._doubleZero=[0,0,0,0,0,0,0,0],t._floatInifinity=[0,0,128,127],t._floatNegInifinity=[0,0,128,255],t._doubleInifinity=[0,0,0,0,0,0,240,127],t._doubleNegInifinity=[0,0,0,0,0,0,240,255],t}())}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var Microsoft;!function(t){!function(t){!function(e){var n=function(){function e(){this._buffer=[]}return e.prototype.WriteByte=function(e){this._buffer.push(t.Number.ToByte(e))},e.prototype.Write=function(t,e,n){for(;n--;)this.WriteByte(t[e++])},e.prototype.GetBuffer=function(){return this._buffer},e}();e.MemoryStream=n}(t.IO||(t.IO={}));t.IO}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var Microsoft;!function(t){!function(t){var e=function(){function t(t,e){this.Type=t,this.Id=e}return t}();t.FieldTag=e;var n=function(){function t(t,e){this.ElementType=t,this.Size=e}return t}();t.ContainerTag=n;var i=function(){function t(t,e,n){this.KeyType=t,this.ValueType=e,this.Size=n}return t}();t.KeyValueContainerTag=i;var r=function(){function t(){}return t}();t.Bonded=r;var o=function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t),this.low<0&&(this.high=-1)}return t.prototype.Equals=function(e){var n=new t(e);return this.low==n.low&&this.high==n.high},t}();t.Int64=o;var s=function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t)}return t.prototype.Equals=function(e){var n=new t(e);return this.low==n.low&&this.high==n.high},t}();t.UInt64=s;var a=function(){function t(){}return t.ToByte=function(t){return this.ToUInt8(t)},t.ToInt8=function(t){var e=(128&t)<<24>>24;return 127&t|e},t.ToInt16=function(t){var e=(32768&t)<<16>>16;return 32767&t|e},t.ToInt32=function(t){var e=2147483648&t;return 2147483647&t|e},t.ToUInt8=function(t){return 255&t},t.ToUInt16=function(t){return 65535&t},t.ToUInt32=function(t){return 4294967295&t},t}();t.Number=a;var u=function(){function t(t){this.Message=t}return t}();t.Exception=u;var c=function(){function t(){}return t}();t.KeyValuePair=c;var l=function(){function t(){}return t.IsDataViewSupport=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},t}();t.BrowserChecker=l}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var Microsoft;!function(t){!function(t){var e=function(){function e(t){this._stream=t}return e.prototype.WriteBlob=function(t){this._stream.Write(t,0,t.length)},e.prototype.WriteBool=function(t){this._stream.WriteByte(t?1:0)},e.prototype.WriteContainerBegin=function(t,e){this.WriteUInt8(e),this.WriteUInt32(t)},e.prototype.WriteMapContainerBegin=function(t,e,n){this.WriteUInt8(e),this.WriteUInt8(n),this.WriteUInt32(t)},e.prototype.WriteContainerEnd=function(){},e.prototype.WriteDouble=function(e){var n=t.Encoding.Double.GetBytes(e);this._stream.Write(n,0,n.length)},e.prototype.WriteFloat=function(e){var n=t.Encoding.Float.GetBytes(e);this._stream.Write(n,0,n.length)},e.prototype.WriteFieldBegin=function(t,e,n){5>=e?this._stream.WriteByte(t|e<<5):255>=e?(this._stream.WriteByte(192|t),this._stream.WriteByte(e)):(this._stream.WriteByte(224|t),this._stream.WriteByte(e),this._stream.WriteByte(e>>8))},e.prototype.WriteFieldEnd=function(){},e.prototype.WriteFieldOmitted=function(t,e,n){},e.prototype.WriteInt16=function(e){e=t.Encoding.Zigzag.EncodeZigzag16(e),this.WriteUInt16(e)},e.prototype.WriteInt32=function(e){e=t.Encoding.Zigzag.EncodeZigzag32(e),this.WriteUInt32(e)},e.prototype.WriteInt64=function(e){this.WriteUInt64(t.Encoding.Zigzag.EncodeZigzag64(e))},e.prototype.WriteInt8=function(e){this._stream.WriteByte(t.Number.ToInt8(e))},e.prototype.WriteString=function(e){if(""==e)this.WriteUInt32(0);else{var n=t.Encoding.Utf8.GetBytes(e);this.WriteUInt32(n.length),this._stream.Write(n,0,n.length)}},e.prototype.WriteStructBegin=function(t,e){},e.prototype.WriteStructEnd=function(t){this.WriteUInt8(t?1:0)},e.prototype.WriteUInt16=function(e){var n=t.Encoding.Varint.GetBytes(t.Number.ToUInt16(e));this._stream.Write(n,0,n.length)},e.prototype.WriteUInt32=function(e){var n=t.Encoding.Varint.GetBytes(t.Number.ToUInt32(e));this._stream.Write(n,0,n.length)},e.prototype.WriteUInt64=function(e){var n=t.Encoding.Varint64.GetBytes(e);this._stream.Write(n,0,n.length)},e.prototype.WriteUInt8=function(e){this._stream.WriteByte(t.Number.ToUInt8(e))},e.prototype.WriteWString=function(t){this.WriteUInt32(t.length);for(var e=0;e<t.length;++e){var n=t.charCodeAt(e);this._stream.WriteByte(n),this._stream.WriteByte(n>>>8)}},e}();t.CompactBinaryProtocolWriter=e;var n=function(){function t(){}return t}();t.CompactBinaryProtocolReader=n}(t.Bond||(t.Bond={}));t.Bond}(Microsoft||(Microsoft={}));var sct;!function(t){var e=function(){function t(){}return t.IsSafari=function(){return null===t._isSafari&&t._DetectBrowser(),t._isSafari},t.ajax=function(e){var n=t._createConnection();if(e.headers){var i="qsp=true";for(var r in e.headers)i+="&",i+=encodeURIComponent(r),i+="=",i+=encodeURIComponent(e.headers[r]);e.url+=e.url.indexOf("?")<0?"?":"&",e.url+=i}n.open(e.type,e.url),e.complete&&(n.onload=function(){"undefined"==typeof n.status&&(n.status=200),e.complete(n)},n.ontimeout=function(){"undefined"==typeof n.status&&(n.status=500),e.complete(n)},n.onerror=function(){e.complete(n)}),n.send(e.data)},t.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},t.IsUsingXDomainRequest=function(){if(null==t._usingXDomainRequest){var e=new XMLHttpRequest;t._usingXDomainRequest="undefined"==typeof e.withCredentials&&"undefined"!=typeof XDomainRequest?!0:!1}return t._usingXDomainRequest},t._createConnection=function(){var e=new XMLHttpRequest;return t.IsUsingXDomainRequest()?new XDomainRequest:e},t._DetectBrowser=function(){var e=navigator.userAgent.toLowerCase();t._isSafari=e.indexOf("safari")>=0&&e.indexOf("chrome")<0?!0:!1},t._isSafari=null,t._usingXDomainRequest=null,t}();t.Utils=e}(sct||(sct={}));var microsoft;!function(t){!function(t){!function(t){!function(e){var n=function(){function t(){}return t.GetGuid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)};return[t(),t(),"-",t(),"-",t(),"-",t(),"-",t(),t(),t()].join("")},t.GetTimeStamp=function(){var t=(new Date).getTime(),e=new Microsoft.Bond.Int64("0");return e.low=4294967295&t,e.high=Math.floor(t/4294967296),e},t.GetTimeStampWithValue=function(t){var e=new Microsoft.Bond.Int64("0");return e.low=4294967295&t,e.high=Math.floor(t/4294967296),e},t}();e.utils=n,function(t){t[t.NotSet=0]="NotSet",t[t.Event=1]="Event",t[t.PerformanceCounter=2]="PerformanceCounter",t[t.Anomaly=3]="Anomaly",t[t.Prediction=4]="Prediction",t[t.TraceLog=5]="TraceLog",t[t.EventSourceLog=6]="EventSourceLog",t[t.HttpLog=7]="HttpLog",t[t.PerformanceCounterAzure=8]="PerformanceCounterAzure",t[t.PerformanceCounterGfs=9]="PerformanceCounterGfs"}(e.RecordType||(e.RecordType={}));e.RecordType;!function(t){t[t.NotSet=0]="NotSet",t[t.O365=1]="O365",t[t.SkypeBI=2]="SkypeBI",t[t.SkypeData=3]="SkypeData"}(e.PIIScrubber||(e.PIIScrubber={}));e.PIIScrubber;!function(t){t[t.NotSet=0]="NotSet",t[t.DistinguishedName=1]="DistinguishedName",t[t.GenericData=2]="GenericData",t[t.IPV4Address=3]="IPV4Address",t[t.IPv6Address=4]="IPv6Address",t[t.MailSubject=5]="MailSubject",t[t.PhoneNumber=6]="PhoneNumber",t[t.QueryString=7]="QueryString",t[t.SipAddress=8]="SipAddress",t[t.SmtpAddress=9]="SmtpAddress",t[t.Identity=10]="Identity",t[t.Uri=11]="Uri",t[t.Fqdn=12]="Fqdn",t[t.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(e.PIIKind||(e.PIIKind={}));var i=(e.PIIKind,function(){function t(){this.ScrubType=0,this.Kind=0,this.RawContent=""}return t.prototype.Write=function(t){this.WriteImpl(t,!1)},t.prototype.WriteImpl=function(t,e){t.WriteStructBegin(null,e),0!=this.ScrubType?(t.WriteFieldBegin(16,1,null),t.WriteInt32(this.ScrubType),t.WriteFieldEnd()):t.WriteFieldOmitted(16,1,null),0!=this.Kind?(t.WriteFieldBegin(16,2,null),t.WriteInt32(this.Kind),t.WriteFieldEnd()):t.WriteFieldOmitted(16,2,null),""!=this.RawContent?(t.WriteFieldBegin(9,3,null),t.WriteString(this.RawContent),t.WriteFieldEnd()):t.WriteFieldOmitted(9,3,null),t.WriteStructEnd(e)},t.prototype.Read=function(t){this.ReadImpl(t,!1)},t.prototype.ReadImpl=function(t,e){},t}());e.PII=i;var r=function(){function e(){this.Id=n.GetGuid(),this.Timestamp=n.GetTimeStamp(),this.Type="",this.EventType="",this.Extension=new Microsoft.Bond.Collections.Map,this.RecordType=0,this.PIIExtensions=new Microsoft.Bond.Collections.Map}return e.prototype.AddOrReplacePII=function(e,n,i){var r=new t.datamodels.PII;r.RawContent=n,r.Kind=i,r.ScrubType=1,this.PIIExtensions.AddOrReplace(e,r)},e.prototype.Write=function(t){this.WriteImpl(t,!1)},e.prototype.WriteImpl=function(t,e){if(t.WriteStructBegin(null,e),""!=this.Id?(t.WriteFieldBegin(9,1,null),t.WriteString(this.Id),t.WriteFieldEnd()):t.WriteFieldOmitted(9,1,null),this.Timestamp.Equals("0")?t.WriteFieldOmitted(17,3,null):(t.WriteFieldBegin(17,3,null),t.WriteInt64(this.Timestamp),t.WriteFieldEnd()),""!=this.Type?(t.WriteFieldBegin(9,5,null),t.WriteString(this.Type),t.WriteFieldEnd()):t.WriteFieldOmitted(9,5,null),""!=this.EventType?(t.WriteFieldBegin(9,6,null),t.WriteString(this.EventType),t.WriteFieldEnd()):t.WriteFieldOmitted(9,6,null),this.Extension.Count()){t.WriteFieldBegin(13,13,null),t.WriteMapContainerBegin(this.Extension.Count(),9,9);for(var n=0;n<this.Extension.GetBuffer().length;++n)t.WriteString(this.Extension.GetBuffer()[n].Key),t.WriteString(this.Extension.GetBuffer()[n].Value);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(13,13,null);if(0!=this.RecordType?(t.WriteFieldBegin(16,24,null),t.WriteInt32(this.RecordType),t.WriteFieldEnd()):t.WriteFieldOmitted(16,24,null),this.PIIExtensions.Count()){t.WriteFieldBegin(13,30,null),t.WriteMapContainerBegin(this.PIIExtensions.Count(),9,10);for(var i=0;i<this.PIIExtensions.GetBuffer().length;++i)t.WriteString(this.PIIExtensions.GetBuffer()[i].Key),this.PIIExtensions.GetBuffer()[i].Value.WriteImpl(t,!1);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(13,30,null);t.WriteStructEnd(e)},e.prototype.Read=function(t){this.ReadImpl(t,!1)},e.prototype.ReadImpl=function(t,e){},e}();e.Record=r;var o=function(){function t(){this.Source="",this.DataPackageId="",this.Timestamp=new Microsoft.Bond.Int64("0"),this.Records=[]}return t.prototype.Write=function(t){this.WriteImpl(t,!1)},t.prototype.WriteImpl=function(t,e){if(t.WriteStructBegin(null,e),""!=this.Source?(t.WriteFieldBegin(9,2,null),t.WriteString(this.Source),t.WriteFieldEnd()):t.WriteFieldOmitted(9,2,null),""!=this.DataPackageId?(t.WriteFieldBegin(9,5,null),t.WriteString(this.DataPackageId),t.WriteFieldEnd()):t.WriteFieldOmitted(9,5,null),this.Timestamp.Equals("0")?t.WriteFieldOmitted(17,6,null):(t.WriteFieldBegin(17,6,null),t.WriteInt64(this.Timestamp),t.WriteFieldEnd()),this.Records.length){t.WriteFieldBegin(11,8,null),t.WriteContainerBegin(this.Records.length,10);for(var n=0;n<this.Records.length;++n)this.Records[n].WriteImpl(t,!1);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(11,8,null);t.WriteStructEnd(e)},t.prototype.Read=function(t){this.ReadImpl(t,!1)},t.prototype.ReadImpl=function(t,e){},t}();e.DataPackage=o;var s=function(){function t(){this.DataPackages=[],this.RequestRetryCount=0}return t.prototype.Write=function(t){this.WriteImpl(t,!1)},t.prototype.WriteImpl=function(t,e){if(t.WriteStructBegin(null,e),this.DataPackages.length){t.WriteFieldBegin(11,1,null),t.WriteContainerBegin(this.DataPackages.length,10);for(var n=0;n<this.DataPackages.length;++n)this.DataPackages[n].WriteImpl(t,!1);t.WriteContainerEnd(),t.WriteFieldEnd()}else t.WriteFieldOmitted(11,1,null);0!=this.RequestRetryCount?(t.WriteFieldBegin(16,2,null),t.WriteInt32(this.RequestRetryCount),t.WriteFieldEnd()):t.WriteFieldOmitted(16,2,null),t.WriteStructEnd(e)},t.prototype.Read=function(t){this.ReadImpl(t,!1)},t.prototype.ReadImpl=function(t,e){},t}();e.ClientToCollectorRequest=s}(t.datamodels||(t.datamodels={}));t.datamodels}(t.telemetry||(t.telemetry={}));t.telemetry}(t.applications||(t.applications={}));t.applications}(microsoft||(microsoft={}));var microsoft;!function(t){!function(t){!function(t){!function(e){!function(t){t[t.SENT=0]="SENT",t[t.SEND_FAILED=1]="SEND_FAILED"}(e.CallbackEventType||(e.CallbackEventType={}));e.CallbackEventType;!function(t){t[t.DATARV_ERROR_OK=0]="DATARV_ERROR_OK",t[t.DATARV_ERROR_INVALID_EVENT=1]="DATARV_ERROR_INVALID_EVENT",t[t.DATARV_ERROR_INVALID_CONFIG=2]="DATARV_ERROR_INVALID_CONFIG",t[t.DATARV_ERROR_INVALID_DEPENDENCIES=3]="DATARV_ERROR_INVALID_DEPENDENCIES",t[t.DATARV_ERROR_INVALID_STATUS=4]="DATARV_ERROR_INVALID_STATUS",t[t.DATARV_ERROR_INVALID_ARG=5]="DATARV_ERROR_INVALID_ARG"}(e.DATARV_ERROR||(e.DATARV_ERROR={}));var n=(e.DATARV_ERROR,function(){function t(t){this._errorCode=0,this._errorCode=t}return t.prototype.ErrorCode=function(){return this._errorCode},t.prototype.toString=function(){switch(this._errorCode){case 0:return"DATARV_ERROR_OK";case 1:return"Event is invalid. Either event.Id is empty, or event.Timestamp is empty, or event.EventType is empty.";case 2:return"Invalid configuration. CollectorUrl is missing.";case 3:return"DATARV_ERROR_INVALID_DEPENDENCIES";case 4:return"Telemetry Manager is not initialized.";case 5:return"TenantToken is null or empty, or events is null.";default:return"Unknown error"}},t}());e.Exception=n;var i=function(){function t(){}return t}();e.TelemetryConfig=i;var r=function(){function t(){}return t.CreateTelemetryManager=function(){return new a},t}();e.TelemetryManagerFactory=r;var o,s=function(){function t(){}return t.MaxPackageSizeInBytes=function(){return 3e6},t.TimeIntervalForNextSendInMS=function(){return 1e3},t}();!function(t){t[t.Created=0]="Created",t[t.Initialized=1]="Initialized",t[t.Started=2]="Started"}(o||(o={}));var a=function(){function e(){this._MaxPackageSizeInBytes=s.MaxPackageSizeInBytes(),this._listeners=[],this._status=0,this._ecsClient=null,this._etag=null,this._ecsCallback=null,this._testServerResponseHook=null}return e.prototype.Initialize=function(t){if(0!=this._status)throw new n(4);if(!t||!t.collectorUrl)throw new n(2);this._config=t,this._Reset(),this._status=1,t.ecsClient&&(this._Verbose("ECS object assigned. Do integration"),this._ecsClient=t.ecsClient),this._Verbose("Initialize() done")},e.prototype.AddListener=function(t){if(this._status<1)throw new n(4);this._Verbose(["AddListener(), status: ",this._status," old length: ",this._listeners.length," func: ",t].join(""));for(var e=0;e<this._listeners.length;++e)if(this._listeners[e]==t)return void this._Verbose("the listener has been added already, index: "+e);this._listeners.push(t),this._Verbose("AddListener() done, the new length: "+this._listeners.length)},e.prototype.RemoveListener=function(t){if(this._status<1)throw new n(4);this._Verbose(["RemoveListener(), status: ",this._status," old length: ",this._listeners.length," func: ",t].join(""));for(var e=0;e<this._listeners.length;++e)if(this._listeners[e]==t)return 1==this._listeners.length?this._listeners=[]:e==this._listeners.length-1?this._listeners.pop():this._listeners[e]=this._listeners.pop(),void this._Verbose(["this listener has been found, index: ",e,"new length: ",this._listeners.length].join(""));this._Verbose("listener isn't been found, new length"+this._listeners.length)},e.prototype.Start=function(){if(this._status<1)throw new n(4);this._Verbose(["Start(), status:",this._status,"tag:",e._tag].join(" ")),this._status>=2&&this._Verbose("Start() already, ignore"),this._ecsClient&&(this._ecsCallback=this._CreateEcsCallback(),this._ecsClient.AddListener(this._ecsCallback),this._etag=this._ecsClient.GetETag()),++e._tag,this._status=2,this._Verbose(["Start() done, status: ",this._status,"tag: ",e._tag].join(""))},e.prototype.Stop=function(){if(this._status<1)throw new n(4);return this._Verbose("Stop(), status: "+this._status),1==this._status?void this._Verbose("Stop() already, ignore"):(this._Reset(),this._status=1,void this._Verbose("Stop() done, status: "+this._status))},e.prototype.Flush=function(t){this._eventsCache.IsEmpty()||this._WorkThread(t)},e.prototype.SendAsync=function(t,i){if(this._status<1)throw new n(4);if(this._Verbose(["SendAsync(), status:",this._status,"tenantToken:",t,"count:",i.length].join(" ")),this._status<2)return this._Info("SendAsync(), not started, ignore, return false"),!1;if(!t||!i)throw this._Error("SendAsync(), tenantToken or events is null or empty"),new n(5);for(var r=0;r<i.length;++r)if(!i[r].Id||!e._eventTypeRegex.test(i[r].EventType)||i[r].Timestamp.Equals("0"))throw this._Error(["eventId:",i[r].Id,"eventType:",i[r].EventType,"timestamp high:",i[r].Timestamp.high,"timestamp low:",i[r].Timestamp.low].join("")),new n(1);return this._eventsCache.AddEvents(t,i),this._Verbose(["SendAsync(), currentTimer: ",this._timer,"eventsCacheIsEmpty",this._eventsCache.IsEmpty()].join(" ")),this._eventsCache.IsEmpty()||this._timer||this._ScheduleTimer(!1),this._Verbose("SendAsync() done"),!0},e.prototype._WorkThread=function(t){var n=this;try{if(this._Verbose("_WorkThread, status: "+this._status),this._status<2)return void this._Verbose("_WorkThread, status is not started, return");var i=this._eventsCache.DequeuEvents();if(null==i)return this._Verbose("_WorkThread, No events found, return"),void this._CleanTimer();var r=this._PackEvents(i.tenantToken,i.events);if(this._eventsCache.AddEvents(i.tenantToken,r.remainedEvents),null==r.buffer||0==r.buffer.length)return void(this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1)));if(this._testServerResponseHook){var o=this._testServerResponseHook();return void setTimeout(this._SendCallback(a,i.tenantToken,r.sendEvents,o,null),100)}var s={type:"POST",url:this._config.collectorUrl,processData:!1,headers:{"content-type":"application/bond-compact-binary","client-id":"NO_AUTH","sdk-version":"ACT-Web-JS-"+clienttelemetry_build.version},complete:function(e){return n._SendCallback(a,i.tenantToken,r.sendEvents,e,t)}};sct.Utils.IsSafari()||"undefined"==typeof Uint8Array?(this._Verbose("Uint8Array is undefined, send with base64 encode."),s.data=Microsoft.Bond.Encoding.Base64.GetString(r.buffer),s.headers["content-encoding"]="base64"):(this._Verbose("Uint8Array is defined, send with binary format directly."),s.data=new Uint8Array(r.buffer)),i.tenantToken&&(s.headers["x-apikey"]=i.tenantToken);var a=e._tag;this._lastActiveTime=(new Date).getTime(),sct.Utils.ajax(s),this._Verbose("_Workthread, send via jquery, tag: "+a)}catch(u){this._Error("_WorkThread, exception: "+u)}},e.prototype._PackEvents=function(e,n){this._Verbose("_PackageEvents, total Count: "+n.length);var i=new t.datamodels.ClientToCollectorRequest,r=new t.datamodels.DataPackage;r.Source="JS_default_source",r.DataPackageId=t.datamodels.utils.GetGuid(),r.Timestamp=t.datamodels.utils.GetTimeStamp();var o,s=n;for(n=[];;){if(r.Records=[],r.Records.push.apply(r.Records,s),i.DataPackages=[],i.DataPackages.push(r),o=this._Serialize(i),this._Verbose(["_PackageEvents, sendEvents.length:",s.length,"buffer.length:",o.length,"MaxPackageSize:",this._MaxPackageSizeInBytes].join("")),o.length<this._MaxPackageSizeInBytes)break;if(1==s.length){s=[],o=null;break}var a=s.splice(0,Math.floor(s.length/2));this._Verbose("_PackageEvents, too large, package again"),n.push.apply(n,s),s=a}return this._Verbose(["_PakcageEvents done, sendEventsCount:",s.length,"buffer.length:",null==o?0:o.length,"remained events:",n.length].join("")),{buffer:o,sendEvents:s,remainedEvents:n}},e.prototype._Serialize=function(t){var e=new Microsoft.Bond.IO.MemoryStream,n=new Microsoft.Bond.CompactBinaryProtocolWriter(e);return t.Write(n),e.GetBuffer()},e.prototype._SendCallback=function(t,n,i,r,o){if(this._Verbose(["_SendCallback","tag:",t,"current tag:",e._tag,"tenantToken:",n,"events count:",i.length,"jqXHR:",r].join("")),null!=o)return void o(r?r.status:0,n,i);var s=null!=r&&r.status>=200&&r.status<300;if(this._status<2||t<e._tag)return void this._Verbose("_SendCallback, is not started, or tag is not the same, return");if(!s&&(!r||r.status&&400!=r.status))return this._Verbose("retry statusCode: "+(r?r.status:0)),this._eventsCache.AddEvents(n,i),void this._ScheduleTimer(!0);for(var a=0;a<this._listeners.length;++a)this._listeners[a](s?0:1,r?r.status:0,n,i);this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1))},e.prototype._CleanTimer=function(){this._Verbose("_CleanTimer(), timer: "+this._timer),this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._ScheduleTimer=function(t){var e=this;if(this._Verbose("_ScheduleTimer: isRetry: "+t),this._CleanTimer(),t){this._Verbose("_ScheduleTimer, current factor: "+this._rescheduleFactor);var n=Math.floor(5*this._rescheduleFactor*(1+Math.random()));this._timer=setTimeout(function(){return e._WorkThread(null)},1e3*n),this._Verbose("_ScheduleTimer, next try (s): "+n),this._rescheduleFactor<<=1,this._rescheduleFactor>64&&(this._rescheduleFactor=1)}else{var n=0,i=(new Date).getTime(),r=i-this._lastActiveTime;n=r>s.TimeIntervalForNextSendInMS()?0:s.TimeIntervalForNextSendInMS()-r,this._timer=setTimeout(function(){return e._WorkThread(null)},n),this._Verbose("_ScheduleTimer, next try: "+n),this._rescheduleFactor=1}},e.prototype._Verbose=function(t){this._config.log&&this._config.log.Verbose("[TelemetryManagerImpl]: "+t)},e.prototype._Info=function(t){this._config.log&&this._config.log.Info("[TelemetryManagerImpl]: "+t)},e.prototype._Error=function(t){this._config.log&&this._config.log.Error("[TelemetryManagerImpl]: "+t)},e.prototype._Reset=function(){this._Verbose("Reset()"),this._CleanTimer(),this._lastActiveTime=0,this._rescheduleFactor=1,this._sendingEvents=[],this._eventsCache=new u,this._ecsClient&&(this._ecsClient.RemoveListener(this._ecsCallback),this._ecsCallback=null)},e.prototype._CreateEcsCallback=function(){var t=this;return function(e){0==e&&(t._etag=t._ecsClient.GetETag())}},e.prototype.__GetListenerArray=function(){return this._listeners},e.prototype.__GetTotalEventsCount=function(){return this._eventsCache.GetTotalEventsCount()},e.prototype.__IsScheduled=function(){return null!=this._timer},e.prototype.__ChageMaxPackageSizeInKB=function(t){this._MaxPackageSizeInBytes=1024*t},e.prototype.__SetTestServerResponseHook=function(t){this._testServerResponseHook=t},e._eventTypeRegex=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,e._tag=0,e}(),u=function(){function t(){this._events={},this._tokens=[]}return t.prototype.AddEvents=function(t,e){e.length&&(this._events[t]||(this._events[t]=[],this._tokens.push(t)),this._events[t].push.apply(this._events[t],e))},t.prototype.IsEmpty=function(){return 0==this._tokens.length},t.prototype.DequeuEvents=function(){if(0==this._tokens.length)return null;var t=this._tokens.shift(),e=this._events[t];return delete this._events[t],{tenantToken:t,events:e}},t.prototype.GetTotalEventsCount=function(){var t=0;for(var e in this._events)t+=this._events[e].length;return t},t}()}(t._sender||(t._sender={}));t._sender}(t.telemetry||(t.telemetry={}));t.telemetry}(t.applications||(t.applications={}));t.applications}(microsoft||(microsoft={}));var microsoft;!function(t){!function(t){!function(t){var e=t._sender.TelemetryManagerFactory.CreateTelemetryManager(),n=function(){
function t(){this.collectorUrl=null}return t}();t.LogConfiguration=n;var i=function(){function t(){this.key=null,this.value=null,this.pii=null}return t}();t.Property=i;var r=function(){function t(){this.name=null,this.timestamp=null,this.properties=[],this.eventType=null}return t.prototype.setProperty=function(e,n,i){if(!e||!t._propertyNameRegex.test(e))throw new o(3);this.properties.push(i?{key:e,value:n,pii:0!=i?i:null}:{key:e,value:n,pii:null})},t._propertyNameRegex=/^[a-zA-Z0-9](([a-zA-Z0-9|_]){0,98}[a-zA-Z0-9])?$/,t}();t.EventProperties=r,function(t){t[t.INVALID_TENANT_TOKEN=1]="INVALID_TENANT_TOKEN",t[t.MISSING_EVENT_PROPERTIES_NAME=2]="MISSING_EVENT_PROPERTIES_NAME",t[t.INVALID_PROPERTY_NAME=3]="INVALID_PROPERTY_NAME",t[t.INVALID_COLLECTOR_URL=4]="INVALID_COLLECTOR_URL",t[t.MISSING_FAILURE_SIGNATURE=5]="MISSING_FAILURE_SIGNATURE",t[t.MISSING_FAILURE_DETAIL=6]="MISSING_FAILURE_DETAIL",t[t.MISSING_PAGEVIEW_ID=7]="MISSING_PAGEVIEW_ID",t[t.MISSING_PAGEVIEW_NAME=8]="MISSING_PAGEVIEW_NAME",t[t.INVALID_SESSION_STATE=9]="INVALID_SESSION_STATE"}(t.TelemetryError||(t.TelemetryError={}));var o=(t.TelemetryError,function(){function t(t){this.errorCode=null,this.errorCode=t}return t.prototype.ErrorCode=function(){return this.errorCode},t.prototype.toString=function(){switch(this.errorCode){case 1:return"Invalid tenant token";case 2:return"Eventproperties.name can not be null or empty";case 3:return"Invalid Key. Key does not conform to regular expression ^[a-zA-Z0-9](([a-zA-Z0-9|_|.]){0,98}[a-zA-Z0-9])?$";case 4:return"Collector url can't be null or empty.";case 5:return"Failure signature can't be null or empty.";case 6:return"Failure detail can't be null or empty.";case 7:return"Pageview id can't be null or empty.";case 8:return"Pageview name can't be null or empty.";case 9:return"Session state has to be a value from the SessionState enum.";default:return"Unknown error"}},t}());t.Exception=o;var s=function(){function t(){this.contextMap=new Microsoft.Bond.Collections.Map,this.piiKind=10}return t.prototype.setAppId=function(t){t&&this.contextMap.Add("AppInfo.Id",t)},t.prototype.setAppVersion=function(t){t&&this.contextMap.Add("AppInfo.Version",t)},t.prototype.setAppLanguage=function(t){t&&this.contextMap.Add("AppInfo.Language",t)},t.prototype.setDeviceId=function(t){t&&this.contextMap.Add("DeviceInfo.Id",t)},t.prototype.setDeviceOsName=function(t){t&&this.contextMap.Add("DeviceInfo.OsName",t)},t.prototype.setDeviceOsVersion=function(t){t&&this.contextMap.Add("DeviceInfo.OsVersion",t)},t.prototype.setDeviceBrowserName=function(t){t&&this.contextMap.Add("DeviceInfo.BrowserName",t)},t.prototype.setDeviceBrowserVersion=function(t){t&&this.contextMap.Add("DeviceInfo.BrowserVersion",t)},t.prototype.setUserId=function(t,e){t&&this.contextMap.Add("UserInfo.Id",t),e&&(this.piiKind=e)},t.prototype.setUserMsaId=function(t){t&&this.contextMap.Add("UserInfo.MsaId",t)},t.prototype.setUserANID=function(t){t&&this.contextMap.Add("UserInfo.ANID",t)},t.prototype.setUserAdvertisingId=function(t){t&&this.contextMap.Add("UserInfo.AdvertisingId",t)},t.prototype.setUserTimeZone=function(t){t&&this.contextMap.Add("UserInfo.TimeZone",t)},t.prototype.setUserLanguage=function(t){t&&this.contextMap.Add("UserInfo.Language",t)},t}(),a=function(){function e(){}return e.initialize=function(){var t=document.documentElement.lang;t&&e.semanticContext.setAppLanguage(t);var n=window.navigator.userLanguage||window.navigator.language;n&&e.semanticContext.setUserLanguage(n);var i=(new Date).getTimezoneOffset(),r=i%60,o=(i-r)/60,s="+";o>0&&(s="-"),e.semanticContext.setUserTimeZone(s+(10>o?"0"+o:o.toString())+":"+(10>r?"0"+r:r.toString())),e.semanticContext.setDeviceBrowserName(e._getBrowserName()),e.semanticContext.setDeviceBrowserVersion(e._getBrowserVersion()),e.semanticContext.setDeviceOsName(e._getOsName()),e.semanticContext.setDeviceOsVersion(e._getOsVersion()),e._setupCookies()},e._setupCookies=function(){var n=e._getCookie(e.DEVICE_ID_COOKIE);""==n?(n=t.datamodels.utils.GetGuid(),e._setCookie(e.DEVICE_ID_COOKIE,n),e.semanticContext.setDeviceId(n)):e.semanticContext.setDeviceId(n);var i=e._getCookie(e.FIRST_LAUNCH_TIME_COOKIE);""==i&&(i=(new Date).getTime().toString(),e._setCookie(e.FIRST_LAUNCH_TIME_COOKIE,i)),e.firstLaunchTime=parseInt(i)},e._setCookie=function(t,e){var n="expires=Mon, 31 Dec 2029 23:59:59 GMT";document.cookie=t+"="+e+"; "+n},e._getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i],o=0;" "==r.charAt(o);)o++;if(r=r.substring(o),0==r.indexOf(e))return r.substring(e.length,r.length)}return""},e._getUserAgent=function(){return window.navigator.userAgent},e._userAgentContainsString=function(t){return e._getUserAgent().indexOf(t)>-1},e._isIe=function(){return e._userAgentContainsString("Trident")},e._isEdge=function(){return e._userAgentContainsString(e.BROWSERS.EDGE)},e._isOpera=function(){return e._userAgentContainsString("OPR/")},e._getBrowserName=function(){return e._isOpera()?e.BROWSERS.UNKNOWN:e._userAgentContainsString(e.BROWSERS.PHANTOMJS)?e.BROWSERS.PHANTOMJS:e._isEdge()?e.BROWSERS.EDGE:e._userAgentContainsString(e.BROWSERS.ELECTRON)?e.BROWSERS.ELECTRON:e._userAgentContainsString(e.BROWSERS.CHROME)?e.BROWSERS.CHROME:e._userAgentContainsString(e.BROWSERS.FIREFOX)?e.BROWSERS.FIREFOX:e._userAgentContainsString(e.BROWSERS.SAFARI)?e.BROWSERS.SAFARI:e._userAgentContainsString(e.BROWSERS.SKYPE_SHELL)?e.BROWSERS.SKYPE_SHELL:e._isIe()?e.BROWSERS.MSIE:e.BROWSERS.UNKNOWN},e._getBrowserVersion=function(){function t(){var t,n=e._getUserAgent(),i=n.match(new RegExp(e.BROWSERS.MSIE+" "+e.REGEX_VERSION));return i?i[1]:(t=n.match(new RegExp("rv:"+e.REGEX_VERSION)))?t[1]:void 0}function n(t){var n;return t===e.BROWSERS.SAFARI&&(t="Version"),n=e._getUserAgent().match(new RegExp(t+"/"+e.REGEX_VERSION)),n?n[1]:e.UNKNOWN_VERSION}return e._isIe()?t():n(e._getBrowserName())},e._getOsName=function(){var t=/(windows|win32)/i,n=/ arm;/i,i=/windows\sphone\s\d+\.\d+/i,r=/(macintosh|mac os x)/i,o=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,s=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,a=/android/i;return e._getUserAgent().match(i)?e.OPERATING_SYSTEMS.WINDOWS_PHONE:e._getUserAgent().match(n)?e.OPERATING_SYSTEMS.WINDOWS_RT:e._getUserAgent().match(o)?e.OPERATING_SYSTEMS.IOS:e._getUserAgent().match(a)?e.OPERATING_SYSTEMS.ANDROID:e._getUserAgent().match(s)?e.OPERATING_SYSTEMS.LINUX:e._getUserAgent().match(r)?e.OPERATING_SYSTEMS.MACOSX:e._getUserAgent().match(t)?e.OPERATING_SYSTEMS.WINDOWS:e.OPERATING_SYSTEMS.UNKNOWN},e._getOsVersion=function(){function t(){var t=e._getUserAgent().match(new RegExp("Windows NT "+e.REGEX_VERSION));return t&&e.VERSION_MAPPINGS[t[1]]?e.VERSION_MAPPINGS[t[1]]:e.UNKNOWN_VERSION}function n(){var t=e._getUserAgent().match(new RegExp(e.OPERATING_SYSTEMS.MACOSX+" "+e.REGEX_VERSION_MAC));if(t){var n=t[1].replace(/_/g,"."),r=[];if(n){var o=i(n);return o?(r=n.split(o),r[0]):n}}return e.UNKNOWN_VERSION}function i(t){return t.indexOf(".")>-1?".":t.indexOf("_")>-1?"_":null}return e._getOsName()===e.OPERATING_SYSTEMS.WINDOWS?t():e._getOsName()===e.OPERATING_SYSTEMS.MACOSX?n():e.UNKNOWN_VERSION},e.semanticContext=new s,e.firstLaunchTime=-1,e.BROWSERS={MSIE:"MSIE",CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",EDGE:"Edge",ELECTRON:"Electron",SKYPE_SHELL:"SkypeShell",PHANTOMJS:"PhantomJS",UNKNOWN:"Unknown"},e.OPERATING_SYSTEMS={WINDOWS:"Windows",MACOSX:"Mac OS X",WINDOWS_PHONE:"Windows Phone",WINDOWS_RT:"Windows RT",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNKNOWN:"Unknown"},e.VERSION_MAPPINGS={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},e.REGEX_VERSION="([\\d,.]+)",e.REGEX_VERSION_MAC="([\\d,_,.]+)",e.UNKNOWN_VERSION="Unknown",e.DEVICE_ID_COOKIE="MicrosoftApplicationsTelemetryDeviceId",e.FIRST_LAUNCH_TIME_COOKIE="MicrosoftApplicationsTelemetryFirstLaunchTime",e}();!function(t){t[t.STARTED=0]="STARTED",t[t.ENDED=1]="ENDED"}(t.SessionState||(t.SessionState={}));var u=(t.SessionState,function(){function n(){}return n.initialize=function(t){if(!n._initialized){if(!t)throw new o(1);n._defaultToken=t,n._config.collectorUrl||(n._config.collectorUrl="https://browser.pipe.aria.microsoft.com/Collector/3.0/"),e.Initialize(n._config),e.Start(),a.initialize(),n._initialized=!0}},n.initializeWithConfiguration=function(t,e){if(!e.collectorUrl)throw new o(4);n._config.collectorUrl=e.collectorUrl,n.initialize(t)},n.flush=function(t){e.Flush(t)},n.addCallbackListener=function(t){n._initialized&&e.AddListener(t)},n.setContext=function(t,e,i){n._contextProperties.setProperty(t,e,i)},n.isInitialized=function(){return n._initialized},n.getDefaultToken=function(){return n._defaultToken},n.getSemanticContext=function(){return n._semanticContext},n.__backToUninitialized=function(){n._config=new t._sender.TelemetryConfig,n._semanticContext=new s,n._contextProperties=new r,e=t._sender.TelemetryManagerFactory.CreateTelemetryManager(),n._initialized=!1},n._initialized=!1,n._defaultToken=null,n._config=new t._sender.TelemetryConfig,n._contextProperties=new r,n._semanticContext=new s,n}());t.LogManager=u;var c=function(){function n(e){this._initId=t.datamodels.utils.GetGuid(),this._sequence=0,this._tenantToken=null,this._contextProperties=new r,this._semanticContext=new s,this._sessionStartTime=0,this._sessionId=null,this._tenantToken=e?e:u.getDefaultToken()}return n.prototype.logEvent=function(t){if(!t.name)throw new o(2);var e=this._createEventRecord(t.name,t.eventType);this._addCustomPropertiesToEvent(e,t),this._sendRecord(e)},n.prototype.logFailure=function(t,e,n,i,r){if(!t)throw new o(5);if(!e)throw new o(6);var s=this._createEventRecord("failure","failure");s.Extension.Add("Failure.Signature",t),s.Extension.Add("Failure.Detail",e),n&&s.Extension.Add("Failure.Category",n),i&&s.Extension.Add("Failure.Id",i),this._addCustomPropertiesToEvent(s,r),this._sendRecord(s)},n.prototype.logPageView=function(t,e,n,i,r,s){if(!t)throw new o(7);if(!e)throw new o(8);var a=this._createEventRecord("pageview","pageview");a.Extension.Add("PageView.Id",t),a.Extension.Add("PageView.Name",e),n&&a.Extension.Add("PageView.Category",n),i&&a.Extension.Add("PageView.Uri",i),r&&a.Extension.Add("PageView.ReferrerUri",r),this._addCustomPropertiesToEvent(a,s),this._sendRecord(a)},n.prototype.logSession=function(e,n){if(0!==e&&1!==e)throw new o(9);var i=this._createEventRecord("session","session");if(0===e){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=t.datamodels.utils.GetGuid(),i.Extension.Add("Session.Id",this._sessionId),i.Extension.Add("Session.State","Started")}else if(1===e){if(0==this._sessionStartTime)return;var r=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);i.Extension.Add("Session.Duration",r.toString()),i.Extension.Add("Session.DurationBucket",this._getSessionDurationFromTime(r)),i.Extension.Add("Session.Id",this._sessionId),i.Extension.Add("Session.State","Ended"),this._sessionId=null,this._sessionStartTime=0}i.Extension.Add("Session.FirstLaunchTime",this._getISOString(new Date(a.firstLaunchTime))),this._addCustomPropertiesToEvent(i,n),this._sendRecord(i)},n.prototype.getSessionId=function(){return this._sessionId},n.prototype.setContext=function(t,e,n){this._contextProperties.setProperty(t,e,n)},n.prototype.getSemanticContext=function(){return this._semanticContext},n.prototype._getSessionDurationFromTime=function(t){return 0>t?"Undefined":3>=t?"UpTo3Sec":10>=t?"UpTo10Sec":30>=t?"UpTo30Sec":60>=t?"UpTo60Sec":180>=t?"UpTo3Min":600>=t?"UpTo10Min":1800>=t?"UpTo30Min":"Above30Min"},n.prototype._createEventRecord=function(e,n){var i=new t.datamodels.Record;n||(n="custom"),i.EventType=e.toLowerCase(),i.Type=n.toLowerCase(),i.Extension.Add("EventInfo.Source","JS_default_source"),i.Extension.Add("EventInfo.InitId",this._initId),this._sequence++,i.Extension.Add("EventInfo.Sequence",this._sequence.toString()),i.Extension.Add("EventInfo.Name",e.toLowerCase());var r=new Date;return i.Timestamp=t.datamodels.utils.GetTimeStampWithValue(r.getTime()),i.Extension.Add("EventInfo.Time",this._getISOString(r)),i.Extension.Add("EventInfo.SdkVersion","ACT-Web-JS-"+clienttelemetry_build.version),i},n.prototype._getISOString=function(t){function e(t){return 10>t?"0"+t:t.toString()}function n(t){return 10>t?"00"+t:100>t?"0"+t:t.toString()}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+":"+n(t.getUTCMilliseconds())+"Z"},n.prototype._addCustomPropertiesToEvent=function(t,e){this._addSemanticContext(t,a.semanticContext),this._addSemanticContext(t,u._semanticContext),this._addSemanticContext(t,this._semanticContext),this._sessionId&&t.Extension.Add("Session.Id",this._sessionId),this._addEventPropertiesToEvent(t,u._contextProperties),this._addEventPropertiesToEvent(t,this._contextProperties),this._addEventPropertiesToEvent(t,e)},n.prototype._addSemanticContext=function(t,e){if(e&&e.contextMap.Count()>0)for(var n=e.contextMap.GetBuffer(),i=0;i<n.length;i++)"UserInfo.Id"==n[i].Key&&0!=e.piiKind?t.AddOrReplacePII(n[i].Key,n[i].Value,e.piiKind):t.Extension.AddOrReplace(n[i].Key,n[i].Value)},n.prototype._addEventPropertiesToEvent=function(e,n){if(n){n.timestamp&&n.timestamp>=new Date("1/1/2000").getTime()&&(e.Timestamp=t.datamodels.utils.GetTimeStampWithValue(n.timestamp),e.Extension.AddOrReplace("EventInfo.Time",new Date(n.timestamp).toISOString())),n.name&&(e.EventType=n.name.toLowerCase(),e.Extension.AddOrReplace("EventInfo.Name",n.name.toLowerCase()));var i=n.properties;if(i&&i.length>0)for(var r=0;r<i.length;r++)i[r].key&&"string"==typeof i[r].key&&(i[r].value||0==i[r].value||0==i[r].value||""==i[r].value)&&(this._isPii(i[r].pii)?(e.AddOrReplacePII(i[r].key,i[r].value.toString(),i[r].pii),e.Extension.Remove(i[r].key)):(e.Extension.AddOrReplace(i[r].key,i[r].value.toString()),e.PIIExtensions.Remove(i[r].key)))}},n.prototype._isPii=function(e){if(0==e)return!1;var n=!1;for(var i in t.datamodels.PIIKind)isNaN(i)||i==e&&(n=!0);return n},n.prototype._sendRecord=function(t){u.isInitialized()&&e.SendAsync(this._tenantToken,[t])},n}();t.Logger=c}(t.telemetry||(t.telemetry={}));t.telemetry}(t.applications||(t.applications={}));t.applications}(microsoft||(microsoft={}));var mwfVideoPlayer=function(e){function t(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var r,o;r=[i,t,i(3),i(9),i(35),i(21),i(20),i(22),i(23),i(19),i(24),i(8),i(11),i(2),i(4),i(1),i(32),i(31),i(17),i(10),i(34),i(33),i(29),i(28),i(30),i(18),i(27),i(7),i(26),i(25)],o=function(e,t,i,r,o,n,a,s,l,u,c,d,p,h,y,g,m,v,f,C,b,M,S,w,T,P,k,E,x,L){"use strict";function I(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}I(i),I(r),I(o),I(n),I(a),I(s),I(l),I(u),I(c),I(d),I(p),I(h),I(y),I(g),I(m),I(v),I(f),I(C),I(b),I(M),I(S),I(w),I(T),I(P),I(k),I(E),I(x),I(L)}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(2)],o=function(e,t,i){"use strict";var r=function(){function e(){}return e.resourcePath="//assets.onestore.ms/cdnfiles/external/mwf/long/v1/v1.23.1//resources",e.localResourcePath="/resources",e.ampUrl="//amp.azure.net/libs/amp/1.8.0/azuremediaplayer.min.js",e.continueInterval=2e4,e.firstByteTimeoutVideoMobile=2e4,e.firstByteTimeoutVideoDesktop=1e4,e.defaultVolume=.75,e.checkpoints=[25,50,75,95],e.playbackRates=[2,1.5,1.25,1,.75,.5],e.defaultPlaybackRate=1,e.defaultQualityMobile=i.MediaQuality.SD,e.defaultQualityTV=i.MediaQuality.SD,e.defaultQualityDesktop=i.MediaQuality.HQ,e}();t.PlayerConfig=r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t],o=function(e,t){"use strict";!function(e){e[e.MP4="MP4"]="MP4",e[e.DASH="DASH"]="DASH",e[e.SMOOTH="SMOOTH"]="SMOOTH",e[e.HLS="HLS"]="HLS"}(t.MediaTypes||(t.MediaTypes={}));t.MediaTypes;!function(e){e[e.HD="HD"]="HD",e[e.HQ="HQ"]="HQ",e[e.SD="SD"]="SD",e[e.LO="LO"]="LO"}(t.MediaQuality||(t.MediaQuality={}));t.MediaQuality;!function(e){e[e.transcript="transcript"]="transcript",e[e.audio="audio"]="audio",e[e.video="video"]="video",e[e.videoWithCC="videoWithCC"]="videoWithCC"}(t.DownloadableMediaTypes||(t.DownloadableMediaTypes={}));t.DownloadableMediaTypes;!function(e){e[e.BufferingFirstByteTimeout=2e3]="BufferingFirstByteTimeout",e[e.MediaErrorAborted=2100]="MediaErrorAborted",e[e.MediaErrorNetwork=2101]="MediaErrorNetwork",e[e.MediaErrorDecode=2102]="MediaErrorDecode",e[e.MediaErrorSourceNotSupported=2103]="MediaErrorSourceNotSupported",e[e.MediaErrorUnknown=2104]="MediaErrorUnknown",e[e.MediaSelectionNoMedia=2200]="MediaSelectionNoMedia",e[e.AmpEncryptError=2405]="AmpEncryptError",e[e.AmpPlayerMismatch=2406]="AmpPlayerMismatch"}(t.VideoErrorCodes||(t.VideoErrorCodes={}));t.VideoErrorCodes}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(9),i(5),i(13),i(4),i(5),i(18),i(5),i(8)],o=function(e,t,i,r,o,n,a,s,l,u){"use strict";var c=function(){function e(t,i){if(this.videoComponent=t,this.playerData={},t){e.playerInstanceCount++,this.playerId=t.getAttribute("id"),this.playerId||(this.playerId="vid-"+e.playerInstanceCount,this.videoComponent.setAttribute("id",this.playerId)),s.PlayerUtility.createVideoPerfMarker(this.playerId,u.videoPerfMarkers.playerInit);var o="object"==typeof i?i:{};if(!i||!i.options){var a=this.videoComponent.getAttribute(e.playerDataAttribute);a&&(o=r.parseJson(a))}this.playerData.options=new n.PlayerOptions(o.options),this.playerData.metadata=o.metadata,this.playerData.options.autoload&&this.load()}}return e.prototype.updateContainerVisibility=function(e,t){if(e){var i=t?"true":"false";e.setAttribute("aria-hidden",i)}},e.prototype.load=function(t){t&&(a.extend(this.playerData.options,t.options),this.playerData.metadata=t.metadata),this.currentPlayer&&this.dispose(),this.playerData.options&&this.playerData.options.debug&&this.videoComponent.setAttribute("data-debug","true");var r=this.playerData.metadata&&this.playerData.metadata.playerName||e.defaultPlayerName;s.PlayerUtility.createVideoPerfMarker(this.playerId,u.videoPerfMarkers.playerLoadStart);var o=i.PlayerFactory.createPlayer(r,this.videoComponent,this.playerData);this.currentPlayer=o&&o.playerInstance},e.prototype.dispose=function(){this.currentPlayer&&(this.currentPlayer.dispose(),this.currentPlayer=null),o.removeInnerHtml(this.videoComponent)},e.prototype.play=function(){this.currentPlayer&&this.currentPlayer.play()},e.prototype.pause=function(){this.currentPlayer&&this.currentPlayer.pause()},e.prototype.mute=function(){this.currentPlayer&&this.currentPlayer.mute()},e.prototype.unmute=function(){this.currentPlayer&&this.currentPlayer.unmute()},e.selector=".c-video-player",e.typeName="VideoPlayer",e.corePlayerContainer=".f-core-player",e.externalPlayerContainer=".f-external-player",e.playerDataAttribute="data-player-data",e.defaultPlayerName="coreplayer",e.playerInstanceCount=0,e}();t.VideoPlayer=c,l.getPerfMarkerValue(u.videoPerfMarkers.scriptLoaded)||l.createPerfMarker(u.videoPerfMarkers.scriptLoaded,!0)}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(5),i(7),i(8)],o=function(e,t,i,r,o){"use strict";var n=function(){function e(e){this.autoload=!0,this.autoplay=!0,this.startTime=0,this.mute=!1,this.loop=!1,this.controls=!0,this.trigger=!0,this.theme="light",this.maskLevel="40",this.useHLS=!0,this.debug=!1,this.reporting={enabled:!0,jsll:!0,aria:!0},this.playbackSpeed=!1,this.interactiveTriggers=!1,this.share=!1,this.shareOptions=[o.shareTypes.facebook,o.shareTypes.twitter,o.shareTypes.linkedin,o.shareTypes.skype,o.shareTypes.mail,o.shareTypes.copy],this.download=!1,i.extend(this,e),r.Environment.isMobile&&(this.autoplay=!1),r.Environment.isIPhone&&(this.trigger=!1),e&&e.shareOptions&&(this.shareOptions=e.shareOptions)}return e}();t.PlayerOptions=n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(6)],o=function(e,t,i){"use strict";function r(e){return!isNaN(e)&&"number"==typeof e}function o(){var e=window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth;return e}function n(){return window.innerHeight&&document.documentElement.clientHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight}function a(e){if(null!=e)return{width:e.clientWidth,height:e.clientHeight}}function s(e){var t;if(e=e||window.event,!e)return t;if(t=e.key||e.keyIdentifier,!t)return t;switch(t){case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Esc":return"Escape";default:return t}}function l(e){return e=e||window.event,null==e?null:e.which||e.keyCode||e.charCode}function u(e,t,i,r){var o="";if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),o="; expires="+n.toUTCString()}window.document.cookie=e+"="+encodeURIComponent(t)+o+("; path="+i+";")}function c(e){if(e)for(var t=0,i=document.cookie.split("; ");t<i.length;t++){var r=i[t],o=r.indexOf("="),n=d(r.substring(0,o));if(n===e)return d(r.substring(n.length+1))}return null}function d(e){return e=decodeURIComponent(e.replace("/+/g"," ")),0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e}function p(e){if(e&&6===e.length){var t=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);if(!isNaN(t)&&!isNaN(i)&&!isNaN(r)){var o=(299*t+587*i+114*r)/255e3;return o>=.5?2:1}}return null}function h(e,t,i){return!!(i&&r(e)&&r(t)&&r(i.left)&&r(i.right)&&r(i.top)&&r(i.bottom))&&(e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom)}function y(e){console&&console.warn?console.warn(e):console&&console.error&&console.error(e)}function g(e,t){if((t||!(M("item").toLowerCase().indexOf("perf_marker_global:true")<0))&&!i.isNullOrWhiteSpace(e)&&window.performance&&window.performance.mark)/*!/#IFDEF perf_marker_global || log_define_timing */
{var r=e.split(" ").join("_");window.performance.mark(r),window.console&&window.console.timeStamp&&window.console.timeStamp(r)}}function m(e){if(i.isNullOrWhiteSpace(e)||!window.performance||!window.performance.mark)return 0;var t=e.split(" ").join("_"),r=window.performance.getEntriesByName(t);return r&&r.length?Math.round(r[r.length-1].startTime):0}function v(e,t){if(!r(e)||e<=0)return"00:00";var i=Math.floor(e/3600),o=e%3600,n=Math.floor(o/60),a="";return a=t?i>0?i+":":"00:":i>0?i+":":"",e=Math.floor(o%60),a+=(n<10?"0":"")+n,a+=":"+(0===e?"00":(e<10?"0":"")+e)}function f(e){if(!JSON||!JSON.parse)throw new Error("JSON.parse unsupported.");if(!e)throw new Error("Invalid json.");return JSON.parse(e)}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(!e||!e.length)return null;var i="boolean"==typeof e[0]&&e[0];if(e.length<2)return i?null:e[0];if(i&&e.length<3)return e[1];for(var r=i?e[1]:e[0],o=i?2:1;o<e.length;o++)for(var n in e[o])if(e[o].hasOwnProperty(n)){var a=e[o][n];if(i){var s=Array.isArray?Array.isArray(a):"[object Array]"==={}.toString.call(a),l=!!r[n]&&(Array.isArray?Array.isArray(r[n]):"[object Array]"==={}.toString.call(r[n])),u=!s&&"object"==typeof a,c=!l&&!!r[n]&&"object"==typeof r[n];if(s&&l){for(var d=0;d<a.length;d++)s=Array.isArray?Array.isArray(a[d]):"[object Array]"==={}.toString.call(a[d]),l=!!r[n][d]&&(Array.isArray?Array.isArray(r[n][d]):"[object Array]"==={}.toString.call(r[n][d])),u=!s&&"object"==typeof a[d],c=!l&&!!r[n][d]&&"object"==typeof r[n][d],s?r[n][d]=C(!0,l?r[n][d]:[],a[d]):u?r[n][d]=C(!0,c?r[n][d]:{},a[d]):r[n][d]=a[d];continue}if(s){r[n]=C(!0,[],a);continue}if(u){r[n]=C(!0,c?r[n]:{},a);continue}}r[n]=a}return r}function b(e,t,i,r,o){var n=!i||i<0?-1:Number(new Date)+i;t=t||100,function i(){var a=e();if(a&&r)r();else{if(a)return;if(n===-1||Number(new Date)<n)setTimeout(i,t);else{if(!o)return;o()}}}()}function M(e){e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[\\?&]"+e.toLowerCase()+"=([^&#]*)"),i=t.exec(location.search.toLowerCase());return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function S(e,t){if(!t)return e;if(e.indexOf("//")===-1)throw'To avoid unexpected results in URL parsing, url must begin with "http://", "https://", or "//"';var i=document.createElement("a");i.href=e,i.search=(i.search?i.search+"&":"?")+t;var r=i.href;return i=null,r}function w(e,t){if(window.sessionStorage&&e&&t)try{sessionStorage.setItem(e,t)}catch(e){}}function T(e){if(!window.sessionStorage||!e)return null;try{return sessionStorage.getItem(e)}catch(e){return null}}function P(e,t){if(window.localStorage&&e&&t)try{localStorage.setItem(e,t)}catch(e){}}function k(e){if(!window.localStorage||!e)return null;try{return localStorage.getItem(e)}catch(e){return null}}t.isNumber=r,t.getWindowWidth=o,t.getWindowHeight=n,t.getDimensions=a,t.getVirtualKey=s,t.getKeyCode=l,t.setCookie=u,t.getCookie=c,t.detectContrast=p,t.pointInRect=h,t.apiDeprecated=y,t.createPerfMarker=g,t.getPerfMarkerValue=m,t.toElapsedTimeString=v,t.parseJson=f,t.extend=C,t.poll=b,t.getQSPValue=M,t.addQSP=S,t.saveToSessionStorage=w,t.getValueFromSessionStorage=T,t.saveToLocalStorage=P,t.getValueFromLocalStorage=k;var E;!function(e){function t(){if(window.matchMedia){for(var t=0;t<e.allWidths.length;++t)if(!window.matchMedia("(min-width:"+e.allWidths[t]+"px)").matches)return t}else for(var t=0;t<e.allWidths.length;++t)if(!(o()>=e.allWidths[t]))return t;return e.allWidths.length}e.allWidths=[320,540,768,1084,1400,1779],e.vpMin=e.allWidths[0],e.vpMax=2048,e.getViewport=t}(E=t.Viewports||(t.Viewports={}))}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t],o=function(e,t){"use strict";function i(e){return!e||!r(e)}function r(e){return e?e.trim?e.trim():e.replace(/^\s+|\s+$/g,""):e}function o(e,t,i){return void 0===i&&(i=!0),!(!e||!t)&&(i&&(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase()),e.startsWith?e.startsWith(t):0===e.indexOf(t))}function n(e,t,i){return void 0===i&&(i=!0),!(!e||!t)&&(i&&(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase()),e.endsWith?e.endsWith(t):e.lastIndexOf(t)===e.length-t.length)}function a(e,t,i){if(void 0===i&&(i=!0),!e||!t)return 0;var r=0;for(i&&(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase());e.charCodeAt(r)===t.charCodeAt(r);)r++;return r}function s(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return e.replace(/{(\d+)}/g,function(e,i){if(i>=t.length)return e;var r=t[i];return"number"==typeof r||r?"string"==typeof r?r:r.toString():""})}t.isNullOrWhiteSpace=i,t.trim=r,t.startsWith=o,t.endsWith=n,t.getMatchLength=a,t.format=s}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t],o=function(e,t){"use strict";var i=function(){function e(){}return e.userAgent=navigator.userAgent,e.isWindowsPhone=!!e.userAgent.match(/Windows Phone/i),e.isSilk=!!e.userAgent.match(/Silk/i),e.hasSilkVersion=/\bSilk\/(\d+)\.(\d+)/.test(e.userAgent),e.silkMajor=e.hasSilkVersion?Number(RegExp.$1):0,e.silkMinor=e.hasSilkVersion?Number(RegExp.$2):0,e.isSilkModern=e.silkMajor>3||e.silkMajor>=3&&e.silkMinor>=5,e.isAndroid=!e.isWindowsPhone&&(e.isSilk||!!e.userAgent.match(/Android/i)),e.androidVersion=/Android (\d+\.\d+)/i.test(e.userAgent)?Number(RegExp.$1):e.hasSilkVersion?e.isSilkModern?4:1:0,e.isIPhone=!!e.userAgent.match(/iPhone/i)||!!e.userAgent.match(/iPod/i),e.isIPad=!!e.userAgent.match(/iPad/i),e.isIProduct=e.isIPad||e.isIPhone,e.isBlackBerry=!!e.userAgent.match(/BlackBerry/i),e.isHtcWindowsPhone=e.isWindowsPhone&&!!e.userAgent.match(/HTC/i),e.windowsVersion=/Windows NT(\s)*(\d+\.\d+)/.test(e.userAgent)?parseFloat(RegExp.$2):-1,e.ieVersion=/MSIE (\d+\.\d+)/.test(e.userAgent)?Number(RegExp.$1):/Trident.*rv:(\d+\.\d+)/.test(e.userAgent)?Number(RegExp.$1):0,e.isIEMobileModern=/\bIEMobile\/(\d+\.\d+)/.test(e.userAgent)?Number(RegExp.$1)>=10:!!/Windows Phone (\d+\.\d+)/i.test(e.userAgent)&&Number(RegExp.$1)>=10,e.isAndroidModern=e.isAndroid&&(e.androidVersion>=4||e.isSilkModern),e.isMobile=e.isIProduct||e.isAndroid||e.isBlackBerry||e.isWindowsPhone,e.useNativeControls=e.isIProduct||e.isAndroid||e.isWindowsPhone,e.isWebkit=!!e.userAgent.match(/Webkit/i),e.isFirefox=!!e.userAgent.match(/Firefox/i),e.isTV=!!e.userAgent.match(/.*SMART\-TV.*Safari\/(535\.20\+|537\.42)/),e.isWindowsRT=/^.*?\bWindows\b.*?\bARM\b.*?$/m.test(e.userAgent),e}();t.Environment=i}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t],o=function(e,t){"use strict";t.MediaEvents=["abort","canplay","canplaythrough","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","readystatechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],t.PlayerEvents={CommonPlayerImpression:"CommonPlayerImpression",PlaybackStatusChanged:"PlaybackStatusChanged",Replay:"Replay",BufferComplete:"BufferComplete",ContentStart:"ContentStart",ContentError:"ContentError",ContentContinue:"ContentContinue",ContentComplete:"ContentComplete",ContentCheckpoint:"ContentCheckpoint",ContentLoaded3PP:"ContentLoaded3PP",Pause:"Pause",Resume:"Resume",Seek:"Seek",VideoQualityChanged:"VideoQualityChanged",Mute:"Mute",Unmute:"Unmute",InfoPaneOpened:"InfoPaneOpened",VideoTimedout:"VideoTimedout",VideoTimeUpdate:"VideoTimeUpdate",FullScreenEnter:"FullScreenEnter",FullScreenExit:"FullScreenExit",UserInteracted:"VideoUserInteracted",InteractiveOverlayClick:"InteractiveOverlayClick"},t.PlaybackStatus={Ready:"Ready",Loading:"Loading",Loaded:"Loaded",LoadFailed:"LoadFailed",PlaybackCompleted:"PlaybackCompleted",Playbackerrored:"PlaybackErrored",VideoOpening:"VideoOpening",VideoPlaying:"VideoPlaying",VideoBuffering:"VideoBuffering",VideoPaused:"VideoPaused",VideoPlayCompleted:"VideoPlayCompleted",VideoPlayFailed:"VideoPlayFailed",VideoClosed:"VideoClosed"},t.shareTypes={facebook:"facebook",twitter:"twitter",linkedin:"linkedin",skype:"skype",mail:"mail",copy:"copy"},t.videoPerfMarkers={scriptLoaded:"scriptLoaded",playerInit:"playerInit",playerLoadStart:"playerLoadStart",playerReady:"playerReady",wrapperLoadStart:"wrapperLoadStart",wrapperReady:"wrapperReady",locLoadStart:"locLoadStart",locReady:"locReady",playTriggered:"playTriggered",ttvs:"ttvs"}}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(10),i(33)],o=function(e,t,i,r){"use strict";var o=function(){function e(){}return e.createPlayer=function(e,t,o){var n,a;if(e)switch(e.toLowerCase()){case"youtube":a="youtube",n=new r.YoutubePlayer(t,o);break;default:a="coreplayer",n=new i.CorePlayer(t,o)}else a="coreplayer",n=new i.CorePlayer(t,o);return{playerInstance:n,playerName:a}},e}();t.PlayerFactory=o}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(11),i(19),i(24),i(5),i(13),i(6),i(2),i(25),i(26),i(7),i(27),i(18),i(8),i(28),i(30),i(17),i(1),i(31),i(8),i(32)],o=function(e,t,i,r,o,n,a,s,l,u,c,d,p,h,y,g,m,v,f,C,b,M){"use strict";var S={Init:"init",Loading:"loading",Ready:"ready",Playing:"playing",Paused:"paused",Buffering:"buffering",Seeking:"seeking",Ended:"ended",Error:"error",Stopped:"stopped"},w={AudioTracks:"audio-tracks",ClosedCaption:"close-caption",ClosedCaptionSettings:"cc-settings",PlaybackSpeed:"playback-speed",Quality:"quality",Share:"share",Download:"download"},T=[l.MediaQuality.HD,l.MediaQuality.HQ,l.MediaQuality.SD,l.MediaQuality.LO],P=function(){function e(t,i){var r=this;this.videoComponent=t,this.canPlay=!1,this.errorMessageDisplayed=!1,this.isInFullscreen=!1,this.videoMetadata=null,this.playerOptions=null,this.isBuffering=!1,this.isWindowClosing=!1,this.isFirstTimePlayed=!0,this.isVideoMuted=!1,this.commonPlayerImpressionReported=!1,this.seekFrom=null,this.playerTechnology=null,this.nextCheckpoint=null,this.stopwatchBuffering=new p.Stopwatch,this.stopwatchLoading=new p.Stopwatch,this.stopwatchPlaying=new p.Stopwatch,this.firstByteTimer=null,this.lastVolume=1,this.currentVideoFile=null,this.reporters=[],this.playOnDataLoad=!1,this.startTimeOnDataLoad=0,this.locReady=!1,this.playerId=null,this.playTriggered=!1,this.triggerContainerEventHandler=function(e){switch(e=a.getEvent(e),e.type){case"click":r.onVideoPlayerClicked(e);break;case"keyup":case"keydown":var t=n.getKeyCode(a.getEvent(e));32!==t&&13!==t||(a.preventDefault(e),"keyup"===e.type&&(r.onVideoPlayerClicked(e),r.videoControls&&r.videoControls.setFocusOnControlBar()))}},this.onResoucesLoaded=function(){h.PlayerUtility.createVideoPerfMarker(r.playerId,b.videoPerfMarkers.locReady),r.initializeVideoControls(),r.setSpinnerProperties(),r.setTriggerProperties(),r.locReady=!0},this.onMediaEvent=function(e){if(e)switch(a.customEvent(r.videoComponent,e.type,{bubbles:e.bubbles,cancelable:e.cancelable}),e.type.toLowerCase()){case"canplay":case"canplaythrough":r.onVideoCanPlay(e);break;case"error":r.onVideoError(e);break;case"play":r.onVideoPlay(e);break;case"pause":r.onVideoPause(e);break;case"seeking":r.onVideoSeeking(e);break;case"seeked":r.onVideoSeeked(e);break;case"waiting":r.onVideoWaiting(e);break;case"loadedmetadata":r.onVideoMetadataLoaded();break;case"loadeddata":r.onVideoLoadedData();break;case"timeupdate":r.onVideoTimeUpdate();break;case"ended":r.onVideoEnded();break;case"playing":r.onVideoPlaying();break;case"volumechange":r.onVideoVolumeChange(e)}},this.onVideoPlaying=function(){r.updateState(S.Playing),r.videoControls&&r.videoWrapper&&r.videoControls.setDuration(r.getDuration()),r.setNextCheckpoint(),r.isFirstTimePlayed&&(r.isFirstTimePlayed=!1,r.reportEvent(y.PlayerEvents.ContentStart)),d.Environment.isAndroid&&(r.logMessage("re-invoking play for Android only"),r.videoWrapper.play())},this.onVideoWrapperLoaded=function(){h.PlayerUtility.createVideoPerfMarker(r.playerId,b.videoPerfMarkers.wrapperReady),r.loadVideo()},this.onBeforeUnload=function(){r.isWindowClosing=!0},this.onWindowResize=function(){r.closedCaptions&&(r.closedCaptions.resetCaptions(),r.closedCaptions.updateCaptions(r.getCurrentTime()))},this.onVideoWrapperLoadFailed=function(){r.displayErrorMessage({title:r.localizationHelper.getLocalizedValue(v.playerLocKeys.standarderror)})},this.onMouseEvent=function(e){if(e=a.getEvent(e),"mousemove"===e.type)r.showControlsBasedOnState();else if("mouseout"===e.type)for(var t=e.toElement||e.relatedTarget;t&&t.parentNode&&t.parentNode!==window;){if(t.parentNode===r||t===r)return void a.preventDefault(e);t=t.parentNode}},this.onVideoMetadataLoaded=function(){r.setupPlayerMenus()},this.onVideoLoadedData=function(){r.updateState(S.Ready),r.videoControls&&r.videoControls.setDuration(r.getDuration()),r.startTimeOnDataLoad&&r.startTimeOnDataLoad>0&&r.startTimeOnDataLoad<r.getDuration()&&(r.setPlayPosition(r.startTimeOnDataLoad),r.startTimeOnDataLoad=null),r.playOnDataLoad&&(r.play(),r.playOnDataLoad=!1)},this.onVideoTimeUpdate=function(){if(r.videoWrapper){var e=r.getCurrentTime(),t=r.getDuration();if(isNaN(e)||isNaN(t))return;if(r.videoControls&&r.videoControls.setPlayPosition(e),r.closedCaptions&&r.closedCaptions.updateCaptions(e),r.interactiveTriggersHelper&&r.interactiveTriggersHelper.updateOverlays(e),!r.isPaused()&&(r.stopwatchPlaying.hasReached(f.PlayerConfig.continueInterval)&&(r.reportEvent(y.PlayerEvents.ContentContinue),r.stopwatchBuffering.reset()),r.nextCheckpoint&&t>0&&e>=t*r.nextCheckpoint/100)){var i=r.nextCheckpoint;r.reportEvent(y.PlayerEvents.ContentCheckpoint,{checkpoint:i}),r.setNextCheckpoint()}}},this.onVideoCanPlay=function(e){r.canPlay=!0,r.videoControls&&r.videoControls.updatePlayPauseState()},this.onVideoError=function(e){if(!r.isWindowClosing&&r.playerState!==S.Init&&r.playerState!==S.Error){r.updateState(S.Error);var t=r.videoWrapper.getError();if(t&&t.errorCode){var i=void 0;switch(t.errorCode){case l.VideoErrorCodes.MediaErrorAborted:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_aborted);break;case l.VideoErrorCodes.MediaErrorNetwork:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_network);break;case l.VideoErrorCodes.MediaErrorDecode:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_decode);break;case l.VideoErrorCodes.MediaErrorSourceNotSupported:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_src_not_supported);break;case l.VideoErrorCodes.AmpEncryptError:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_amp_encrypt);break;case l.VideoErrorCodes.AmpPlayerMismatch:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_amp_player_mismatch);break;default:i=r.localizationHelper.getLocalizedValue(v.playerLocKeys.media_err_unknown_error)}i=s.format(r.localizationHelper.getLocalizedValue(v.playerLocKeys.playbackerror),i);var o=h.PlayerUtility.formatContentErrorMessage(t.errorCode,i,t.message);r.stopMedia(i,o)}else r.stopMedia()}},this.onVideoPlay=function(e){r.hideTrigger(),r.playTriggered?r.reportEvent(y.PlayerEvents.Resume):(r.playTriggered=!0,h.PlayerUtility.createVideoPerfMarker(r.playerId,b.videoPerfMarkers.playTriggered)),r.firstByteTimer&&window.clearTimeout(r.firstByteTimer);var t=d.Environment.isMobile?f.PlayerConfig.firstByteTimeoutVideoMobile:f.PlayerConfig.firstByteTimeoutVideoDesktop;t>0&&(r.firstByteTimer=setTimeout(function(){r.getBufferedDuration()||r.playerState!==S.Buffering||(r.logMessage("Buffering stuck detected"),r.updateState(S.Error),r.stopMedia(r.localizationHelper.getLocalizedValue(v.playerLocKeys.standarderror),h.PlayerUtility.formatContentErrorMessage(l.VideoErrorCodes.BufferingFirstByteTimeout,"Time out waiting for first byte.")))},t))},this.onVideoPause=function(e){r.videoWrapper&&r.videoWrapper.isSeeking()||r.playerState===S.Ended||(r.updateState(S.Paused),e&&e.target&&r.reportEvent(y.PlayerEvents.Pause))},this.onVideoSeeking=function(e){r.playerState!==S.Ended&&r.videoWrapper&&r.videoWrapper.isSeeking()&&(r.nextCheckpoint=null,null===r.seekFrom&&(r.seekFrom=r.getCurrentTime()),r.updateState(S.Seeking))},this.onVideoSeeked=function(e){var t=r.getCurrentTime();r.playerState!==S.Ended&&r.videoWrapper&&!r.videoWrapper.isSeeking()&&null!==r.seekFrom&&r.seekFrom!==t&&(r.setNextCheckpoint(),r.reportEvent(y.PlayerEvents.Seek,{seekFrom:r.seekFrom,seekTo:t}),r.seekFrom=null,r.interactiveTriggersHelper&&r.interactiveTriggersHelper.seek(t),r.updateState(r.isPaused()?S.Paused:S.Playing))},this.onVideoWaiting=function(e){r.updateState(S.Buffering)},this.onVideoVolumeChange=function(e){e&&e.target&&(r.videoWrapper.isMuted()?(r.reportEvent(y.PlayerEvents.Mute),r.isVideoMuted=!0):r.isVideoMuted&&(r.reportEvent(y.PlayerEvents.Unmute),r.isVideoMuted=!1)),r.videoControls&&r.videoControls.updateVolumeState()},this.onVideoPlayerClicked=function(e){r.isPlayable&&(r.isPaused()?(r.play(),r.hideTrigger(),r.showSpinnerBasedOnState()):r.pause())},this.onVideoEnded=function(){r.updateState(S.Ended),r.reportEvent(y.PlayerEvents.ContentComplete),r.stopwatchPlaying.reset(),d.Environment.useNativeControls||r.stop()},this.onFullscreenChanged=function(){var t=e.getElementInFullScreen(),i=r.getFullscreenContainer();t?i!==t||r.isInFullscreen||r.onFullscreenEnter():r.isInFullscreen&&r.onFullscreenExit()},this.onIOSFullscreenEnter=function(){r.play(),r.onFullscreenEnter()},this.onIOSFullscreenExit=function(){r.onFullscreenExit()},this.onFullscreenError=function(){r.isInFullscreen=!1},t&&(this.createComponents(i),this.load(i))}return e.prototype.createComponents=function(t){this.playerContainer=a.selectFirstElement(e.playerContainerSelector,this.videoComponent);var i=t&&t.options&&t.options.maskLevel?t.options.maskLevel:"40",r=t&&t.options&&t.options.theme?t.options.theme:"light";if(!this.playerContainer){var o='<div class="f-core-player" >\n    <video class="f-video-player" preload="metadata"></video>\n    '+(t&&t.options&&t.options.trigger?'<div class="f-video-trigger" aria-hidden="true">\n        <section class="f-mask-'+i+" theme-"+r+'">\n            <div>\n                <button class="c-action-trigger c-glyph glyph-play" aria-label="play">\n                    <span class="x-screen-reader">play</span>\n                </button>\n            </div>\n        </section>\n    </div>':"")+'\n    <div class="f-video-cc-overlay" aria-hidden="true"></div>\n    '+(t&&t.options&&t.options.controls?'<div class="f-video-controls" dir="ltr" aria-hidden="true"></div>':"")+'\n    <div aria-hidden="true" class="c-progress f-indeterminate-local f-progress-large" role="progressbar" tabindex="0">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n    </div>\n</div>';this.videoComponent.innerHTML=o,this.playerContainer=a.selectFirstElement(e.playerContainerSelector,this.videoComponent)}this.videoTag=a.selectFirstElementT("video",this.playerContainer),this.spinner=a.selectFirstElement(".c-progress",this.playerContainer),this.triggerContainer=a.selectFirstElement(".f-video-trigger",this.videoComponent),this.triggerContainer&&(this.trigger=a.selectFirstElement(".c-action-trigger",this.triggerContainer),this.triggerScreenReader=a.selectFirstElement(".x-screen-reader",this.triggerContainer),t&&t.options&&!t.options.autoplay&&(this.showTrigger(),a.addEvents(this.triggerContainer,"click keydown keyup",this.triggerContainerEventHandler),this.hideControlPanel(),this.hideSpinner()))},e.prototype.initializeLocalization=function(){h.PlayerUtility.createVideoPerfMarker(this.playerId,b.videoPerfMarkers.locLoadStart),this.localizationHelper?this.onResoucesLoaded():(this.playerOptions.market||(this.playerOptions.market=this.videoComponent.getAttribute("data-market")),this.localizationHelper=new v.LocalizationHelper(this.playerOptions.market,this.playerOptions.resourcePath),this.localizationHelper.loadResources(this.onResoucesLoaded))},e.prototype.initializeReporting=function(){this.playerOptions&&this.playerOptions.reporting&&this.playerOptions.reporting.enabled&&(this.playerOptions.reporting.jsll&&this.reporters.push(new g.JsllReporter(this.videoComponent)),this.playerOptions.reporting.aria&&this.reporters.push(new m.AriaReporter(this.videoComponent)))},e.prototype.getPlayerId=function(){return this.playerId||this.videoComponent.id},e.prototype.load=function(e){e&&e.metadata&&e.options&&(this.playerId=this.videoComponent.getAttribute("id"),this.updateState(S.Init),this.hideErrorMessage(),this.videoMetadata=e.metadata,this.playerOptions=e.options,this.videoMetadata&&this.videoMetadata.videoFiles&&this.videoMetadata.videoFiles.length&&(this.playOnDataLoad=this.playerOptions.autoplay,this.startTimeOnDataLoad=this.playerOptions.startTime,this.initializeClosedCaptions(),this.initializeLocalization(),this.initializeReporting(),this.initializeInteractiveTriggers(),this.videoTag&&(this.videoTag.title=this.videoMetadata.title,this.videoTag.loop=this.playerOptions.loop,this.videoMetadata.posterframeUrl&&(this.videoTag.poster=this.videoMetadata.posterframeUrl)),this.videoWrapper=this.getVideoWrapper(),this.playerTechnology="OnePlayer_"+this.videoWrapper.getWrapperName(),h.PlayerUtility.createVideoPerfMarker(this.playerId,b.videoPerfMarkers.wrapperLoadStart),this.videoWrapper.load(this.videoComponent,this.onVideoWrapperLoaded,this.onVideoWrapperLoadFailed,this.onMediaEvent)))},e.prototype.initializeInteractiveTriggers=function(){var e=this;!d.Environment.isMobile&&this.playerOptions.interactiveTriggers&&this.videoMetadata.interactiveTriggersUrl&&(this.interactiveTriggersHelper=new M.VideoPlayerInteractiveTriggersHelper(this.playerContainer,this.videoMetadata.interactiveTriggersUrl,function(t){t&&t.pauseSnappedVideo&&e.pause(),e.reportEvent(y.PlayerEvents.InteractiveOverlayClick,{interactiveOverlay:t})}))},e.prototype.initializeVideoControls=function(){this.videoControlsContainer=a.selectFirstElement(".f-video-controls",this.videoComponent);var e=!d.Environment.useNativeControls&&this.playerOptions&&this.playerOptions.controls,t=e&&!this.playerOptions.trigger&&!this.isTriggerShown();this.videoControlsContainer&&(e&&(this.videoControlsContainer.setAttribute("aria-hidden","false"),this.videoControls=new i.VideoControls(this.videoControlsContainer,this,this.localizationHelper)),t||this.videoControlsContainer.setAttribute("aria-hidden","true"))},e.prototype.getQualityMenu=function(){if(!this.videoMetadata.videoFiles||!this.videoMetadata.videoFiles.length)return null;for(var e=[],t=this.currentVideoFile&&this.currentVideoFile.quality,i=0,r=T;i<r.length;i++){var o=r[i],n=this.getVideoFileByQuality(o);if(n&&n.url){var a={id:this.addIdPrefix(l.MediaQuality[o]),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys["quality_"+l.MediaQuality[o].toLowerCase()]),data:n.url,selected:n.quality===t,selectable:!0};e.push(a)}}var s=this.videoWrapper.getVideoTracks();if(!e.length&&s&&s.length>1){var u=this.videoWrapper.getCurrentVideoTrack();e.push({id:this.addIdPrefix("auto"),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.quality_auto),selected:u.auto,selectable:!0});for(var c=0;c<s.length;c++){var d=s[c];e.push({id:this.addIdPrefix("video-"+c),label:h.PlayerUtility.toFriendlyBitrateString(d.bitrate),selected:!u.auto&&u.trackIndex===c,selectable:!0})}}var p={category:w.Quality,id:this.addIdPrefix(w.Quality),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.quality),items:e};return p},e.prototype.getAudioTracksMenu=function(){var e=this.videoWrapper.getAudioTracks();if(!e||e.length<=1)return null;for(var t=0,i=0,r=e;i<r.length;i++){var o=r[i];o.isDescriptiveAudio&&t++}for(var n=[],a=this.videoWrapper.getCurrentAudioTrack(),s=0;s<e.length;s++){var o=e[s],l=void 0;if(o.isDescriptiveAudio){var u=this.localizationHelper.getLocalizedValue(v.playerLocKeys.descriptive_audio);if(t>1){var c=this.localizationHelper.getLanguageNameFromLocale(o.languageCode);l=u+" - "+c}else l=u}else l=this.localizationHelper.getLanguageNameFromLocale(o.languageCode);var d={label:l,id:this.addIdPrefix("audio-"+s),selected:s===a,selectable:!0};n.push(d)}var p={category:w.AudioTracks,id:this.addIdPrefix(w.AudioTracks),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.audio_tracks),items:n};return p},e.prototype.getClosedCaptionsSettingsMenu=function(){if(this.closedCaptionsSettings){var e=this.closedCaptionsSettings.getCurrentSettings(),t=[];for(var i in o.closedCaptionsSettingsMap)if(o.closedCaptionsSettingsMap.hasOwnProperty(i)){var r=o.closedCaptionsSettingsMap[i],n=o.closedCaptionsSettingsOptions[r.option],a=[];for(var s in n.map)n.map.hasOwnProperty(s)&&a.push({id:this.getCCMenuItemId(i,s),label:this.localizationHelper.getLocalizedValue(n.pre+s),selectable:!0,selected:e[i]===s,persistOnClick:!0,data:i+":"+s});t.push({id:this.addIdPrefix(i+"_item"),label:this.localizationHelper.getLocalizedValue("cc_"+i),selectable:!1,subMenu:{id:this.getCCSettingsMenuId(i),category:w.ClosedCaptionSettings,items:a,label:this.localizationHelper.getLocalizedValue("cc_"+i)}})}var l={id:this.addIdPrefix(w.ClosedCaptionSettings),category:w.ClosedCaptionSettings,label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.cc_customize),items:t},u=[];for(var c in o.closedCaptionsPresetMap)o.closedCaptionsPresetMap.hasOwnProperty(c)&&u.push({id:this.getCCMenuItemId(o.VideoClosedCaptionsSettings.presetKey,c),label:this.localizationHelper.getLocalizedValue("cc_"+c),data:"preset:"+c,selectable:!0,selected:e[o.VideoClosedCaptionsSettings.presetKey]===c,persistOnClick:!0});u.length&&(u.push({id:this.addIdPrefix("cc-customize"),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.cc_customize),subMenu:l}),u.push({id:this.addIdPrefix("cc-reset"),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.cc_reset),data:"reset",persistOnClick:!0}));var d={id:this.getCCSettingsMenuId(o.VideoClosedCaptionsSettings.presetKey),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.cc_appearance),category:w.ClosedCaptionSettings,items:u};return d}},e.prototype.getCCSettingsMenuId=function(e){return this.addIdPrefix("cc-"+e)},e.prototype.getCCMenuItemId=function(e,t){return this.addIdPrefix("cc-"+e+"-"+t)},e.prototype.getClosedCaptionMenu=function(){if(!(this.videoMetadata&&this.videoMetadata.ccFiles&&this.videoMetadata.ccFiles.length&&this.ccOverlay&&this.closedCaptions))return null;for(var t=n.getValueFromSessionStorage(e.ccLangPrefKey),i=[],r=!1,o=0,a=this.videoMetadata.ccFiles;o<a.length;o++){var s=a[o],l=s.locale===t;!r&&l&&(r=!0);var u={id:this.addIdPrefix(s.locale),label:v.ccCultureLocStrings[s.locale],data:s.url,selected:l,selectable:!0};i.push(u)}i.push({id:this.addIdPrefix("appearance"),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.cc_appearance),selected:!1,selectable:!1,subMenu:this.getClosedCaptionsSettingsMenu()}),i.unshift({id:this.addIdPrefix("off"),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.closecaption_off),selected:!r,selectable:!0}),r&&this.setCC(this.addIdPrefix(t));var c={category:w.ClosedCaption,id:this.addIdPrefix(w.ClosedCaption),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.closecaption),items:i};return c},e.prototype.getPlaybackRateMenu=function(){if(!this.playerOptions||!this.playerOptions.playbackSpeed||!this.videoWrapper||"amp"===this.videoWrapper.getWrapperName())return null;for(var t=n.getValueFromSessionStorage(e.playbackRatePrefKey)||f.PlayerConfig.defaultPlaybackRate,i=[],r=0,o=f.PlayerConfig.playbackRates;r<o.length;r++){var a=o[r],s=a===+t,l=1===a?this.localizationHelper.getLocalizedValue(v.playerLocKeys.playbackspeed_normal):a+"x",u={id:this.addIdPrefix("rate"+a),label:l,selected:s,selectable:!0};i.push(u)}this.setPlaybackRate(this.addIdPrefix("rate"+t));var c={category:w.PlaybackSpeed,id:this.addIdPrefix(w.PlaybackSpeed),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.playbackspeed),items:i};return c},e.prototype.getShareMenu=function(){if(!this.playerOptions||!this.playerOptions.share)return null;var e=C.SharingHelper.getShareOptionsData(this.localizationHelper,this.playerOptions,this.videoMetadata&&this.videoMetadata.shareUrl);if(e&&e.length){for(var t=[],i=0,r=e;i<r.length;i++){var o=r[i],n={id:this.addIdPrefix(o.id),label:o.label,data:o.url,glyph:o.glyph,image:o.image};t.push(n)}var a={category:w.Share,id:this.addIdPrefix(w.Share),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.sharing_label),items:t};return a}},e.prototype.getDownloadMenu=function(){if(this.playerOptions&&this.playerOptions.download&&this.videoMetadata&&this.videoMetadata.downloadableFiles&&!(this.videoMetadata.downloadableFiles.length<1)){for(var e={},t=0,i=0,r=this.videoMetadata.downloadableFiles;i<r.length;i++){var o=r[i],n=e[o.locale];n||(n=[],t++,e[o.locale]=n),n.push(o)}if(t<=1){for(var a=[],s=0,l=this.videoMetadata.downloadableFiles;s<l.length;s++){var o=l[s],u={id:this.addIdPrefix(o.locale+"-"+o.mediaType),label:this.localizationHelper.getLocalizedMediaTypeName(o.mediaType),selected:!1,selectable:!1,data:o.url};a.push(u)}return{category:w.Download,id:this.addIdPrefix(w.Download),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.download_label),items:a}}var c=[];for(var d in e)if(e.hasOwnProperty(d)){for(var a=[],p=0,h=e[d];p<h.length;p++){var o=h[p],u={id:this.addIdPrefix(o.locale+"-"+o.mediaType),label:this.localizationHelper.getLocalizedMediaTypeName(o.mediaType),selected:!1,selectable:!1,data:o.url};a.push(u)}c.push({id:this.addIdPrefix(w.Download+d),label:this.localizationHelper.getLanguageNameFromLocale(d),selected:!1,selectable:!1,subMenuId:this.addIdPrefix(w.Download+d+"menu"),subMenu:{id:this.addIdPrefix(w.Download+d+"menu"),category:w.Download,label:this.localizationHelper.getLanguageNameFromLocale(d),items:a}})}return{category:w.Download,id:this.addIdPrefix(w.Download),label:this.localizationHelper.getLocalizedValue(v.playerLocKeys.download_label),items:c}}},e.prototype.setupPlayerMenus=function(){if(this.videoControls&&this.videoMetadata){var e=[],t=this.getQualityMenu();t&&t.items.length&&e.push(t);var i=this.getAudioTracksMenu();i&&i.items.length&&e.push(i);var r=this.getClosedCaptionMenu();r&&r.items.length&&e.push(r);var o=this.getPlaybackRateMenu();o&&o.items.length&&e.push(o);var n=this.getShareMenu();n&&n.items.length&&e.push(n);var a=this.getDownloadMenu();a&&a.items.length&&e.push(a),this.videoControls.setupPlayerMenus(e)}},e.prototype.dispose=function(){this.hideErrorMessage(),this.unbindEvents(),this.stop(),this.updateState(S.Stopped),this.videoTag=null,this.videoWrapper&&this.videoWrapper.dispose(),this.interactiveTriggersHelper&&this.interactiveTriggersHelper.dispose()},e.prototype.restoreSettings=function(){this.lastVolume=(parseInt(n.getValueFromSessionStorage(e.volumePrefKey),10)||10)/10,this.setVolume(this.lastVolume),(this.playerOptions.mute||"1"===n.getValueFromSessionStorage(e.mutePrefKey))&&(this.isVideoMuted=!0,this.mute()),this.videoControls&&this.videoControls.updateVolumeState()},e.prototype.loadVideo=function(){var e=this;return this.locReady?(this.videoPlayer=a.selectFirstElement(".f-video-player",this.playerContainer),this.videoTag=a.selectFirstElementT("video",this.playerContainer),this.videoPlayer?(this.restoreSettings(),this.bindEvents(),this.videoMetadata&&this.videoMetadata.posterframeUrl&&this.videoWrapper.setPosterFrame(this.videoMetadata.posterframeUrl),this.currentVideoFile=this.getVideoFileToPlay(),this.currentVideoFile&&(this.commonPlayerImpressionReported||(this.reportEvent(y.PlayerEvents.CommonPlayerImpression),this.commonPlayerImpressionReported=!0),this.setVideoSrc(this.currentVideoFile.url,this.currentVideoFile.mediaType)),this.setupPlayerMenus(),void this.showControlsBasedOnState()):null):void setTimeout(function(){e.loadVideo()},50)},e.prototype.bindEvents=function(){a.addEvents(this.videoComponent,"mousemove mouseout",this.onMouseEvent),a.addEvents(window,"onBeforeUnload",this.onBeforeUnload),this.addFullscreenEvents(),d.Environment.useNativeControls||(a.addEvent(this.videoPlayer,a.eventTypes.click,this.onVideoPlayerClicked),a.addEvent(this.ccOverlay,a.eventTypes.click,this.onVideoPlayerClicked)),a.addThrottledEvent(window,a.eventTypes.resize,this.onWindowResize)},e.prototype.unbindEvents=function(){
a.removeEvents(this.videoComponent,"mousemove mouseout",this.onMouseEvent),a.removeEvents(this.videoPlayer,a.eventTypes[a.eventTypes.click],this.onVideoPlayerClicked),a.removeEvents(this.ccOverlay,a.eventTypes[a.eventTypes.click],this.onVideoPlayerClicked),a.removeEvents(window,"onBeforeUnload",this.onBeforeUnload),a.removeEvents(window,"resize",this.onWindowResize),this.removeFullscreenEvents()},e.prototype.setVideoSrc=function(e,t){e&&this.videoWrapper&&(this.updateState(S.Loading),this.videoWrapper.setSource(e,t))},e.prototype.reportEvent=function(e,t){var i=this.getReport(t);this.logMessage("Event reported : "+y.PlayerEvents[e]+" | data : "+JSON.stringify(i));for(var r=0,o=this.reporters;r<o.length;r++){var n=o[r];n.reportEvent(e,i)}a.customEvent(this.videoComponent,y.PlayerEvents[e],{detail:i})},e.prototype.getVideoWrapper=function(){for(var e=0,t=this.videoMetadata.videoFiles;e<t.length;e++){var i=t[e],r=i.mediaType||l.MediaTypes.MP4;if(r!==l.MediaTypes.MP4&&r!==l.MediaTypes.HLS)return new c.AmpWrapper}return this.playerOptions&&"amp"===this.playerOptions.corePlayer?new c.AmpWrapper:new u.Html5VideoWrapper},e.prototype.startControlPanelTimeout=function(){var t=this;this.controlPanelTimer=window.setTimeout(function(){t.hideControlPanel()},e.controlPanelTimeout)},e.prototype.hideControlPanel=function(){this.controlPanelTimer&&window.clearTimeout(this.controlPanelTimer),d.Environment.useNativeControls?this.videoTag&&this.videoTag.removeAttribute("controls"):this.videoControlsContainer&&(a.hasClass(this.videoControlsContainer,e.hideControlsClass)||(a.removeClass(this.videoControlsContainer,e.showControlsClass),a.addClass(this.videoControlsContainer,e.hideControlsClass),this.ccOverlay&&(a.removeClass(this.ccOverlay,e.fitControlsClass),this.closedCaptions&&this.videoWrapper&&this.closedCaptions.updateCaptions(this.getCurrentTime())))),this.videoControls&&(this.videoControls.prepareToHide(),this.videoControls.hideControls())},e.prototype.showControlPanel=function(t){void 0===t&&(t=!0),this.playerOptions&&!this.playerOptions.controls||this.isTriggerShown()||(this.controlPanelTimer&&window.clearTimeout(this.controlPanelTimer),d.Environment.useNativeControls?this.videoTag&&this.videoTag.setAttribute("controls","true"):this.videoControlsContainer&&!a.hasClass(this.videoControlsContainer,e.showControlsClass)&&(a.removeClass(this.videoControlsContainer,e.hideControlsClass),a.addClass(this.videoControlsContainer,e.showControlsClass),this.ccOverlay&&(a.addClass(this.ccOverlay,e.fitControlsClass),this.closedCaptions&&this.videoWrapper&&this.closedCaptions.updateCaptions(this.getCurrentTime()))),t&&this.startControlPanelTimeout())},e.prototype.stopMedia=function(e,t){this.logMessage("StopMedia invoked"),this.firstByteTimer&&(window.clearTimeout(this.firstByteTimer),this.firstByteTimer=null),this.exitFullscreen(),e&&(this.logMessage(t||e),this.updateState(S.Stopped),this.displayErrorMessage({title:e}),this.reportEvent(y.PlayerEvents.ContentError,{errorType:"content:error",errorDesc:t||e,errorMessage:e}))},e.prototype.setNextCheckpoint=function(){var e=this.getDuration();if(e)for(var t=0,i=f.PlayerConfig.checkpoints;t<i.length;t++){var r=i[t];if(this.getCurrentTime()/e*100<=r)return void(this.nextCheckpoint=r)}this.nextCheckpoint=null},e.prototype.getCurrentTime=function(){return this.videoWrapper?this.videoWrapper.getCurrentTime():0},e.prototype.getBufferedDuration=function(){var e=0;try{e=this.videoWrapper&&this.videoWrapper.getBufferedDuration()}catch(e){this.logMessage("Caught exception while getting buffered duration. "+e.message)}return e},e.prototype.stop=function(){this.setPlayPosition(0),this.videoControls&&(this.pause(),this.videoControls.setPlayPosition(0)),this.closedCaptions&&this.closedCaptions.updateCaptions(0)},e.prototype.isPaused=function(){return!!this.videoWrapper&&this.videoWrapper.isPaused()},e.prototype.isPlayable=function(){return!!this.videoPlayer&&this.canPlay},e.prototype.play=function(){var e=this;this.playerState!==S.Playing&&this.playerState!==S.Error&&this.playerState!==S.Stopped&&(this.videoWrapper&&(d.Environment.isIProduct||d.Environment.isAndroidModern?this.videoWrapper.play():setTimeout(function(){e.videoWrapper.play()},0)),this.videoControls&&this.videoControls.updatePlayPauseState())},e.prototype.pause=function(){this.videoWrapper&&this.videoWrapper.pause(),this.videoControls&&this.videoControls.updatePlayPauseState()},e.prototype.setPlayPosition=function(t){n.isNumber(t)&&this.videoWrapper&&(t=Math.max(0,Math.min(t,n.isNumber(this.getDuration())?this.getDuration():0)),Math.abs(t-this.getCurrentTime())>=e.positionUpdateThreshold&&(this.setNextCheckpoint(),this.seekFrom=this.getCurrentTime(),this.videoWrapper.setCurrentTime(t)))},e.prototype.getVolume=function(){return this.videoWrapper&&this.videoWrapper.getVolume()||0},e.prototype.setVolume=function(t,i){n.isNumber(t)&&this.videoWrapper&&(t=Math.round(100*Math.max(0,Math.min(t,1)))/100,t!==this.videoWrapper.getVolume()&&(this.videoWrapper.setVolume(t),i&&n.saveToSessionStorage(e.volumePrefKey,Math.ceil(10*t).toString()),this.isMuted()&&t>0&&this.unmute(i),this.videoControls&&this.videoControls.updateVolumeState()))},e.prototype.getDuration=function(){return this.videoWrapper&&this.videoWrapper.getDuration()||this.videoMetadata&&this.videoMetadata.duration||0},e.prototype.isMuted=function(){return this.videoWrapper&&this.videoWrapper.isMuted()||this.isVideoMuted},e.prototype.mute=function(t){this.lastVolume=this.getVolume(),this.setVolume(0),this.setMuted(!0),t&&n.saveToSessionStorage(e.mutePrefKey,"1")},e.prototype.unmute=function(t){this.setMuted(!1),this.setVolume(this.lastVolume||f.PlayerConfig.defaultVolume),t&&n.saveToSessionStorage(e.mutePrefKey,"0")},e.prototype.setMuted=function(e){this.videoWrapper&&e!==this.videoWrapper.isMuted()&&(e?this.videoWrapper.mute():this.videoWrapper.unmute()),this.videoControls&&this.videoControls.updateVolumeState()},e.isNativeFullscreenEnabled=function(){var e=document;return e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.webkitSupportsFullscreen||e.msFullscreenEnabled},e.getElementInFullScreen=function(){var e=document;return e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement},e.prototype.getFullscreenContainer=function(){return d.Environment.useNativeControls?this.videoTag:this.playerContainer},e.prototype.setFullscreen=function(){if(e.isNativeFullscreenEnabled()){var t=this.getFullscreenContainer(),i=e.getElementInFullScreen();if(t&&!i){var r=t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.webkitEnterFullScreen;r.call(t)}}},e.prototype.exitFullscreen=function(){if(e.isNativeFullscreenEnabled()){var t=this.getFullscreenContainer(),i=e.getElementInFullScreen();if(t&&t===i){var r=document,o=r.cancelFullScreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitCancelFullScreen;o.call(r)}}},e.prototype.toggleFullscreen=function(){this.isInFullscreen?this.exitFullscreen():this.setFullscreen()},e.prototype.addFullscreenEvents=function(){a.addEvents(document,"fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",this.onFullscreenChanged,!1),a.addEvents(document,"fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError",this.onFullscreenError,!1),this.videoTag&&(a.addEvents(this.videoTag,"webkitbeginfullscreen",this.onIOSFullscreenEnter,!1),a.addEvents(this.videoTag,"webkitendfullscreen",this.onIOSFullscreenExit,!1))},e.prototype.removeFullscreenEvents=function(){a.removeEvents(document,"fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",this.onFullscreenChanged,!1),a.removeEvents(document,"fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError",this.onFullscreenError,!1),this.videoTag&&(a.removeEvents(this.videoTag,"webkitbeginfullscreen",this.onIOSFullscreenEnter,!1),a.removeEvents(this.videoTag,"webkitendfullscreen",this.onIOSFullscreenExit,!1))},e.prototype.onFullscreenEnter=function(){this.isInFullscreen=!0,this.videoControls&&this.videoControls.setFocusTrap(),this.reportEvent(y.PlayerEvents.FullScreenEnter)},e.prototype.onFullscreenExit=function(){this.isInFullscreen=!1,this.videoControls&&this.videoControls.removeFocusTrap(),this.reportEvent(y.PlayerEvents.FullScreenExit)},e.prototype.initializeClosedCaptions=function(){this.ccOverlay=a.selectFirstElement(".f-video-cc-overlay",this.videoComponent),this.closedCaptions=new r.VideoClosedCaptions(this.ccOverlay),this.closedCaptionsSettings=new o.VideoClosedCaptionsSettings},e.prototype.onPlayerMenuItemClick=function(e){if(e&&e.category)switch(e.category){case w.ClosedCaption:this.setCC(e.id);break;case w.ClosedCaptionSettings:this.setCCSettings(e);break;case w.Quality:this.setQuality(e.id);break;case w.AudioTracks:this.setAudio(e.id);break;case w.Share:this.shareVideo(e);break;case w.PlaybackSpeed:this.setPlaybackRate(e.id);break;case w.Download:this.downloadMedia(e)}},e.prototype.setCC=function(t){if(this.closedCaptions){t=this.removeIdPrefix(t);var i=null;if(t&&this.videoMetadata&&this.videoMetadata.ccFiles)for(var r=0,o=this.videoMetadata.ccFiles;r<o.length;r++){var s=o[r];if(s.locale===t){i=s;break}}this.closedCaptions.setCcLanguage(t,i?i.url:null),n.saveToSessionStorage(e.ccLangPrefKey,t),a.hasClass(this.videoControlsContainer,e.showControlsClass)&&a.addClass(this.ccOverlay,e.fitControlsClass)}},e.prototype.setCCSettings=function(e){if(this.videoControls&&this.closedCaptions&&this.closedCaptionsSettings&&e&&e.data){if("reset"===e.data)this.closedCaptionsSettings.reset();else{var t=e.data.split(":");if(!t&&t.length<0)return;this.closedCaptionsSettings.setSetting(t[0],t[1])}this.closedCaptions.resetCaptions(),this.closedCaptions.updateCaptions(this.getCurrentTime());var i=this.closedCaptionsSettings.getCurrentSettings();if(i){for(var r in i)i.hasOwnProperty(r)&&this.videoControls.updateMenuSelection(this.getCCSettingsMenuId(r),this.getCCMenuItemId(r,i[r]));i[o.VideoClosedCaptionsSettings.presetKey]||this.videoControls.updateMenuSelection(this.getCCSettingsMenuId(o.VideoClosedCaptionsSettings.presetKey))}}},e.prototype.setPlaybackRate=function(t){if(t=this.removeIdPrefix(t),t&&this.videoWrapper){var i="rate",r=i&&s.startsWith(t,i,!1)?t.substring(i.length):t;r&&(this.videoWrapper.setPlaybackRate(+r),n.saveToSessionStorage(e.playbackRatePrefKey,r))}},e.prototype.setQuality=function(t){if(t=this.removeIdPrefix(t)){var i=l.MediaQuality[t],r=this.getVideoFileToPlay(i);if(r&&r.url)this.currentVideoFile=r,n.saveToSessionStorage(e.qualityPrefKey,t),this.playOnDataLoad=!this.isPaused(),this.startTimeOnDataLoad=this.getCurrentTime(),this.setVideoSrc(r.url,r.mediaType),this.reportEvent(y.PlayerEvents.VideoQualityChanged,{quality:i});else{var o=t.match(/video-(\d+)/);if(!o||o.length<2)return;var a=parseInt(o[1],10);NaN!==a&&a>=0&&this.videoWrapper.switchToVideoTrack(a)}}},e.prototype.setAudio=function(e){if(e=this.removeIdPrefix(e)){var t=e.match(/audio-(\d+)/);if(t&&!(t.length<2)){var i=parseInt(t[1],10);NaN!==i&&i>=0&&this.videoWrapper.switchToAudioTrack(i)}}},e.prototype.shareVideo=function(e){if(e&&e.id){var t=this.removeIdPrefix(e.id);if(t&&e.data)switch(t){case b.shareTypes.copy:C.SharingHelper.tryCopyTextToClipboard(decodeURIComponent(e.data));break;case b.shareTypes.mail:window.location.href=e.data;break;default:window.open(e.data,"_blank")}}},e.prototype.downloadMedia=function(e){e&&e.data&&window.open(e.data,"_blank")},e.prototype.addIdPrefix=function(e){var t=this.videoComponent&&this.videoComponent.id?this.videoComponent.id+"-":null;return t&&!s.startsWith(e,t,!1)?t+e:e},e.prototype.removeIdPrefix=function(e){var t=this.videoComponent&&this.videoComponent.id?this.videoComponent.id+"-":null;return t&&s.startsWith(e,t,!1)?e.substring(t.length):e},e.prototype.showTrigger=function(){this.triggerContainer&&this.triggerContainer.setAttribute("aria-hidden","false")},e.prototype.hideTrigger=function(){this.triggerContainer&&this.triggerContainer.setAttribute("aria-hidden","true"),this.playerOptions.controls&&this.videoControlsContainer&&this.videoControlsContainer.setAttribute("aria-hidden","false")},e.prototype.isTriggerShown=function(){return this.triggerContainer&&"false"===this.triggerContainer.getAttribute("aria-hidden")},e.prototype.setTriggerProperties=function(){if(this.localizationHelper&&this.trigger){var e=this.localizationHelper.getLocalizedValue(v.playerLocKeys.play);this.trigger.setAttribute("aria-label",e),a.setText(this.triggerScreenReader,e)}},e.prototype.displayErrorMessage=function(e){if(e&&(e.title||e.message)){if(this.errorMessageDisplayed=!0,this.errorMessage)a.setText(this.errorMessage.title,e.title||""),a.setText(this.errorMessage.message,e.message||""),this.errorMessage.container.setAttribute("aria-hidden","false");else{this.errorMessage={},this.errorMessage.container=document.createElement("div");var t=document.createElement("div");this.errorMessage.title=document.createElement("p"),this.errorMessage.message=document.createElement("p"),this.errorMessage.container.setAttribute("role","status"),this.errorMessage.title.setAttribute("class","c-heading"),this.errorMessage.message.setAttribute("class","c-paragraph"),e.title&&a.setText(this.errorMessage.title,e.title),e.message&&a.setText(this.errorMessage.message,e.message),this.errorMessage.container.appendChild(t),t.appendChild(this.errorMessage.title),t.appendChild(this.errorMessage.message),this.playerContainer.appendChild(this.errorMessage.container)}this.hideTrigger()}},e.prototype.hideErrorMessage=function(){this.errorMessage&&this.errorMessage.container&&(this.errorMessage.container.setAttribute("aria-hidden","true"),this.errorMessageDisplayed=!1)},e.prototype.getDefaultMediaQuality=function(){var t=n.getValueFromSessionStorage(e.qualityPrefKey),i=null;return t&&(i=l.MediaQuality[t]),i||(i=d.Environment.isMobile?f.PlayerConfig.defaultQualityMobile:d.Environment.isTV?f.PlayerConfig.defaultQualityTV:f.PlayerConfig.defaultQualityDesktop),i},e.prototype.getVideoFileByQuality=function(e){var t=null;if(e&&this.videoMetadata&&this.videoMetadata.videoFiles)for(var i=0,r=this.videoMetadata.videoFiles;i<r.length;i++){var o=r[i];if(o.quality===e){t=o;break}}return t},e.prototype.getVideoFileByType=function(e){var t=null;if(e&&this.videoMetadata&&this.videoMetadata.videoFiles)for(var i=0,r=this.videoMetadata.videoFiles;i<r.length;i++){var o=r[i];if(o.mediaType===e){t=o;break}}return t},e.prototype.getVideoFileToPlay=function(e){var t,i=e||this.getDefaultMediaQuality(),r=!1,o=!1;this.playerOptions.useHLS&&d.Environment.isIProduct&&!d.Environment.isWindowsPhone&&(t=this.getVideoFileByType(l.MediaTypes.HLS),t&&t.url&&(r=!0,o=!0)),r||(t=this.getVideoFileByQuality(i),t&&t.url&&(r=!0));return r||this.currentVideoFile||(t=this.getVideoFileByType(l.MediaTypes.DASH)||this.getVideoFileByType(l.MediaTypes.SMOOTH)||this.getVideoFileByType(l.MediaTypes.MP4),t&&t.url&&(r=!0)),t},e.prototype.updateState=function(e){if(e&&e!==this.playerState&&this.playerState!==S.Error){this.playerState=e,this.logMessage("Player state updated. New state: "+e);var t=null;switch(this.playerState){case S.Loading:t=y.PlaybackStatus.VideoOpening,this.stopwatchLoading.start();break;case S.Playing:t=y.PlaybackStatus.VideoPlaying,this.stopwatchPlaying.start(),this.stopwatchBuffering.stop(),this.stopwatchLoading.stop(),this.isBuffering&&this.stopwatchBuffering.getValue()&&(this.isBuffering=!1,this.reportEvent(y.PlayerEvents.BufferComplete));break;case S.Paused:t=y.PlaybackStatus.VideoPaused,this.stopwatchPlaying.stop(),this.stopwatchLoading.stop();break;case S.Buffering:t=y.PlaybackStatus.VideoPlaying,this.stopwatchBuffering.start(),this.isBuffering=!0;break;case S.Seeking:this.stopwatchLoading.stop();break;case S.Ended:t=y.PlaybackStatus.VideoPlayCompleted,this.stopwatchPlaying.stop();break;case S.Error:t=y.PlaybackStatus.VideoPlayFailed,this.stopwatchBuffering.reset(),this.stopwatchLoading.stop(),this.stopwatchPlaying.reset()}this.videoControls&&(this.videoControls.updatePlayPauseState(),this.videoControls.updateVolumeState()),this.setPlaybackStatus(t),this.showControlsBasedOnState(),this.showSpinnerBasedOnState()}},e.prototype.setPlaybackStatus=function(e){e&&this.playbackStatus!==e&&(this.playbackStatus=e,this.reportEvent(y.PlayerEvents.PlaybackStatusChanged,{status:e}))},e.prototype.setSpinnerProperties=function(){this.localizationHelper&&this.spinner&&(this.spinner.setAttribute("aria-label",this.localizationHelper.getLocalizedValue(v.playerLocKeys.loading_aria_label)),this.spinner.setAttribute("aria-valuetext",this.localizationHelper.getLocalizedValue(v.playerLocKeys.loading_value_text)))},e.prototype.showSpinner=function(){this.spinner&&!this.isTriggerShown()&&this.spinner.setAttribute("aria-hidden","false")},e.prototype.hideSpinner=function(){this.spinner&&this.spinner.setAttribute("aria-hidden","true")},e.prototype.showSpinnerBasedOnState=function(){switch(this.playerState){case S.Ready:case S.Playing:case S.Paused:case S.Ended:case S.Stopped:case S.Error:this.hideSpinner();break;default:this.showSpinner()}},e.prototype.showControlsBasedOnState=function(){switch(this.playerState){case S.Loading:case S.Init:case S.Error:this.hideControlPanel();break;case S.Ready:case S.Paused:case S.Ended:case S.Stopped:this.showControlPanel(!1);break;default:this.showControlPanel(!0)}},e.prototype.getReport=function(e){var t=this.getDuration(),i={playerInstanceId:this.playerId,playerTechnology:this.playerTechnology,playerType:this.videoWrapper&&this.videoWrapper.getPlayerTechName(),playbackStatus:y.PlaybackStatus[this.playbackStatus],totalBufferWaitTime:this.stopwatchBuffering&&this.stopwatchBuffering.getValue(),bufferCount:this.stopwatchBuffering&&this.stopwatchBuffering.getIntervals(),errorType:e&&e.errorType,errorDesc:e&&e.errorDesc,loadTime:this.stopwatchLoading&&this.stopwatchLoading.getFirstValue(),numPlayed:this.stopwatchLoading&&this.stopwatchLoading.getIntervals(),videoDuration:t,videoElapsedTime:this.getCurrentTime(),seekFrom:e&&e.seekFrom,seekTo:e&&e.seekTo,videoLength:1e3*t,videoSize:n.getDimensions(this.playerContainer),totalTimePlaying:this.stopwatchPlaying&&this.stopwatchPlaying.getTotalValue(),currentInterval:this.stopwatchPlaying&&this.stopwatchPlaying.getValue(),continueInterval:f.PlayerConfig.continueInterval,checkpoint:e&&e.checkpoint,currentVideoFile:this.currentVideoFile,videoMetadata:this.videoMetadata,playerOptions:this.playerOptions,interactiveOverlay:e&&e.interactiveOverlay};return i},e.prototype.logMessage=function(e){this.playerOptions&&this.playerOptions.debug&&e&&(h.PlayerUtility.logConsoleMessage(e,"Core-Player : "+this.videoComponent.id),h.PlayerUtility.logPanelMessage(e,"Core-Player : "+this.videoComponent.id))},e.playerContainerSelector=".f-core-player",e.showControlsClass="f-slidein",e.hideControlsClass="f-slideout",e.fitControlsClass="f-overlay-slidein",e.volumePrefKey="vidvol",e.mutePrefKey="vidmut",e.qualityPrefKey="vidqlt",e.ccLangPrefKey="vidccpref",e.playbackRatePrefKey="vidrate",e.positionUpdateThreshold=.1,e.controlPanelTimeout=3500,e}();t.CorePlayer=P}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(12),i(14),i(5),i(13),i(17)],o=function(e,t,i,r,o,n,a){"use strict";var s=function(){function e(t,a,s){var l=this;if(this.videoControls=t,this.localizationHelper=s,this.tooltipElements=[],this.onControlKeyboardEvent=function(t){var i=o.getKeyCode(t);switch(i){case 36:n.stopPropagation(t),n.preventDefault(t),l.videoPlayer.setPlayPosition(0);break;case 35:n.stopPropagation(t),n.preventDefault(t),l.videoPlayer.setPlayPosition(l.videoPlayer.getDuration());break;case 27:l.hideAllMenus(),l.hideVolumeContainer();break;case 37:case 39:n.stopPropagation(t),n.preventDefault(t);var r=l.videoPlayer.getCurrentTime();37===i?l.videoPlayer.setPlayPosition(Math.max(r-e.seekSteps,0)):l.videoPlayer.setPlayPosition(Math.min(r+e.seekSteps,l.videoPlayer.getDuration()));break;case 38:case 40:n.stopPropagation(t),n.preventDefault(t),l.showVolumeContainer(!0);var a=100*l.videoPlayer.getVolume();38===i?l.setVolume(Math.min((a+e.volumeSteps)/100,1)):l.setVolume(Math.max((a-e.volumeSteps)/100,0))}},this.focusTrapHandler=function(e){e=n.getEvent(e);var t=n.getEventTargetOrSrcElement(e),i=o.getKeyCode(e);9===i&&(t===l.playButton&&e.shiftKey?l.setFocus(l.fullScreenButton):t===l.fullScreenButton&&l.setFocus(l.playButton))},this.onPlayPauseEvents=function(e){switch(e.type){case"click":l.videoPlayer.isPaused()?l.play():l.pause();break;case"mouseover":case"focus":l.showElement(l.playTooltip);break;case"mouseout":case"blur":l.hideElement(l.playTooltip)}},this.onVolumeEvents=function(e){switch(e.type){case"click":n.getEventTargetOrSrcElement(e)===l.volumeButton&&l.setMuted(!l.videoPlayer.isMuted());break;case"mouseover":case"focus":l.showVolumeContainer();break;case"mouseout":case"blur":l.hideVolumeContainer()}},this.onVolumeSliderEvents=function(e){switch(e.type){case"focus":l.showVolumeContainer();break;case"blur":l.hideVolumeContainer();break;case"keydown":var t=o.getKeyCode(e);27===t&&(l.hideVolumeContainer(),l.setFocus(l.playButton))}},this.onSliderKeyboardEvents=function(e){var t=o.getKeyCode(e);switch(t){case 40:case 38:case 37:case 39:case 34:case 33:case 36:case 35:n.stopPropagation(e),n.preventDefault(e)}},this.onMoreOptionsEvents=function(e){switch(e.type){case"click":l.toggleOptionsDialog(!1);break;case"keyup":case"keydown":var t=o.getKeyCode(n.getEvent(e));32!==t&&13!==t||(n.preventDefault(e),"keyup"===e.type&&l.toggleOptionsDialog(!0));break;case"mouseover":case"focus":l.activeMenu||l.showElement(l.moreOptionsTooltip);break;case"mouseout":case"blur":l.hideElement(l.moreOptionsTooltip)}},this.onFullScreenEvents=function(e){switch(e.type){case"click":l.videoPlayer&&l.videoPlayer.toggleFullscreen();break;case"mouseover":case"focus":l.showElement(l.fullScreenTooltip);break;case"mouseout":case"blur":l.hideElement(l.fullScreenTooltip)}},this.toggleOptionsDialog=function(e){l.activeMenu?l.hideAllMenus():(l.showMenu(l.optionsButton.getAttribute("data-menu-id"),e),l.optionsButton.setAttribute("aria-expanded","true"))},this.onMenuEvents=function(e,t){switch(e.type){case"click":l.onMenuItemClick(e,t);break;case"keyup":var i=o.getKeyCode(e);32===i&&n.preventDefault(e);break;case"keydown":l.onMenuKeyPressed(e)}},this.onMenuItemClick=function(e,t){e=n.getEvent(e);var i=n.getEventTargetOrSrcElement(e),r=i.getAttribute("data-next-menu");if(n.preventDefault(e),"back"===r){var o=l.menuBackStack.pop();return void(o&&l.showMenu(o,t))}if(r)return l.activeMenu&&l.pushToMenuBackStack(l.activeMenu.id),void l.showMenu(r,t);if(l.activeMenu){var a=i.parentElement,s=a.id||a.parentElement&&a.parentElement.id,u=i.getAttribute("data-info")||a.getAttribute("data-info");l.updateMenuSelection(l.activeMenu.id,s),l.videoPlayer&&l.videoPlayer.onPlayerMenuItemClick({category:l.activeMenu.getAttribute("data-category"),id:s,data:u})}i.getAttribute("data-persist")||(l.hideAllMenus(),l.setFocus(l.playButton))},this.hideAllMenus=function(){for(var t=n.selectElements(e.menuSelector,l.menuContainer),i=0,r=t;i<r.length;i++){var o=r[i];l.hideElement(o)}l.activeMenu=null,l.clearMenuBackStack(),l.optionsButton.setAttribute("aria-expanded","false")},t&&a){if(this.videoPlayer=a,this.initializeLocalization(),this.initializeComponents(),!(this.playButton&&this.playTooltip&&this.fullScreenButton&&this.fullScreenTooltip&&this.progressSliderElement&&this.volumeButton&&this.volumeContainer&&this.volumeSliderElement&&this.timeCurrent&&this.timeDuration&&this.optionsButton&&this.menuContainer))return null;this.updatePlayPauseState(),n.addEvents(window,"resize scroll",this.hideAllMenus),n.addEvent(this.videoControls,n.eventTypes.keydown,this.onControlKeyboardEvent),n.addEvents(this.playButton,"click mouseover mouseout focus blur",this.onPlayPauseEvents),n.addEvents(this.fullScreenButton,"click mouseover mouseout focus blur",this.onFullScreenEvents),n.addEvents([this.volumeButton,this.volumeContainer],"click mouseover mouseout focus blur",this.onVolumeEvents),n.addEvents(this.optionsButton,"click mouseover mouseout focus blur keydown keyup",this.onMoreOptionsEvents),i.ComponentFactory.create([{component:r.Slider,eventToBind:"DOMContentLoaded",elements:[this.progressSliderElement,this.volumeSliderElement],callback:function(t){t&&t.length&&2===t.length&&(l.progressSlider=t[0],l.volumeSlider=t[1],l.volumeSlider.resetSlider(0,100,100,e.volumeSteps),l.progressSlider.subscribe({onValueChanged:function(e){return l.onProgressChanged(e)}}),l.volumeSlider.subscribe({onValueChanged:function(e){return l.onVolumeChanged(e)}}),n.addEvents(n.selectFirstElement("button",l.volumeSliderElement),"focus blur keydown",l.onVolumeSliderEvents),n.addEvents([l.progressSliderElement,l.volumeSliderElement],"keydown",l.onSliderKeyboardEvents))}}])}}return e.prototype.initializeComponents=function(){if(this.videoControls){var t=this.localizationHelper.getLocalizedValue(a.playerLocKeys.seek),i=this.localizationHelper.getLocalizedValue(a.playerLocKeys.more_caption),r=this.localizationHelper.getLocalizedValue(a.playerLocKeys.volume),o=this.localizationHelper.getLocalizedValue(a.playerLocKeys.expand);if(!this.videoControls.children.length){var s="<button type='button' class='f-play-pause c-glyph glyph-play' aria-label='"+this.locPlay+"'>\n    <span aria-hidden='true'>"+this.locPlay+"</span>\n</button>\n<span class='f-time'>\n    <span class='f-current-time'>00:00</span>\n    /\n    <span class='f-duration'>00:00</span>\n</span>\n<div class='c-slider f-progress'>\n    <input type='range' class='f-seek-bar' aria-label='"+t+"' value='0' min='0' step="+e.seekSteps+">\n</div>\n<button type='button' class='f-options c-glyph glyph-more' aria-label='"+i+"' aria-expanded='false' aria-haspopup='true'>\n    <span aria-hidden='true'>"+i+"</span>\n</button>\n<div class='f-menu-container'></div>\n<button type='button' class='f-volume-button c-glyph glyph-volume' aria-label='"+this.locMute+"'></button>\n<div class='f-volume-slider' aria-hidden='true'>\n    <div class='c-slider f-vertical'>\n        <input type='range' class='f-volume-bar f-vertical' aria-label='"+r+"' \n            min='0' max='100' step='"+e.volumeSteps+"' value='100'>\n    </div>\n</div>\n<button type='button' class='f-full-screen c-glyph glyph-full-screen' aria-label='"+o+"'>\n    <span aria-hidden='true'>"+o+"</span>\n</button>";this.videoControls.innerHTML=s}this.playButton=n.selectFirstElementT(".f-play-pause",this.videoControls),this.playButton.setAttribute(e.ariaLabel,this.locPlay),this.playTooltip=n.selectFirstElement("span",this.playButton),n.setText(this.playTooltip,this.locPlay),this.tooltipElements.push(this.playTooltip);n.selectFirstElement(".f-time",this.videoControls);this.timeCurrent=n.selectFirstElement(".f-current-time",this.videoControls),this.timeDuration=n.selectFirstElement(".f-duration",this.videoControls),this.progressSliderElement=n.selectFirstElement(".c-slider.f-progress",this.videoControls),this.optionsButton=n.selectFirstElementT(".f-options",this.videoControls),this.optionsButton.setAttribute(e.ariaLabel,this.localizationHelper.getLocalizedValue(a.playerLocKeys.more_caption)),this.moreOptionsTooltip=n.selectFirstElement("span",this.optionsButton),n.setText(this.moreOptionsTooltip,i),this.tooltipElements.push(this.moreOptionsTooltip),this.menuContainer=n.selectFirstElement(".f-menu-container",this.videoControls),this.volumeButton=n.selectFirstElementT(".f-volume-button",this.videoControls),this.volumeButton.setAttribute(e.ariaLabel,this.locMute),this.volumeContainer=n.selectFirstElement(".f-volume-slider",this.videoControls),this.volumeSliderElement=n.selectFirstElement(".c-slider",this.volumeContainer),this.fullScreenButton=n.selectFirstElementT(".f-full-screen",this.videoControls),this.fullScreenButton.setAttribute(e.ariaLabel,o),this.fullScreenTooltip=n.selectFirstElement("span",this.fullScreenButton),n.setText(this.fullScreenTooltip,o),this.tooltipElements.push(this.fullScreenTooltip)}},e.prototype.initializeLocalization=function(){this.locPlay=this.localizationHelper.getLocalizedValue(a.playerLocKeys.play),this.locPause=this.localizationHelper.getLocalizedValue(a.playerLocKeys.pause),this.locMute=this.localizationHelper.getLocalizedValue(a.playerLocKeys.mute),this.locUnmute=this.localizationHelper.getLocalizedValue(a.playerLocKeys.unmute)},e.prototype.setDuration=function(t){o.isNumber(t)&&(this.progressSlider&&this.progressSlider.resetSlider(0,t,this.videoPlayer.getCurrentTime(),e.seekSteps),this.timeDuration&&n.setText(this.timeDuration,o.toElapsedTimeString(t,!1)))},e.prototype.setPlayPosition=function(e){o.isNumber(e)&&this.progressSlider&&this.progressSlider.setValue(e)},e.prototype.setVolume=function(e){o.isNumber(e)&&this.videoPlayer&&this.videoPlayer.setVolume(e,!0)},e.prototype.setMuted=function(e){this.videoPlayer&&(e?this.videoPlayer.mute(!0):this.videoPlayer.unmute(!0))},e.prototype.updateVolumeState=function(){if(this.updateMuteGlyph(),this.videoPlayer&&this.volumeSlider){var e=this.videoPlayer.getVolume();this.volumeSlider.setValue(Math.round(100*e))}},e.prototype.updateMuteGlyph=function(){if(this.videoPlayer&&this.volumeButton){n.removeClasses(this.volumeButton,["glyph-volume","glyph-mute"]);var t=this.videoPlayer.isMuted()||0===this.videoPlayer.getVolume();n.addClass(this.volumeButton,t?"glyph-mute":"glyph-volume"),this.volumeButton.setAttribute(e.ariaLabel,t?this.locUnmute:this.locMute)}},e.prototype.prepareToHide=function(){this.hideAllMenus(),this.hideVolumeContainer()},e.prototype.hideControls=function(){for(var e=0,t=this.tooltipElements;e<t.length;e++){var i=t[e];this.hideElement(i)}},e.prototype.onProgressChanged=function(e){if(!e)return null;this.videoPlayer&&e.userInitiated&&this.videoPlayer.setPlayPosition(e.value);var t=o.toElapsedTimeString(e.value,!0);return this.timeCurrent&&n.setText(this.timeCurrent,o.toElapsedTimeString(e.value,!1)),t},e.prototype.onVolumeChanged=function(e){if(!e)return null;var t=Math.round(e.value);return this.setVolume(t/100),t.toString()},e.prototype.play=function(){this.videoPlayer&&this.videoPlayer.play()},e.prototype.pause=function(){this.videoPlayer&&this.videoPlayer.pause()},e.prototype.updatePlayPauseState=function(){this.videoPlayer&&this.playButton&&(this.videoPlayer.isPlayable()?(this.playButton.removeAttribute("disabled"),this.videoPlayer.isPaused()?(this.playTooltip&&n.setText(this.playTooltip,this.locPlay),n.removeClass(this.playButton,"glyph-pause"),n.addClass(this.playButton,"glyph-play"),this.playButton.setAttribute(e.ariaLabel,this.locPlay)):(this.playTooltip&&n.setText(this.playTooltip,this.locPause),n.removeClass(this.playButton,"glyph-play"),n.addClass(this.playButton,"glyph-pause"),this.playButton.setAttribute(e.ariaLabel,this.locPause),this.prepareToHide())):(this.playTooltip&&n.setText(this.playTooltip,this.locPlay),n.removeClass(this.playButton,"glyph-pause"),n.addClass(this.playButton,"glyph-play"),this.playButton.setAttribute(e.ariaLabel,this.locPlay),this.playButton.setAttribute("disabled","disabled")))},e.prototype.setFocusOnControlBar=function(){this.setFocus(this.playButton)},e.prototype.setFocusTrap=function(){n.addEvent([this.playButton,this.fullScreenButton],n.eventTypes.keydown,this.focusTrapHandler)},e.prototype.removeFocusTrap=function(){n.removeEvents([this.playButton,this.fullScreenButton],"keydown",this.focusTrapHandler)},e.prototype.showVolumeContainer=function(t){var i=this;this.volumeContainer&&(this.showElement(this.volumeContainer),this.onlyOneDialog(this.volumeContainer),clearTimeout(this.volumeAutoHideTimer),t&&(this.volumeAutoHideTimer=setTimeout(function(){i.hideVolumeContainer()},e.volumeAutoHideTimeout)))},e.prototype.hideVolumeContainer=function(){document.activeElement!==this.volumeButton&&this.hideElement(this.volumeContainer),clearTimeout(this.volumeAutoHideTimer)},e.prototype.showElement=function(t){t&&t.setAttribute(e.ariaHidden,"false")},e.prototype.hideElement=function(t){
t&&t.setAttribute(e.ariaHidden,"true")},e.prototype.initializePlayerMenus=function(){var t=n.selectElements(e.menuSelector+" ul",this.menuContainer);t&&t.length&&n.addEvents(t,"click keydown keyup",this.onMenuEvents)},e.prototype.disposePlayerMenus=function(){var t=n.selectElements(e.menuSelector+" ul",this.menuContainer);t&&t.length&&n.removeEvents(t,"click keydown keyup",this.onMenuEvents),n.removeInnerHtml(this.menuContainer)},e.prototype.onlyOneDialog=function(t){this.activeMenu&&this.volumeContainer&&"false"===this.activeMenu.getAttribute(e.ariaHidden)&&"false"===this.volumeContainer.getAttribute(e.ariaHidden)&&(t===this.activeMenu?this.hideVolumeContainer():this.hideAllMenus())},e.prototype.onMenuKeyPressed=function(e){var t=o.getKeyCode(e),i=n.getEventTargetOrSrcElement(e),r=i&&i.parentElement;if(this.activeMenu&&r)switch(t){case 37:case 39:n.stopPropagation(e),n.preventDefault(e),i.getAttribute("data-next-menu")&&this.onMenuItemClick(e,!0);break;case 13:case 32:n.preventDefault(e),this.onMenuItemClick(e,!0);break;case 38:case 40:n.stopPropagation(e),n.preventDefault(e);var a=n.selectElements("button",this.activeMenu);a&&a.length&&(document.activeElement===a[0]&&38===t?this.setFocus(a[a.length-1]):document.activeElement===a[a.length-1]&&40===t?this.setFocus(a[0]):this.setFocus(n.selectFirstElement("button",38===t?r.previousElementSibling:r.nextElementSibling)));break;case 33:case 36:n.stopPropagation(e),n.preventDefault(e),this.setFocus(n.selectFirstElement("button",this.activeMenu));break;case 35:case 34:n.stopPropagation(e),n.preventDefault(e);var s=n.selectElements("button",this.activeMenu);s&&s.length&&this.setFocus(s[s.length-1]);break;case 27:this.hideAllMenus(),this.setFocus(this.playButton)}},e.prototype.calcHeight=function(e){if(!e||!this.videoControls)return 0;var t=n.getClientRect(e).height,i=n.getClientRect(this.videoControls.parentElement),r=n.getClientRect(this.videoControls),o=i.height-r.height-10;return t>o&&(t=o),t},e.prototype.createMenu=function(e){if(this.menuContainer&&e&&e.category&&e.id&&e.items&&e.items.length){var t="";e.label&&(t+="<li>\n    <button class='c-action-trigger c-glyph glyph-chevron-left' data-next-menu='back'>"+e.label+"</button>\n</li>");for(var i=0,r=1,o=0,n=e.items;o<n.length;o++){var a=n[o];a.selectable&&i++}for(var s=0,l=e.items;s<l.length;s++){var a=l[s];a.subMenu&&(a.subMenuId=a.subMenu.id,this.createMenu(a.subMenu));var u="c-action-trigger";u+=a.subMenuId||a.glyph||a.selectable?" c-glyph":"",u+=a.selectable&&a.selected?" glyph-check-mark":"",u+=a.subMenuId?" glyph-chevron-right":"",u+=a.glyph?" "+a.glyph:"",t+="<li id='"+a.id+"'>\n    <button class='"+u+"' "+(a.data?"data-info='"+a.data+"'":"")+"\n        role="+(a.selectable?"'menuitemradio'":"'menuitem'")+"\n        "+(a.selectable?"aria-setsize='"+i+"' aria-posinset="+r++:"")+"\n        "+(a.selectable&&a.selected?"aria-selected='true' aria-checked='true'":"")+" \n        "+(a.selectable?"data-video-selectable='true'":"")+"\n        "+(a.subMenuId?"data-next-menu="+a.subMenuId+" aria-expanded='false' aria-haspopup='true'":"")+"\n        "+(a.persistOnClick?"data-persist='true'":"")+">\n            "+(a.image?"<img src='"+a.image+"' alt='"+(a.imageAlt||"")+"' class='c-image'/>":"")+"\n            "+a.label+"\n    </button>\n</li>"}var c="<div id='"+e.id+"' class='f-player-menu' aria-hidden='true' data-category='"+e.category+"'>\n    <ul role='menu' class='c-list f-bare'>\n        "+t+"\n    </ul>\n</div>",d=document.createElement("div");d.innerHTML=c,this.menuContainer.appendChild(d.firstChild)}},e.prototype.showMenu=function(e,t){if(e){this.hideActiveMenu();var i=n.selectFirstElement("#"+e,this.menuContainer);if(i){this.showElement(i);var r=this.calcHeight(i);n.css(i,"height",r+"px"),this.activeMenu=i,this.onlyOneDialog(i),t&&this.setFocus(n.selectFirstElement("button",i))}}},e.prototype.setFocus=function(e){e&&setTimeout(function(){e.focus()},0)},e.prototype.hideActiveMenu=function(){this.activeMenu&&(this.hideElement(this.activeMenu),this.activeMenu=null)},e.prototype.pushToMenuBackStack=function(e){this.menuBackStack&&e&&this.menuBackStack.push(e)},e.prototype.popFromMenuBackStack=function(){return this.menuBackStack&&this.menuBackStack.length?this.menuBackStack.pop():null},e.prototype.clearMenuBackStack=function(){this.menuBackStack=[]},e.prototype.setupPlayerMenus=function(e){if(this.videoControls&&e&&e.length){this.disposePlayerMenus();for(var t=[],i=0,r=e;i<r.length;i++){var o=r[i];t.push({id:o.id+"_item",label:o.label,subMenu:o})}var n=this.videoPlayer.getPlayerId()+"-options-menu",a={id:n,items:t,category:"options"};this.createMenu(a),this.optionsButton.setAttribute("data-menu-id",n),this.initializePlayerMenus()}},e.prototype.updateMenuSelection=function(e,t){if(e&&this.menuContainer){var i=n.selectFirstElement("#"+e,this.menuContainer);if(i)for(var r=n.selectElements("li",i),o=0,a=r;o<a.length;o++){var s=a[o],l=n.selectFirstElement("button",s);l&&l.getAttribute("data-video-selectable")&&(t&&t===s.id?(n.addClasses(l,["c-glyph","glyph-check-mark"]),l.setAttribute("aria-selected","true"),l.setAttribute("aria-checked","true")):(n.removeClass(l,"glyph-check-mark"),l.removeAttribute("aria-selected"),l.removeAttribute("aria-checked")))}}},e.selector=".f-video-controls",e.ariaHidden="aria-hidden",e.ariaLabel="aria-label",e.menuSelector=".f-player-menu",e.seekSteps=5,e.volumeSteps=5,e.volumeAutoHideTimeout=1e3,e}();t.VideoControls=s}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(13),i(5)],o=function(e,t,i,r){"use strict";var o=function(){function e(){}return e.create=function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(!o.c&&!o.component)throw"factoryInput should has either component or c to tell the factory what component to create.Eg.ComponentFactory.create([{ c: Carousel] or ComponentFactory.create([component: Carousel]))";e.createComponent(o.component||o.c,o)}},e.createComponent=function(t,r){if(t){var o=r&&r.eventToBind?r.eventToBind:"",n=r&&r.selector?r.selector:t.selector,a=r&&r.context?r.context:null,s=[],l=function(e,o,n){var l;l=r.elements?r.elements:o?i.selectElementsT(o,a):[document.body];for(var u=0,c=l;u<c.length;u++){var d=c[u];if(d.mwfInstances||(d.mwfInstances={}),d.mwfInstances[e])s.push(d.mwfInstances[e]);else{var p=new t(d,n);p.isObserving&&!p.isObserving()||(d.mwfInstances[e]=p,s.push(p))}}};switch(o){case"DOMContentLoaded":if(!e.onDomReadyHappened){e.domReadyFunctions.push(function(){return e.callBindFunction(t,n,l,r,s)});break}e.callBindFunction(t,n,l,r,s);break;case"load":default:if(!e.onDeferredHappened){e.deferredFunctions.push(function(){return e.callBindFunction(t,n,l,r,s)});break}e.callBindFunction(t,n,l,r,s)}}},e.callBindFunction=function(t,i,o,n,a){void 0===n&&(n=null);var s=e.getTypeName(t),l=s||i||"",u=n&&n.params?n.params:{};u.mwfClass=s,r.createPerfMarker(l+"_Begin"),o(s,i,u),r.createPerfMarker(l+"_End"),n&&n.callback&&n.callback(a)},e.getTypeName=function(t){if(t.typeName)return t.typeName;if(t.name)return t.name;var i=e.typeNameRegEx.exec(t.toString());return i&&i.length>1?i[1]:void 0},e.enumerateComponents=function(e,t){if(e&&t){var i=e.mwfInstances;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];if(o&&!t(r,o))break}}},e.typeNameRegEx=/function\s+(\S+)\s*\(/,e.onLoadTimeoutMs=6e3,e.onDeferredHappened=!1,e.deferredFunctions=[],e.onDomReadyHappened=!1,e.domReadyFunctions=[],e}();t.ComponentFactory=o,function(){i.onDeferred(function(){o.onDeferredHappened=!0;var e=o.deferredFunctions;if(!e||e.length>0)for(var t=0,r=e;t<r.length;t++){var n=r[t];"function"==typeof n&&i.SafeBrowserApis.requestAnimationFrame.call(window,n)}o.deferredFunctions=null},o.onLoadTimeoutMs),i.documentReady(function(){o.onDomReadyHappened=!0;var e=o.domReadyFunctions;if(!e||e.length>0)for(var t=0,r=e;t<r.length;t++){var n=r[t];"function"==typeof n&&i.SafeBrowserApis.requestAnimationFrame.call(window,n)}o.domReadyFunctions=null},o.onLoadTimeoutMs)}()}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(6)],o=function(e,t,i){"use strict";function r(e,t,i,r){void 0===r&&(r=!1);for(var o=0,n=_(e);o<n.length;o++){var a=n[o];F(a,i,r,X[t])}}function o(e,t,r,o){if(void 0===o&&(o=!1),!i.isNullOrWhiteSpace(t))for(var n=0,a=_(e);n<a.length;n++)for(var s=a[n],l=0,u=t.split(/\s+/);l<u.length;l++){var c=u[l];i.isNullOrWhiteSpace(c)||F(s,r,o,c)}}function n(e,t,r,o){void 0===o&&(o=!1);for(var n=0,a=_(e);n<a.length;n++)for(var s=a[n],l=0,u=_(t);l<u.length;l++){var c=u[l];i.isNullOrWhiteSpace(c)||R(s,r,o,c)}}function a(e){e=j(e),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}function s(e,t,i,o){void 0===o&&(o=150);var n,a=0,s=function(e){var t=Date.now();clearTimeout(n),a&&t<a+o?n=setTimeout(function(){a=t,i(e)},o-(t-a)):(a=t,i(e))};return r(e,t,s),s}function l(e,t,r,o,n){function a(e){var t,i=0,r=function(r){var o=Date.now();clearTimeout(t),i&&o<i+n?t=setTimeout(function(){i=o,e(r)},n-(o-i)):(i=o,e(r))};return r}if(void 0===o&&(o=!1),void 0===n&&(n=150),!i.isNullOrWhiteSpace(t))for(var s=0,l=_(e);s<l.length;s++)for(var u=l[s],c=0,d=t.split(/\s+/);c<d.length;c++){var p=d[c];if(!i.isNullOrWhiteSpace(p)){var h=a(r);F(u,h,o,p)}}}function u(e,t,i,o){void 0===o&&(o=150);var n,a=function(e){window.clearTimeout(n),n=setTimeout(function(){i(e)},o)};return r(e,t,a),a}function c(e,t){if(void 0===t&&(t=5e3),"complete"===document.readyState)return void e.call(null);if(!document.attachEvent&&"interactive"===document.readyState)return void e.call(null);var i,o,n,a=function(t){clearTimeout(i),o&&L(document,X.DOMContentLoaded,o),n&&L(document,X.onreadystatechange,n),G.requestAnimationFrame.call(window,e)};return i=setTimeout(function(){a("timedout")},t),document.addEventListener?(o=function(){a("domcontentloaded")},void r(document,X.DOMContentLoaded,o,!1)):void(document.attachEvent&&(n=function(){"complete"===document.readyState&&a("readystatecomplete")},r(document,X.onreadystatechange,n,!1)))}function d(e,t){void 0===t&&(t=5e3);var i,o=setTimeout(function(){clearTimeout(o),L(window,X.load,i),e.call(null)},t);i=function(){clearTimeout(o),G.requestAnimationFrame.call(window,e)},"complete"===document.readyState?(clearTimeout(o),e.call(null)):r(window,X.load,i)}function p(e,t){!e||i.isNullOrWhiteSpace(t)||v(e,t)||(e.classList?e.classList.add(t):e.className=i.trim(e.className+" "+t))}function h(e,t){if(e&&!i.isNullOrWhiteSpace(t))for(var r=0,o=_(e);r<o.length;r++){var n=o[r];n.className&&(n.className=i.trim((" "+n.className+" ").replace(" "+i.trim(t)+" "," ")))}}function y(e,t){if(t)for(var i=0,r=t;i<r.length;i++){var o=r[i];h(e,o)}}function g(e,t){if(t)for(var i=0,r=t;i<r.length;i++){var o=r[i];p(e,o)}}function m(e,t){if(e&&t)for(var r=0,o=t;r<o.length;r++){var n=o[r];i.isNullOrWhiteSpace(n.name)||i.isNullOrWhiteSpace(n.value)||e.setAttribute(n.name,n.value)}}function v(e,t){return!(!e||i.isNullOrWhiteSpace(t)||i.isNullOrWhiteSpace(e.className))&&(" "+e.className+" ").indexOf(" "+i.trim(t)+" ")>-1}function f(e){return e?e.parentElement.removeChild(e):e}function C(e,t){return M(e,t)}function b(e,t){var i=M(e,t);return i&&i.length?i[0]:null}function M(e,t){if(i.isNullOrWhiteSpace(e))return[];var r=t||document;if(/^[\#.]?[\w-]+$/.test(e)){switch(e[0]){case".":return T(r.getElementsByClassName?r.getElementsByClassName(e.slice(1)):r.querySelectorAll(e));case"#":var o=r.querySelector(e);return o?[o]:[]}return T(r.getElementsByTagName(e))}return T(r.querySelectorAll(e))}function S(e,t){var i=M(e,t);return i&&i.length?i[0]:null}function w(e,t){var i,r,o=t||document;i=e.split(",");for(var n=0,a=i;n<a.length;n++){var s=a[n];r+=this.selectElements(s,o)}return r}function T(e){if(!e)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}function P(e){for(void 0===e&&(e=document.documentElement);null!==e;){var t=e.getAttribute("dir");if(t)return"rtl"===t?J.right:J.left;e=e.parentElement}return J.left}function k(e){if(e){var t=e.getBoundingClientRect(),i={};for(var r in t)i[r]=t[r];return"undefined"==typeof i.width&&(i.width=e.offsetWidth),"undefined"==typeof i.height&&(i.height=e.offsetHeight),i}}function E(e){if(e)return{width:parseFloat(k(e).width)+parseFloat(x(e,"margin-left"))+parseFloat(x(e,"margin-right")),height:parseFloat(k(e).height)+parseFloat(x(e,"margin-top"))+parseFloat(x(e,"margin-bottom"))}}function x(e,t,r){return e?r||""===r?void(e.style[t]=r):(r=e.style[t],i.isNullOrWhiteSpace(r)&&(r=getComputedStyle(e),r=r[t]),r):null}function L(e,t,i,r){if(e&&t&&i)for(var o=0,n=_(e);o<n.length;o++){var a=n[o];R(a,i,r,X[t])}}function I(e){return Array.isArray?Array.isArray(e):"[object Array]"==={}.toString.call(e)}function _(e){return I(e)?e:[e]}function N(e,t){if(!e||!t)return null;for(var i=t.parentNode;null!=i;){if(i===e)return!0;i=i.parentNode}return!1}function A(e,t){return e&&t?e===t||N(e,t):null}function O(e){return e?e.textContent||e.innerText||"":""}function D(e,t){e&&null!==t&&(e.textContent?e.textContent=t:e.innerHTML=t)}function V(e){e&&(e.innerHTML="")}function z(e){return e=j(e),e.target||e.srcElement}function j(e){return e||window.event}function F(e,t,i,r){void 0===i&&(i=!1),e&&(window.addEventListener?e.addEventListener(r,t,i):e.attachEvent("on"+r,t))}function R(e,t,i,r){void 0===i&&(i=!1),e&&(window.removeEventListener?e.removeEventListener(r,t,i):e.detachEvent("on"+r,t))}function B(e,t,i){if(void 0===i&&(i={}),!e||!t)return null;var r="string"==typeof t?t:X[t],o=null;return i.bubbles="undefined"==typeof i.bubbles||i.bubbles,i.cancelable="undefined"==typeof i.cancelable||i.cancelable,window.CustomEvent&&"function"==typeof window.CustomEvent?o=new CustomEvent(r,i):document.createEvent?(o=document.createEvent("CustomEvent"),o.initCustomEvent(r,i.bubbles,i.cancelable,i.detail)):(o=document.createEventObject(),e.fireEvent("on"+r,o)),e.dispatchEvent(o),o}function H(e){e.stopPropagation?e.stopPropagation():e.returnValue=!1}function W(e){return void 0===e&&(e=window),e.scrollY||e.pageYOffset||("CSS1Compat"===e.document.compatMode?e.document.documentElement.scrollTop:e.document.body.scrollTop)}function U(e){if(!e)return window.document.documentElement;for(var t=e.ownerDocument.documentElement,i=e.offsetParent;i&&"static"==x(i,"position");)i=i.offsetParent;return i||t}function Q(e,t){if(e&&t){var i=t.clientHeight,r=t.scrollHeight;r>i&&(t.scrollTop=Math.min(e.offsetTop-t.firstElementChild.offsetTop,r-i))}}function Y(e){return"undefined"==typeof e.complete||"undefined"==typeof e.naturalHeight||e&&e.complete&&e.naturalHeight>0}function K(e){var t=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||t[0];return{x:i.clientX,y:i.clientY}}function Z(e,t){for(var i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!i.call(e,t);)e=e.parentElement;return e}function q(e,t){void 0===t&&(t=!0),e&&window.navigator.pointerEnabled&&x(e,"touchAction",t?"pan-y":"pan-x")}var G;!function(e){e.requestAnimationFrame=window.requestAnimationFrame||function(e){"function"==typeof e&&window.setTimeout(e,16.7)}}(G=t.SafeBrowserApis||(t.SafeBrowserApis={})),function(e){e[e.right=0]="right",e[e.left=1]="left"}(t.Direction||(t.Direction={}));var J=t.Direction;!function(e){e[e.animationend=0]="animationend",e[e.blur=1]="blur",e[e.change=2]="change",e[e.click=3]="click",e[e.DOMContentLoaded=4]="DOMContentLoaded",e[e.DOMNodeInserted=5]="DOMNodeInserted",e[e.DOMNodeRemoved=6]="DOMNodeRemoved",e[e.ended=7]="ended",e[e.error=8]="error",e[e.focus=9]="focus",e[e.focusin=10]="focusin",e[e.load=11]="load",e[e.keydown=12]="keydown",e[e.keypress=13]="keypress",e[e.keyup=14]="keyup",e[e.loadedmetadata=15]="loadedmetadata",e[e.mousedown=16]="mousedown",e[e.mousemove=17]="mousemove",e[e.mouseout=18]="mouseout",e[e.mouseover=19]="mouseover",e[e.mouseup=20]="mouseup",e[e.onreadystatechange=21]="onreadystatechange",e[e.resize=22]="resize",e[e.scroll=23]="scroll",e[e.submit=24]="submit",e[e.timeupdate=25]="timeupdate",e[e.touchcancel=26]="touchcancel",e[e.touchend=27]="touchend",e[e.touchmove=28]="touchmove",e[e.touchstart=29]="touchstart",e[e.wheel=30]="wheel"}(t.eventTypes||(t.eventTypes={}));var X=t.eventTypes;t.addEvent=r,t.addEvents=o,t.removeEvents=n,t.preventDefault=a,t.addThrottledEvent=s,t.addThrottledEvents=l,t.addDebouncedEvent=u,t.documentReady=c,t.onDeferred=d,t.addClass=p,t.removeClass=h,t.removeClasses=y,t.addClasses=g,t.addAttribute=m,t.hasClass=v,t.removeElement=f,t.selectElements=C,t.selectFirstElement=b,t.selectElementsT=M,t.selectFirstElementT=S,t.selectElementsFromSelectors=w,t.nodeListToArray=T,t.getDirection=P,t.getClientRect=k,t.getClientRectWithMargin=E,t.css=x,t.removeEvent=L,t.isArray=I,t.toArray=_,t.isDescendent=N,t.isDescendentOrSelf=A,t.getText=O,t.setText=D,t.removeInnerHtml=V,t.getEventTargetOrSrcElement=z,t.getEvent=j,t.customEvent=B,t.stopPropagation=H,t.getScrollY=W,t.getOffsetParent=U,t.scrollElementIntoView=Q,t.isImageLoadedSuccessfully=Y,t.getCoordinates=K,t.getParent=Z,t.preventDefaultSwipeAction=q}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o,n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};r=[i,t,i(15),i(13),i(5)],o=function(e,t,i,r,o){"use strict";var a=function(e){function t(t){var i=this;e.call(this,t),this.onKeyPressed=function(e){switch(e){case 37:case 39:if(!i.isVerticalSlider){var t=i.primaryDirection===r.Direction.left?i.stepOffset:-i.stepOffset;t=37===e?-t:t,i.updateThumbOffset(i.thumbOffset+t,!0,!0)}break;case 38:case 40:if(i.isVerticalSlider){var t=38===e?i.stepOffset:-i.stepOffset;i.updateThumbOffset(i.thumbOffset+t,!0,!0),r.preventDefault(r.getEvent(event))}break;case 33:var t=2*i.stepOffset;i.updateThumbOffset(i.thumbOffset+t,!0,!0);break;case 34:var t=-(2*i.stepOffset);i.updateThumbOffset(i.thumbOffset+t,!0,!0);break;case 36:var o=parseInt(i.input.getAttribute("min"),10)||0;i.updateThumbOffset(o,!0,!0);break;case 35:var n=parseInt(i.input.getAttribute("step"),10),a=i.thumbRange+n;i.updateThumbOffset(a,!0,!0)}},this.onKeyDown=function(e){i.onKeyPressed(o.getKeyCode(r.getEvent(e)))},this.onMouseDown=function(e){return e=r.getEvent(e),i.setupDimensions(),r.getEventTargetOrSrcElement(e)===i.thumb?(r.addEvent(document,r.eventTypes.mousemove,i.onMouseMove),r.addEvent(document,r.eventTypes.mouseup,i.onMouseUp),r.addEvent(document,r.eventTypes.touchmove,i.onMouseMove),void r.addEvent(document,r.eventTypes.touchcancel,i.onMouseUp)):void i.moveThumbTo(e.clientX,e.clientY)},this.onMouseMove=function(e){if("mousemove"===e.type&&(e=r.getEvent(e)),"touchmove"===e.type){var t=r.getEvent(e);e=t.targetTouches[0]}i.moveThumbTo(e.clientX,e.clientY)},this.onMouseUp=function(e){r.removeEvent(document,r.eventTypes.mousemove,i.onMouseMove),r.removeEvent(document,r.eventTypes.mouseup,i.onMouseUp),r.removeEvent(document,r.eventTypes.touchmove,i.onMouseMove),r.removeEvent(document,r.eventTypes.touchcancel,i.onMouseUp)},this.onWindowResized=function(e){i.setupDimensions()},this.update()}return n(t,e),t.prototype.update=function(){if(this.element){this.input=r.selectFirstElement("input",this.element),this.primaryDirection=r.getDirection(this.element),this.isVerticalSlider=r.hasClass(this.input,"f-vertical"),r.preventDefaultSwipeAction(this.element,!this.isVerticalSlider),r.addClass(this.input,"x-screen-reader");var e=parseInt(this.input.getAttribute("min"),10)||0,t=parseInt(this.input.getAttribute("max"),10)||100,i=parseInt(this.input.getAttribute("value"),10),o=parseInt(this.input.getAttribute("step"),10);this.element.children[this.element.children.length-1]===this.input?(this.mockSlider=document.createElement("div"),this.thumb=document.createElement("button"),this.thumb.setAttribute("role","slider"),this.thumb.setAttribute("aria-valuemin",e.toString()),this.thumb.setAttribute("aria-valuemax",t.toString()),this.thumb.setAttribute("aria-valuenow",i.toString()),this.input.hasAttribute("aria-label")&&this.thumb.setAttribute("aria-label",this.input.getAttribute("aria-label")),this.valueTooltip=document.createElement("span"),this.track=document.createElement("span"),this.thumb.appendChild(this.valueTooltip),this.mockSlider.appendChild(this.thumb),this.mockSlider.appendChild(this.track),this.element.appendChild(this.mockSlider),this.ignoreNextDOMChange=!0):(this.mockSlider=this.element.children[this.element.children.length-1],this.thumb=this.mockSlider.firstElementChild,this.valueTooltip=this.thumb.firstElementChild,this.track=this.mockSlider.children[this.mockSlider.children.length-1]),this.halfThumbOffset=this.thumb.clientWidth/2,this.resetSliderInternal(e,t,i,o,!0)&&(r.addEvent(this.element,r.eventTypes.mousedown,this.onMouseDown),r.addEvent(this.element,r.eventTypes.touchstart,this.onMouseDown),r.addEvent(this.thumb,r.eventTypes.keydown,this.onKeyDown),this.resizeListener=r.addDebouncedEvent(window,r.eventTypes.resize,this.onWindowResized))}},t.prototype.teardown=function(){r.removeEvent(this.element,r.eventTypes.mousedown,this.onMouseDown),r.removeEvent(this.element,r.eventTypes.touchstart,this.onMouseDown),r.removeEvent(this.thumb,r.eventTypes.keydown,this.onKeyDown),r.removeEvent(window,r.eventTypes.resize,this.resizeListener),this.input=null,this.mockSlider=null,this.thumb=null,this.valueTooltip=null,this.track=null,this.resizeListener=null},t.prototype.resetSlider=function(e,t,i,r){return this.resetSliderInternal(e,t,i,r,!1)},t.prototype.resetSliderInternal=function(e,t,i,r,n){return!(!o.isNumber(e)||!o.isNumber(t))&&(!(Math.max(e,t)-Math.min(e,t)<=0)&&(this.min=Math.min(e,t),this.max=Math.max(e,t),this.range=this.max-this.min,this.step=isNaN(r)?this.range/10:r,this.value=Math.min(Math.max(isNaN(i)?isNaN(this.value)?this.min:this.value:i,this.min),this.max),this.setupDimensions(),this.updateThumbOffset(this.thumbOffset,n,!1),!0))},t.prototype.setValue=function(e){return!(!o.isNumber(e)||e<this.min||e>this.max)&&(e!==this.value&&(this.thumbOffset=(e-this.min)*this.thumbRange/this.range+this.halfThumbOffset,this.updateThumbOffset(this.thumbOffset,!1,!1)),!0)},t.prototype.setupDimensions=function(){this.dimensions=r.getClientRect(this.mockSlider),this.isVerticalSlider?(this.dimensions.left-=t.hitPadding,this.dimensions.right+=t.hitPadding,this.thumbRange=this.dimensions.height-this.thumb.clientWidth,this.maxThumbOffset=this.dimensions.height):(this.dimensions.top-=t.hitPadding,this.dimensions.bottom+=t.hitPadding,this.thumbRange=this.dimensions.width-this.thumb.clientWidth,this.maxThumbOffset=this.dimensions.width),this.thumbRange=Math.max(this.thumbRange,1),this.thumbOffset=(this.value-this.min)*this.thumbRange/this.range+this.halfThumbOffset,this.stepOffset=this.thumbRange/(this.range/this.step),this.setThumbPosition()},t.prototype.setThumbPosition=function(){var e=Math.max(0,this.thumbOffset-this.halfThumbOffset);r.css(this.thumb,r.Direction[this.primaryDirection],e+"px"),r.css(this.track,"width",e+"px")},t.prototype.updateThumbOffset=function(e,t,i){o.isNumber(e)||(e=this.thumbOffset),this.thumbOffset=Math.min(Math.max(0,e),this.maxThumbOffset);var n=1e3*Math.max(0,this.thumbOffset-this.halfThumbOffset)*this.range/this.thumbRange;n=Math.round(n)/1e3+this.min,this.value=Math.min(Math.max(this.min,n),this.max),this.valueTooltipText=null,this.initiatePublish({value:this.value,internal:t,userInitiated:i}),this.valueTooltipText||(this.valueTooltipText=Math.round(this.value).toString()),isNaN(parseFloat(this.valueTooltipText))||this.valueTooltipText.match(":")?(this.input.setAttribute("value",n.toString()),this.thumb.setAttribute("aria-valuenow",n.toString()),this.thumb.setAttribute("aria-valuetext",this.valueTooltipText)):(this.input.setAttribute("value",this.valueTooltipText),this.thumb.setAttribute("aria-valuenow",this.valueTooltipText)),r.setText(this.valueTooltip,this.valueTooltipText),this.setThumbPosition()},t.prototype.publish=function(e,t){var i=e.onValueChanged(t);i&&!this.valueTooltipText&&(this.valueTooltipText=i)},t.prototype.moveThumbTo=function(e,t){if(o.pointInRect(e,t,this.dimensions)){var i=this.dimensions.bottom-t;this.isVerticalSlider||(i=this.primaryDirection===r.Direction.left?e-this.dimensions.left:this.dimensions.right-e),this.updateThumbOffset(i,!0,!0)}},t.selector=".c-slider",t.typeName="Slider",t.hitPadding=20,t}(i.Publisher);t.Slider=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o,n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};r=[i,t,i(16)],o=function(e,t,i){"use strict";var r=function(e){function t(t,i){void 0===i&&(i=null),e.call(this,t,i),this.element=t}return n(t,e),t.prototype.subscribe=function(e){if(!e)return!1;if(this.subscribers){if(this.subscribers.indexOf(e)!==-1)return!1}else this.subscribers=[];return this.subscribers.push(e),!0},t.prototype.unsubscribe=function(e){if(!e||!this.subscribers||!this.subscribers.length)return!1;var t=this.subscribers.indexOf(e);return t!==-1&&(this.subscribers.splice(t,1),!0)},t.prototype.hasSubscribers=function(){return!!this.subscribers&&this.subscribers.length>0},t.prototype.initiatePublish=function(e){if(this.hasSubscribers())for(var t=0,i=this.subscribers;t<i.length;t++){var r=i[t];this.publish(r,e)}},t.prototype.update=function(){},t.prototype.teardown=function(){},t}(i.ObservableComponent);t.Publisher=r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(13)],o=function(e,t,i){"use strict";var r=function(){function e(t,i){void 0===i&&(i=null),this.element=t,this.ignoreNextDOMChange=!1,this.observing=!1,e.shouldInitializeAsClass(t,i)&&this.setObserver()}return e.prototype.isObserving=function(){return this.observing},e.prototype.unObserve=function(){this.observing=!1,this.modernObserver&&this.modernObserver.disconnect(),i.removeEvent(this.element,i.eventTypes.DOMNodeInserted,this.obsoleteNodeInsertedEventHander),i.removeEvent(this.element,i.eventTypes.DOMNodeRemoved,this.obsoleteNodeRemovedEventHandler)},e.prototype.setObserver=function(){this.observing=!0,"undefined"!=typeof e.mutationObserver?this.observeModern():"MutationEvent"in window&&this.observeObsolete()},e.prototype.observeModern=function(){var e=this,t={childList:!0,subtree:!0};this.modernObserver=new MutationObserver(function(t){e.onModernMutations(t)}),this.modernObserver.observe(this.element,t)},e.prototype.onModernMutations=function(e){if(this.ignoreNextDOMChange)return void(this.ignoreNextDOMChange=!1);for(var t=!1,i=!1,r=0,o=e;r<o.length;r++){for(var n=o[r],a=0,s=n.addedNodes.length;a<s;a++)1===n.addedNodes[a].nodeType&&(t=!0,i=!0);for(var a=0,l=n.removedNodes.length;a<l;a++)1===n.removedNodes[a].nodeType&&(t=!0,n.removedNodes[a]!==this.element&&(i=!0))}t&&this.teardown(),i&&this.update()},e.prototype.observeObsolete=function(){var e=this;this.obsoleteNodeInsertedEventHander=i.addDebouncedEvent(this.element,i.eventTypes.DOMNodeInserted,function(){e.onObsoleteNodeInserted()}),this.obsoleteNodeRemovedEventHandler=i.addDebouncedEvent(this.element,i.eventTypes.DOMNodeRemoved,function(t){e.onObsoleteNodeRemoved(t)})},e.prototype.onObsoleteNodeInserted=function(){this.ignoreNextDOMChange||(this.teardown(),this.update())},e.prototype.onObsoleteNodeRemoved=function(e){this.ignoreNextDOMChange||(this.teardown(),i.getEventTargetOrSrcElement(e)!==this.element&&this.update())},e.shouldInitializeAsClass=function(t,i){var r=t?t.getAttribute(e.mwfClassAttribute):null,o=t?t.getAttribute(e.initializeAttribute):null;return"false"!==o&&(!!t&&(!r||!!i&&r===i.mwfClass))},e.mwfClassAttribute="data-mwf-class",e.initializeAttribute="data-js-initialize",e.mutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e}();t.ObservableComponent=r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(6),i(1),i(18)],o=function(e,t,i,r,o){"use strict";var n={"az-latn-az":"az-latn","bs-latn-ba":"bs","gd-gb":"gd-latn","ha-latn-ng":"ha-latn","ig-ng":"ig-latn","ku-arab-iq":"ku-arab","ky-kg":"ky-cyrl","mn-mn":"mn-cyrl","pa-arab-pk":"pa-arab","prs-arab":"prs-af","pt-ao":"pt-pt","pt-mz":"pt-pt","quc-latn-gt":"qut-latn","sd-arab-pk":"sd-arab","sr-latn-me":"sr-latn","sr-latn-rs":"sr-latn","tg-cyrl-tj":"tg-cyrl","tk-tm":"tk-latn","tt-ru":"tt-cyrl","ug-cn":"ug-arab","uz-latn-uz":"uz-latn","wo-sn":"wo-latn","yo-ng":"yo-latn","zh-cn":"zh-hans","zh-tw":"zh-hant"},a={af:"af",am:"am",ar:"ar",as:"as","az-latn":"az-latn",be:"be",bg:"bg","bn-bd":"bn-bd","bn-in":"bn-in",bs:"bs","ca-es-valencia":"ca-es-valencia",ca:"ca","chr-cher":"chr-cher",cs:"cs",cy:"cy",da:"da","de-at":"de-at","de-ch":"de-ch",de:"de",el:"el","en-au":"en-au","en-ca":"en-ca","en-gb":"en-gb","en-in":"en-in",en:"en","es-ar":"es-ar","es-es":"es-es",es:"es",et:"et",eu:"eu",fa:"fa",fi:"fi",fil:"fil","fr-be":"fr-be","fr-ca":"fr-ca",fr:"fr",ga:"ga","gd-latn":"gd-latn",gl:"gl",gu:"gu","ha-latn":"ha-latn",he:"he",hi:"hi",hr:"hr",hu:"hu",hy:"hy",id:"id","ig-latn":"ig-latn",is:"is",it:"it",ja:"ja",ka:"ka",kk:"kk",km:"km",kn:"kn",ko:"ko",kok:"kok","ku-arab":"ku-arab","ky-cyrl":"ky-cyrl",lb:"lb",lo:"lo",lt:"lt",lv:"lv","mi-latn":"mi-latn",mk:"mk",ml:"ml","mn-cyrl":"mn-cyrl",mr:"mr",ms:"ms",mt:"mt","nb-no":"nb-no",ne:"ne","nl-be":"nl-be",nl:"nl",nn:"nn",nso:"nso",or:"or","pa-arab":"pa-arab",pa:"pa",pl:"pl","prs-af":"prs-af","pt-br":"pt-br","pt-pt":"pt-pt","quc-latn":"quc-latn",quz:"quz",ro:"ro",ru:"ru",rw:"rw","sd-arab":"sd-arab",si:"si",sk:"sk",sl:"sl",sq:"sq","sr-cyrl-ba":"sr-cyrl-ba","sr-cyrl-rs":"sr-cyrl-rs","sr-latn":"sr-latn",sv:"sv",sw:"sw",ta:"ta",te:"te","tg-cyrl":"tg-cyrl",th:"th",ti:"ti","tk-latn":"tk-latn",tn:"tn",tr:"tr","tt-cyrl":"tt-cyrl","ug-arab":"ug-arab",uk:"uk",ur:"ur","uz-latn":"uz-latn",vi:"vi","wo-latn":"wo-latn",xh:"xh","yo-latn":"yo-latn","zh-hans":"zh-hans","zh-hant":"zh-hant","zh-hk":"zh-hk",zu:"zu"},s={audio_tracks:"Audio Tracks",closecaption_off:"Off",geolocation_error:"We're sorry, this video cannot be played from your current location.",media_err_aborted:"video playback was aborted",media_err_decode:"video is not readable",media_err_network:"video failed to download",media_err_src_not_supported:"video format is not supported",media_err_unknown_error:"unknown error occurred",media_err_amp_encrypt:"The video is encrypted and we do not have the keys to decrypt it.",media_err_amp_player_mismatch:"No compatible source was found for this video.",browserunsupported:"We're sorry, but your browser does not support this video.",expand:"Full Screen",mute:"Mute",nullvideoerror:"We're sorry, this video cannot be played.",pause:"Pause",play:"Play",playbackerror:"We're sorry, an error has occurred when playing video ({0}).",standarderror:"We're sorry, this video can't be played.",time:"Time",more_caption:"More options",data_error:"Sorry, this video cannot be played.",seek:"Seek",unexpand:"Exit Full Screen",unmute:"Unmute",volume:"Volume",quality:"Quality",quality_hd:"HD",quality_hq:"HQ",quality_lo:"LO",quality_sd:"SD",quality_auto:"Auto",closecaption:"Closed captions",close_text:"Close",playbackspeed:"Playback speed",playbackspeed_normal:"Normal",sharing_label:"Share",sharing_facebook:"Facebook",sharing_twitter:"Twitter",sharing_linkedin:"LinkedIn",sharing_skype:"Skype",sharing_mail:"Mail",sharing_copy:"Copy link",loading_value_text:"Loading...",loading_aria_label:"Loading",descriptive_audio:"Audio description",unknown_language:"Unknown",cc_customize:"Customize",cc_text_font:"Font",cc_text_color:"Text color",cc_color_black:"Black",cc_color_blue:"Blue",cc_color_cyan:"Cyan",cc_color_green:"Green",cc_color_grey:"Grey",cc_color_magenta:"Magenta",cc_color_red:"Red",cc_color_white:"White",cc_color_yellow:"Yellow",cc_font_name_casual:"Casual",cc_font_name_cursive:"Cursive",cc_font_name_monospacedsansserif:"Monospaced Sans Serif",cc_font_name_monospacedserif:"Monospaced Serif",cc_font_name_proportionalserif:"Proportional Serif",cc_font_name_proportionalsansserif:"Proportional Sans Serif",cc_font_name_smallcapitals:"Small Capitals",cc_text_size:"Text size",
cc_text_size_default:"Default",cc_text_size_extralarge:"Extra Large",cc_text_size_large:"Large",cc_text_size_maximum:"Maximum",cc_text_size_small:"Small",cc_appearance:"Appearance",cc_preset1:"Preset 1 ",cc_preset2:"Preset 2",cc_preset3:"Preset 3",cc_preset4:"Preset 4",cc_preset5:"Preset 5",cc_text_background_color:"Background color",cc_text_background_opacity:"Background opacity",cc_text_opacity:"Text opacity",cc_percent_0:"0%",cc_percent_100:"100%",cc_percent_25:"25%",cc_percent_50:"50%",cc_percent_75:"75%",cc_text_edge_color:"Text edge color",cc_text_edge_style:"Text edge style",cc_text_edge_style_depressed:"Depressed",cc_text_edge_style_dropshadow:"Drop shadow",cc_text_edge_style_none:"No edge",cc_text_edge_style_raised:"Raised",cc_text_edge_style_uniform:"Uniform",cc_window_color:"Window color",cc_window_opacity:"Window opacity",cc_reset:"Reset",download_label:"Download",download_transcript:"Transcript",download_audio:"Audio",download_video:"Video",download_videoWithCC:"Video with closed captions"};t.ccCultureLocStrings={"ar-ab":"عربي","ar-xm":"عربي","ar-ma":"عربي","ar-sa":"عربي","eu-es":"Euskara","bg-bg":"Български","ca-es":"Català","zh-cn":"简体中文","zh-hk":"繁體中文","zh-tw":"繁體中文","hr-hr":"Hrvatski","cs-cz":"Čeština","da-dk":"Dansk","nl-be":"Nederlands","nl-nl":"Nederlands","en-ab":"English","en-aa":"English","en-au":"English","en-ca":"English","en-eu":"English","en-hk":"English","en-in":"English","en-id":"English","en-ie":"English","en-jm":"English","en-my":"English","en-nz":"English","en-pk":"English","en-ph":"English","en-sg":"English","en-za":"English","en-tt":"English","en-gb":"English","en-us":"English","et-ee":"Eesti","fi-fi":"Suomi","fr-ab":"Français","fr-be":"Français","fr-ca":"Français","fr-fr":"Français","fr-xf":"Français","fr-ch":"Français","gl-es":"Galego","de-de":"Deutsch","de-at":"Deutsch","de-ch":"Deutsch","el-gr":"Ελληνικά","he-il":"עברית","hi-in":"हिंदी","hu-hu":"Magyar","is-is":"Íslenska","id-id":"Bahasa Indonesia","it-it":"Italiano","ja-jp":"日本語","kk-kz":"Қазақ","ko-kr":"한국어","lv-lv":"Latviešu","lt-lt":"Lietuvių","ms-my":"Bahasa Melayu (Asia Tenggara)‎","nb-no":"Norsk (bokmål)","nn-no":"Norsk (nynorsk)","fa-ir":"فارسی","pl-pl":"Polski","pt-br":"Português (Brasil)‎","pt-pt":"Português (Portugal)‎","ro-ro":"Română","ru-ru":"Русский","sr-latn-RS":"Srpski","sk-sk":"Slovenčina","sl-si":"Slovenski","es-ar":"Español","es-cl":"Español","es-co":"Español","es-cr":"Español","es-do":"Español","es-ec":"Español","es-us":"Español","es-gt":"Español","es-hn":"Español","es-xl":"Español","es-mx":"Español","es-ni":"Español","es-pa":"Español","es-py":"Español","es-pe":"Español","es-pr":"Español","es-es":"Español","es-uy":"Español","es-ve":"Español","sv-se":"Svenska","tl-ph":"Tagalog","th-th":"ไทย","tr-tr":"Türkçe","uk-ua":"Українська","ur-pk":"اردو","vi-vn":"Tiếng Việt"},t.playerLocKeys={audio_tracks:"audio_tracks",closecaption_off:"closecaption_off",geolocation_error:"geolocation_error",media_err_aborted:"media_err_aborted",media_err_decode:"media_err_decode",media_err_network:"media_err_network",media_err_src_not_supported:"media_err_src_not_supported",media_err_unknown_error:"media_err_unknown_error",media_err_amp_encrypt:"media_err_amp_encrypt",media_err_amp_player_mismatch:"media_err_amp_player_mismatch",browserunsupported:"browserunsupported",expand:"expand",mute:"mute",nullvideoerror:"nullvideoerror",pause:"pause",play:"play",playbackerror:"playbackerror",standarderror:"standarderror",time:"time",more_caption:"more_caption",data_error:"data_error",seek:"seek",unexpand:"unexpand",unmute:"unmute",volume:"volume",quality:"quality",quality_hd:"quality_hd",quality_hq:"quality_hq",quality_lo:"quality_lo",quality_sd:"quality_sd",quality_auto:"quality_auto",cc_customize:"cc_customize",cc_text_font:"cc_text_font",cc_text_color:"cc_text_color",cc_color_black:"cc_color_black",cc_color_blue:"cc_color_blue",cc_color_cyan:"cc_color_cyan",cc_color_green:"cc_color_green",cc_color_grey:"cc_color_grey",cc_color_magenta:"cc_color_magenta",cc_color_red:"cc_color_red",cc_color_white:"cc_color_white",cc_color_yellow:"cc_color_yellow",cc_font_name_casual:"cc_font_name_casual",cc_font_name_cursive:"cc_font_name_cursive",cc_font_name_monospacedsansserif:"cc_font_name_monospacedsansserif",cc_font_name_proportionalsansserif:"cc_font_name_proportionalsansserif",cc_font_name_monospacedserif:"cc_font_name_monospacedserif",cc_font_name_proportionalserif:"cc_font_name_proportionalserif",cc_font_name_smallcapitals:"cc_font_name_smallcapitals",cc_text_size:"cc_text_size",cc_text_size_default:"cc_text_size_default",cc_text_size_extralarge:"cc_text_size_extralarge",cc_text_size_large:"cc_text_size_large",cc_text_size_maximum:"cc_text_size_maximum",cc_text_size_small:"cc_text_size_small",cc_appearance:"cc_appearance",cc_preset1:"cc_preset1",cc_preset2:"cc_preset2",cc_preset3:"cc_preset3",cc_preset4:"cc_preset4",cc_preset5:"cc_preset5",cc_text_background_color:"cc_text_background_color",cc_text_background_opacity:"cc_text_background_opacity",cc_text_opacity:"cc_text_opacity",cc_percent_0:"cc_percent_0",cc_percent_100:"cc_percent_100",cc_percent_25:"cc_percent_25",cc_percent_50:"cc_percent_50",cc_percent_75:"cc_percent_75",cc_text_edge_color:"cc_text_edge_color",cc_text_edge_style:"cc_text_edge_style",cc_text_edge_style_depressed:"cc_text_edge_style_depressed",cc_text_edge_style_dropshadow:"cc_text_edge_style_dropshadow",cc_text_edge_style_none:"cc_text_edge_style_none",cc_text_edge_style_raised:"cc_text_edge_style_raised",cc_text_edge_style_uniform:"cc_text_edge_style_uniform",cc_window_color:"cc_window_color",cc_window_opacity:"cc_window_opacity",cc_reset:"cc_reset",closecaption:"closecaption",close_text:"close_text",playbackspeed:"playbackspeed",playbackspeed_normal:"playbackspeed_normal",sharing_label:"sharing_label",sharing_facebook:"sharing_facebook",sharing_twitter:"sharing_twitter",sharing_linkedin:"sharing_linkedin",sharing_skype:"sharing_skype",sharing_mail:"sharing_mail",sharing_copy:"sharing_copy",loading_value_text:"loading_value_text",loading_aria_label:"loading_aria_label",descriptive_audio:"descriptive_audio",unknown_language:"unknown_language",download_label:"download_label",download_transcript:"download_transcript",download_audio:"download_audio",download_video:"download_video",download_videoWithCC:"download_videoWithCC"};var l={transcript:"download_transcript",audio:"download_audio",video:"download_video",videoWithCC:"download_videoWithCC"},u=function(){function e(e,t){this.market=e,this.resPathOverride=t}return e.prototype.getLanguageFromMarket=function(){if(this.market){var e=this.market.split("-");if(e.length)return e[0]}return null},e.prototype.getLocFile=function(e){return e?(e=n[e]||e,a[e]||a[this.getLanguageFromMarket()]):null},e.prototype.getCorrectResourcePath=function(){return this.resPathOverride||(r.PlayerConfig.resourcePath.indexOf("%resourcePath")===-1?r.PlayerConfig.resourcePath:r.PlayerConfig.localResourcePath)},e.prototype.queueRequest=function(t){var r=this;if(e.requestQueue[this.market])return void e.requestQueue[this.market].push(t);e.requestQueue[this.market]=[t];var n=this.getLocFile(this.market);return n?void o.PlayerUtility.ajax(i.format("{0}/{1}.json",this.getCorrectResourcePath(),n),function(t){if(t&&t.length)try{e.resources[r.market]=JSON.parse(t)}catch(e){}r.completeRequest()},this.completeRequest):void this.completeRequest()},e.prototype.completeRequest=function(){if(e.requestQueue[this.market]){for(var t=0,i=e.requestQueue[this.market];t<i.length;t++){var r=i[t];this.doCallback(r)}e.requestQueue[this.market]=null}},e.prototype.doCallback=function(e){e&&"function"==typeof e&&e()},e.prototype.loadResources=function(t){return!this.market||e.resources[this.market]?void this.doCallback(t):void this.queueRequest(t)},e.prototype.getLocalizedValue=function(t){return t?e.resources[this.market]&&e.resources[this.market][t]||s[t]||"":""},e.prototype.getLanguageNameFromLocale=function(e){return t.ccCultureLocStrings[e]||this.getLocalizedValue(t.playerLocKeys.unknown_language)},e.prototype.getLocalizedMediaTypeName=function(t){if(!t||!l[t])return"";var i=l[t];return e.resources[this.market]&&e.resources[this.market][i]||s[i]||""},e.resources={},e.requestQueue={},e}();t.LocalizationHelper=u}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(6),i(2),i(5)],o=function(e,t,i,r,o){"use strict";var n=function(){function e(){}return e.random4CharString=function(){return(1+Math.random()).toString(32).substring(1)},e.loadScript=function(e){var t=document.getElementsByTagName("script")[0],i=document.createElement("script");i.src=e,i.async=!0,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i))},t.parentNode.insertBefore(i,t)},e.formatContentErrorMessage=function(e,t,o){var n=i.format("[CE{0}]: {1}",r.VideoErrorCodes[e],t);return o&&(n+=i.format("; (Additional: {0})",o)),n},e.logConsoleMessage=function(t,r){void 0===r&&(r="VideoPlayer");var o=i.format("[{0}][{1}] {2}",e.toLogTime(new Date),r,t);"object"==typeof console&&console.log&&console.log(o)},e.toLogTime=function(e){e||(e=new Date);var t=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return t=t<10?"0"+t:t,i=i<10?"0"+i:i,r=r<10?"0"+r:r,t+":"+i+":"+r},e.toFriendlyBitrateString=function(e){var t;if(e>=1e7){var i=e/1e6;t=Math.round(i).toLocaleString()+" Mbps"}else if(e>=1e6){var i=e/1e6;t=(.01*Math.round(100*i)).toLocaleString()+" Mbps"}else if(e>=1e4){var r=e/1e3;t=Math.round(r).toLocaleString()+" Kbps"}else if(e>=1e3){var r=e/1e3;t=(.01*Math.round(100*r)).toLocaleString()+" Kbps"}else t=Math.round(e).toLocaleString()+" bps";return t},e.logPanelMessage=function(t,r){var o=i.format("[{0}][{1}] {2}",e.toLogTime(new Date),r,t);"undefined"==typeof e.debugPanel&&(e.debugPanel=e.createDebugPanel()),e.debugPanel.appendChild(document.createTextNode("["+(new Date).toLocaleString()+"]"+o)),e.debugPanel.appendChild(document.createElement("BR")),e.debugPanel.scrollTop=e.debugPanel.scrollHeight-e.debugPanel.clientHeight},e.createDebugPanel=function(){var e=document.createElement("div");return e.className="debugPanel",document.body.appendChild(e),e},e.getGUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(t){var i=Math.floor((e+16*Math.random())%16),r="x"===t?i:i%4+4;return r.toString(16)});return t},e.ajax=function(e,t,i){if(e){var r=null;window.XDomainRequest?(r=new XDomainRequest,r.onload=function(){t&&t(r.responseText)}):window.XMLHttpRequest&&(r=new XMLHttpRequest,r.onreadystatechange=function(){if(4===r.readyState){var e=null;200===r.status&&(e=r.responseText),t&&t(e)}}),r&&(r.ontimeout=i,r.onerror=i,r.open("GET",e,!0),r.send())}},e.createVideoPerfMarker=function(e,t){e&&t&&o.createPerfMarker(e+"_"+t,!0)},e.getVideoPerfMarker=function(e,t){return e&&t?o.getPerfMarkerValue(e+"_"+t):0},e}();t.PlayerUtility=n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(20),i(13),i(5),i(18)],o=function(e,t,i,r,o,n){"use strict";var a=function(){function e(e){this.element=e,this.lastPlayPosition=0,this.ccLanguageId=null,this.resetCaptions()}return e.prototype.setCcLanguage=function(e,t){if(this.element&&e!==this.ccLanguageId){if(this.ttmlContext=null,this.resetCaptions(),!t)return void(this.ccLanguageId=null);this.ccLanguageId=e,this.loadClosedCaptions(t)}},e.prototype.loadClosedCaptions=function(e){var t=this;n.PlayerUtility.ajax(e,function(e){return t.onClosedCaptionsLoaded(e)})},e.prototype.onClosedCaptionsLoaded=function(t){if(t){this.element.setAttribute(e.ariaHidden,"false");var r=this.element.id?this.element.id+"-":"",n={idPrefix:r,fontMap:{default:"Segoe ui, Arial"},relatedMediaObjectRegion:o.getDimensions(this.element)};this.ttmlContext=i.TtmlParser.parse(t,n),this.ttmlContext&&(this.ttmlContext.setOwnerDocument(this.element.ownerDocument),this.ttmlContext.hasEvents()?this.updateCaptions(this.lastPlayPosition):this.element.setAttribute(e.ariaHidden,"true"))}},e.prototype.updateCaptions=function(t){if(this.lastPlayPosition=t,this.ttmlContext&&this.ttmlContext.hasEvents()){var i=Math.floor(1e3*t);this.element.setAttribute(e.ariaHidden,"false");var n=o.getDimensions(this.element);if(this.ttmlContext.updateRelatedMediaObjectRegion(n)&&this.resetCaptions(),this.ttmlContext.updateCurrentEvents(i)){this.element.setAttribute(e.ariaHidden,"true"),r.removeInnerHtml(this.element);for(var a=0,s=this.ttmlContext.getCues(i);a<s.length;a++){var l=s[a];this.applyUserPreferencesOverrides(l),r.css(l,"background-color",""),this.element.appendChild(l)}this.element.setAttribute(e.ariaHidden,"false")}}},e.prototype.resetCaptions=function(){this.ttmlContext&&this.ttmlContext.resetCurrentEvents(),this.element&&(this.element.setAttribute(e.ariaHidden,"true"),r.removeInnerHtml(this.element))},e.prototype.applyUserPreferencesOverrides=function(t){if(e.userPreferences){if(e.userPreferences.text)for(var i=0,o=r.selectElements("span, br",t);i<o.length;i++){var n=o[i];for(var a in e.userPreferences.text)e.userPreferences.text.hasOwnProperty(a)&&r.css(n,a,e.userPreferences.text[a])}if(e.userPreferences.window)for(var s=0;s<t.children.length;s++)for(var a in e.userPreferences.window)e.userPreferences.window.hasOwnProperty(a)&&r.css(t.children[s],a,e.userPreferences.window[a])}},e.ariaHidden="aria-hidden",e.userPreferences={text:{},window:{}},e}();t.VideoClosedCaptions=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(21),i(23),i(22),i(13),i(6)],o=function(e,t,i,r,o,n,a){"use strict";var s=function(){function e(){}return e.parse=function(t,n){t="string"==typeof t?e.parseXml(t):t;var a=new i.TtmlContext;if(a.settings=new o.TtmlSettings(n),a.root=e.verifyRoot(t,a),a.body=e.getFirstElementByTagNameNS(a.root,"body",a.settings.ttmlNamespace),a.events=[],a.styleSetCache=[],a.body){try{e.parseTtAttrs(a);var s=e.ensureRegions(a),l=e.getAttributeNS(a.root,"timeBase",a.settings.ttmlParameterNamespace)||"media";if(a.settings.supportedTimeBase.indexOf(l)!==-1){e.processAnonymousSpans(a,a.body);var u=new r.TtmlTimeParser(a.settings.mediaFrameRate,a.settings.mediaTickRate);e.applyTiming(a,a.root,{start:e.mediaStart,end:e.mediaEnd},!0,u),e.applyStyling(a,s)}}catch(e){}a.events.push({time:e.mediaEnd,element:null}),a.events.sort(function(e,t){return e.time-t.time})}return a},e.parseXml=function(e){var t=null;try{if(window.DOMParser){var i=new DOMParser;t=i.parseFromString(e,"application/xml")}else{var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1,i.loadXML(e),t=i}}catch(e){t=null}return t},e.verifyRoot=function(t,i){var r,o=t.documentElement;return"tt"===e.getLocalTagName(o)&&("http://www.w3.org/ns/ttml"!==o.namespaceURI&&(i.settings.ttmlNamespace=o.namespaceURI,i.settings.ttmlStyleNamespace=i.settings.ttmlNamespace+"#styling",i.settings.ttmlParameterNamespace=i.settings.ttmlNamespace+"#parameter",i.settings.ttmlMetaNamespace=i.settings.ttmlNamespace+"#metadata"),r=o),r},e.parseTtAttrs=function(t){var i=e.getAttributeNS(t.root,"cellResolution",t.settings.ttmlParameterNamespace),r=e.getAttributeNS(t.root,"extent",t.settings.ttmlStyleNamespace),o=null;if(i){var n=a.trim(i).split(/\s+/);if(2===n.length){var s=Math.round(parseFloat(n[0])),l=Math.round(parseFloat(n[1]));l>0&&s>0&&(o={rows:l,columns:s})}}if(o&&(t.settings.cellResolution=o),r&&"auto"!==r){var u=r.split(/\s+/);if(2===u.length&&"px"===u[0].substr(u[0].length-2)&&"px"===u[1].substr(u[1].length-2)){var c=parseFloat(u[0].substr(0,u[0].length-2)),d=parseFloat(u[1].substr(0,u[1].length-2));t.settings.rootContainerRegionDimensions={width:Math.round(c),height:Math.round(d)}}}},e.ensureRegions=function(t){t.rootContainerRegion=t.root.ownerDocument.createElementNS(t.settings.ttmlNamespace,"rootcontainerregion"),t.root.appendChild(t.rootContainerRegion);var i=t.settings.rootContainerRegionDimensions?a.format("{0}px {1}px",t.settings.rootContainerRegionDimensions.width,t.settings.rootContainerRegionDimensions.height):"auto";t.rootContainerRegion.setAttributeNS(t.settings.ttmlStyleNamespace,"extent",i);var r=e.getFirstElementByTagNameNS(t.root,"head",t.settings.ttmlNamespace);r||(r=t.root.ownerDocument.createElementNS(t.settings.ttmlNamespace,"head"),t.root.appendChild(r)),t.layout=e.getFirstElementByTagNameNS(r,"layout",t.settings.ttmlNamespace),t.layout||(t.layout=t.root.ownerDocument.createElementNS(t.settings.ttmlNamespace,"layout"),t.root.appendChild(t.layout));var n=t.layout.getElementsByTagNameNS(t.settings.ttmlNamespace,"region");if(!n.length){var s=t.root.ownerDocument.createElementNS(t.settings.ttmlNamespace,"region");s.setAttributeNS(o.xmlNS,"id","anonymous"),s.setAttribute("data-isanonymous","1"),t.layout.appendChild(s),t.body.setAttributeNS(t.settings.ttmlNamespace,"region","anonymous")}return r},e.processAnonymousSpans=function(t,i){if(e.isTagNS(i,"p",t.settings.ttmlNamespace)){for(var r=[],o=void 0,a=0,s=n.nodeListToArray(i.childNodes);a<s.length;a++){var l=s[a];l.nodeType===Node.TEXT_NODE&&(o!==Node.TEXT_NODE&&r.push([]),r[r.length-1].push(l)),o=l.nodeType}for(var u=0,c=r;u<c.length;u++){var d=c[u],p=t.root.ownerDocument.createElementNS(t.settings.ttmlNamespace,"span");p.appendChild(d[0].parentNode.replaceChild(p,d[0]));for(var h=1;h<d.length;h++)p.appendChild(d[h])}}for(var y=0,g=n.nodeListToArray(i.childNodes);y<g.length;y++){var l=g[y];this.processAnonymousSpans(t,l)}},e.applyTiming=function(t,i,r,o,a){var s=e.getAttributeNS(i,"begin",t.settings.ttmlNamespace),l=s?a.parse(s):r.start,u=0,c=0,d=0,p=0,h=e.getAttributeNS(i,"dur",t.settings.ttmlNamespace),y=e.getAttributeNS(i,"end",t.settings.ttmlNamespace);if(h||y)if(h&&y){d=a.parse(h),p=a.parse(y);var g=Math.min(l+d,r.start+p);u=Math.min(g,r.end)}else y?(p=a.parse(y),u=Math.min(r.start+p,r.end)):(d=a.parse(h),u=Math.min(l+d,r.end));else o&&(l<=r.end?(c=Math.max(0,r.end-l),u=r.end):u=0);u<l&&(u=l),l=Math.floor(l),u=Math.floor(u),i.setAttribute("data-time-start",l.toString()),i.setAttribute("data-time-end",u.toString()),l>=0&&t.events.filter(function(e){return e.time===l}).length<=0&&t.events.push({time:l,element:i});for(var m=l,v=0,f=n.nodeListToArray(i.childNodes);v<f.length;v++){var C=f[v];C.nodeType===Node.ELEMENT_NODE&&("seq"!==e.getAttributeNS(i,"timeContainer",t.settings.ttmlNamespace)?this.applyTiming(t,C,{start:l,end:u},!0,a):(this.applyTiming(t,C,{start:m,end:u},!1,a),m=parseInt(C.getAttribute("data-time-end"),10)))}},e.applyStyling=function(t,i){for(var r=e.getFirstElementByTagNameNS(i,"styling",t.settings.ttmlNamespace),o=r?n.nodeListToArray(r.getElementsByTagNameNS(t.settings.ttmlNamespace,"style")):[],a=0,s=n.nodeListToArray(t.root.querySelectorAll("*"));a<s.length;a++){var l=s[a];this.applyStyle(t,l,o)}},e.applyStyle=function(t,i,r){var o={};this.applyStylesheet(t.settings,o,i,r),e.applyInlineStyles(t.settings,o,i);var n=!0;for(var a in o)if(o.hasOwnProperty(a)){n=!1;break}n||(i.setAttribute("data-styleSet",t.styleSetCache.length.toString()),t.styleSetCache.push(o))},e.applyStylesheet=function(t,i,r,a){for(var s=e.getAttributeNS(r,"style",t.ttmlNamespace),l=s?s.split(/\s+/):[],u=0,c=l;u<c.length;u++)for(var d=c[u],p=0,h=a;p<h.length;p++){var y=h[p];e.getAttributeNS(y,"id",o.xmlNS)===d&&(this.applyStylesheet(t,i,y,a),e.applyInlineStyles(t,i,y))}if(e.isTagNS(r,"region",t.ttmlNamespace))for(var g=0,m=n.nodeListToArray(r.getElementsByTagNameNS(t.ttmlNamespace,"style"));g<m.length;g++){var y=m[g];e.applyInlineStyles(t,i,y)}},e.applyInlineStyles=function(t,i,r){for(var o=0,s=n.nodeListToArray(r.attributes);o<s.length;o++){var l=s[o];l.namespaceURI===t.ttmlStyleNamespace&&(i[e.getLocalTagName(l)]=a.trim(l.nodeValue))}},e.getLocalTagName=function(e){return e.localName||e.baseName},e.isTagNS=function(e,t,i){return e.namespaceURI===i&&this.getLocalTagName(e)===t},e.getAttributeNS=function(e,t,i){var r=e.getAttributeNS(i,t);if(!r)for(var o=0,a=n.nodeListToArray(e.attributes);o<a.length;o++){var s=a[o];if(s.localName===t&&s.lookupNamespaceURI(s.prefix)===i){r=s.value;break}}return r},e.getFirstElementByTagNameNS=function(e,t,i){if(e){var r=e.getElementsByTagNameNS(i,t);if(r&&r.length)return r[0]}return null},e.mediaStart=-1,e.mediaEnd=99999999,e}();t.TtmlParser=s}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(20),i(22),i(13),i(6),i(5)],o=function(e,t,i,r,o,n,a){"use strict";var s=function(){function e(){var t=this;this.translateToHtml=function(a,s,l){var u,c,d=t.getTagNameEquivalent(a),p="",h="";switch(d){case"ttml:region":h="cue ";case"ttml:rootcontainerregion":case"ttml:body":case"ttml:div":p="div";break;case"ttml:p":p="p";break;case"ttml:span":p="span";break;case"ttml:br":p="br"}var y=i.TtmlParser.getAttributeNS(a,"role",t.settings.ttmlMetaNamespace);y&&(h+=" "+y);var g=i.TtmlParser.getAttributeNS(a,"agent",t.settings.ttmlMetaNamespace);if(g&&(h+=" "+g),"x-ruby"===y?p="ruby":"x-rubybase"===y?p="rb":"x-rubytext"===y&&(p="rt"),!n.isNullOrWhiteSpace(p)){u=e.defaultStyle(t.ownerDocument.createElement(p)),o.addClass(u,n.trim(h));var m=i.TtmlParser.getAttributeNS(a,"title",t.settings.ttmlMetaNamespace);m&&u.setAttribute("title",m);var v=i.TtmlParser.getAttributeNS(a,"id",r.xmlNS);v&&t.settings.idPrefix&&u.setAttribute("id",t.settings.idPrefix+v),"ttml:region"===d&&(c=u.appendChild(e.defaultStyle(t.ownerDocument.createElement("div"))),o.css(c,"display","table"),o.css(c,"border-spacing","0"),o.css(c,"cell-spacing","0"),o.css(c,"cell-padding","0"),o.css(c,"width","100%"),o.css(c,"height","100%"),c=c.appendChild(e.defaultStyle(t.ownerDocument.createElement("div"))),o.css(c,"display","table-cell"),s.displayAlign&&(t.translateStyle(d,c,{displayAlign:s.displayAlign}),s.displayAlign=null)),l&&"ttml:span"===d&&(c=u.appendChild(e.defaultStyle(t.ownerDocument.createElement("span"))),o.css(c,"white-space","pre")),o.css(u,"position","static"),o.css(u,"width","100%"),t.translateStyle(d,u,s)}return{outerNode:u,innerNode:c?c:u}}}return e.prototype.setOwnerDocument=function(e){this.ownerDocument=e},e.prototype.updateRelatedMediaObjectRegion=function(e){return(!this.settings.relatedMediaObjectRegion||e.width!==this.settings.relatedMediaObjectRegion.width||e.height!==this.settings.relatedMediaObjectRegion.height)&&(this.settings.relatedMediaObjectRegion={width:e.width,height:e.height},!0)},e.prototype.hasEvents=function(){return this.events&&!!this.events.length},e.prototype.resetCurrentEvents=function(){this.currentEvents=[]},e.prototype.updateCurrentEvents=function(e){var t=this.getTemporallyActiveEvents(e),i=this.currentEvents?this.currentEvents.length:0,r=t?t.length:0;if(i!==r)return this.currentEventsTime=e,this.currentEvents=t,!0;if(this.currentEvents)for(var o=0;o<i;o++)if(this.currentEvents[o].time!==t[o].time)return this.currentEventsTime=e,this.currentEvents=t,!0;return!1},e.prototype.getTemporallyActiveEvents=function(e){var t=this;return this.events.filter(function(i){return!i.element||t.isTemporallyActive(i.element,e)})},e.prototype.isTemporallyActive=function(e,t){return(parseInt(e.getAttribute("data-time-start"),10)||0)<=t&&t<(parseInt(e.getAttribute("data-time-end"),10)||0)},e.prototype.getCues=function(e){var t=[];this.currentEventsTime!==e&&this.updateCurrentEvents(e);for(var a="preserve"===i.TtmlParser.getAttributeNS(this.root,"space",r.xmlNS),s=this.layout?this.layout.getElementsByTagNameNS(this.settings.ttmlNamespace,"region"):[],l=0,u=s;l<u.length;l++){var c=u[l],d=i.TtmlParser.getAttributeNS(c,"id",r.xmlNS),p=c.getAttribute("data-isanonymous");if(p||d){var h=this.translate(c,this.settings.defaultRegionStyle,a,e,this.translateToHtml);if(h.outerNode){for(var y=h.innerNode,g=h.outerNode,m=0,v=this.events;m<v.length;m++){var f=v[m];if(f.element&&this.isInRegion(f.element,p?null:d)){var C=this.prune(f.element,h.inheritableStyleSet,a,e,this.translateToHtml),b=C.prunedElement;C.hasPreservedContent||!b||n.trim(o.getText(b)).length||(b=null),b&&y.appendChild(b)}}var M="always"===g.getAttribute("data-showBackground");(M||y.children.length)&&(M&&g.removeAttribute("data-showBackground"),t.push(g))}}}if(t.length){for(var S=this.translate(this.rootContainerRegion,{overflow:"hidden",padding:"0"},!1,e,this.translateToHtml),w=0,T=t;w<T.length;w++){var P=T[w];S.innerNode.appendChild(P)}t=[],t.push(S.outerNode)}return t},e.prototype.translate=function(e,t,i,r,o){var n,a;if(this.isTemporallyActive(e,r)){var s=this.getTagNameEquivalent(e);if(a=this.getComputedStyleSet(e,t,s,r),"none"!==a.display){var l=this.getApplicableStyleSet(a,s);n=o(e,l,i)}}return n?{outerNode:n.outerNode,innerNode:n.innerNode,inheritableStyleSet:this.getInheritableStyleSet(a)}:{outerNode:null,innerNode:null,inheritableStyleSet:null}},e.prototype.translateStyle=function(e,t,i){for(var r in i)i[r]&&this.applyStyle(t,e,r,i[r])},e.prototype.prune=function(e,t,n,a,s,l){void 0===l&&(l=!1);var u,c=!1,d=this.translate(e,t,n,a,s);if(null!==d.outerNode){var p=this.getTagNameEquivalent(e);u=d.outerNode;for(var h=d.innerNode,y=0,g=o.nodeListToArray(e.childNodes);y<g.length;y++){var m=g[y];if(m.nodeType===Node.COMMENT_NODE);else if(m.nodeType===Node.TEXT_NODE)h.appendChild(document.createTextNode(m.data)),n&&"ttml:span"===p&&(c=!0);else{var v=n,f=i.TtmlParser.getAttributeNS(m,"space",r.xmlNS);f&&(v="preserve"===f);var C=this.prune(m,d.inheritableStyleSet,v,a,s,!0);c=c||C.hasPreservedContent,C.prunedElement&&h.appendChild(C.prunedElement)}}if(!l)for(var b=e.parentNode;null!==b&&b.nodeType===Node.ELEMENT_NODE&&b!==this.body&&(d=this.translate(b,t,n,a,s),d.outerNode);)h=d.innerNode,h.appendChild(u),u=d.outerNode,b=b.parentNode}return{prunedElement:u,hasPreservedContent:c}},e.prototype.getComputedStyleSet=function(e,t,r,n){var s=a.extend({},t);a.extend(s,this.styleSetCache[parseInt(e.getAttribute("data-styleSet"),10)]);for(var l=e.getElementsByTagNameNS(this.settings.ttmlNamespace,"set"),u=0,c=o.nodeListToArray(l);u<c.length;u++){var d=c[u];this.isTemporallyActive(d,n)&&i.TtmlParser.applyInlineStyles(this.settings,s,d)}if("ttml:p"===r&&"normal"===s.lineHeight){var p=this.appendSpanFontSizes(e,this.getInheritableStyleSet(s),n,"");p&&(s["computed-lineHeight"]=p)}return s},e.prototype.getApplicableStyleSet=function(e,t){var i={};e.extent&&this.isStyleApplicable(t,"extent")&&(i.extent=e.extent),e.color&&this.isStyleApplicable(t,"color")&&(i.color=e.color);for(var r in e)this.isStyleApplicable(t,r)&&(i[r]=e[r]);return i},e.prototype.isStyleApplicable=function(e,t){switch(t){case"backgroundColor":case"display":case"visibility":return"ttml:body ttml:div ttml:p ttml:region ttml:rootcontainerregion ttml:span ttml:br".indexOf(e)>=0;case"fontFamily":case"fontSize":case"fontStyle":case"fontWeight":return"ttml:p ttml:span ttml:br".indexOf(e)>=0;case"color":case"textDecoration":case"textOutline":case"wrapOption":return"ttml:span ttml:br".indexOf(e)>=0;case"direction":case"unicodeBidi":return"ttml:p ttml:span ttml:br".indexOf(e)>=0;case"displayAlign":case"opacity":case"origin":case"overflow":case"padding":case"showBackground":case"writingMode":case"zIndex":return"ttml:region ttml:rootcontainerregion".indexOf(e)>=0;case"extent":return"ttml:tt ttml:region ttml:rootcontainerregion".indexOf(e)>=0;case"computed-lineHeight":case"lineHeight":case"textAlign":return"ttml:p".indexOf(e)>=0;default:return!1}},e.prototype.getInheritableStyleSet=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i))switch(i){case"backgroundColor":case"computed-lineHeight":case"display":case"displayAlign":case"extent":case"opacity":case"origin":case"overflow":case"padding":case"showBackground":case"unicodeBidi":case"writingMode":case"zIndex":break;default:t[i]=e[i]}return t},e.prototype.appendSpanFontSizes=function(e,t,i,r){for(var n=0,a=o.nodeListToArray(e.childNodes);n<a.length;n++){var s=a[n];if(s.nodeType===Node.ELEMENT_NODE){var l=this.getTagNameEquivalent(s);if("ttml:span"===l){var u=this.getComputedStyleSet(s,t,"ttml:span",i),c=u.fontSize;c&&(r+=(r?",":"")+c),r=this.appendSpanFontSizes(s,this.getInheritableStyleSet(u),i,r)}}}return r},e.prototype.isInRegion=function(e,t){if(!t)return!0;var r=i.TtmlParser.getAttributeNS(e,"region",this.settings.ttmlNamespace);if(r===t)return!0;if(!r){for(var n=e.parentNode;null!==n&&n.nodeType===Node.ELEMENT_NODE;){var a=this.getRegionId(n);if(a)return a===t;n=n.parentNode}for(var s=0,l=o.nodeListToArray(e.getElementsByTagName("*"));s<l.length;s++){var u=l[s];if(this.getRegionId(u)===t)return!0}}return!1},e.prototype.getRegionId=function(e){var t;return e.nodeType===Node.ELEMENT_NODE&&e.namespaceURI===this.settings.ttmlNamespace&&(t="region"===i.TtmlParser.getLocalTagName(e)?i.TtmlParser.getAttributeNS(e,"id",r.xmlNS):i.TtmlParser.getAttributeNS(e,"region",this.settings.ttmlNamespace)),t},e.prototype.getTagNameEquivalent=function(e){var t=i.TtmlParser.getLocalTagName(e),r=e.namespaceURI;return r===this.settings.ttmlNamespace?"ttml:"+t:"http://www.w3.org/1999/xhtml"===r?t:""},e.prototype.applyStyle=function(t,i,r,s){var l=s;switch(r){case"color":case"backgroundColor":return l=e.ttmlToCssColor(s),void o.css(t,r,l);case"direction":case"display":return void o.css(t,r,l);case"displayAlign":switch(s){case"before":l="top";break;case"center":l="middle";break;case"after":l="bottom"}return void o.css(t,"vertical-align",l);case"extent":var u=void 0,c=void 0;if("auto"!==s){var d=s.split(/\s+/);2===d.length&&(u=this.ttmlToCssUnits(d[0],!0),c=this.ttmlToCssUnits(d[1],!1))}return u||(u=(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.width:this.settings.relatedMediaObjectRegion.width).toString()+"px",c=(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.height:this.settings.relatedMediaObjectRegion.height).toString()+"px"),o.css(t,"position","absolute"),o.css(t,"width",u),o.css(t,"min-width",u),o.css(t,"max-width",u),o.css(t,"height",c),o.css(t,"min-height",c),void o.css(t,"max-height",c);case"fontFamily":return this.settings.fontMap&&this.settings.fontMap[s]&&(l=this.settings.fontMap[s]),"smallCaps"===s&&o.css(t,"fontVariant","small-caps"),void o.css(t,r,l);case"fontSize":var p=s.split(/\s+/),h=p.length>1?p[1]:p[0];return l=this.ttmlToCssFontSize(h,!1,.75,"ttml:region"===i),void o.css(t,r,l);case"fontStyle":case"fontWeight":return void o.css(t,r,l);case"lineHeight":var y="normal"===s?s:this.ttmlToCssFontSize(s,!1);return void o.css(t,"line-height",y);case"computed-lineHeight":for(var g=s.split(","),m=-1,v=0,f=g;v<f.length;v++){var C=f[v];if(l=this.ttmlToCssFontSize(C,!1),l&&l.indexOf("px")===l.length-2){var c=parseFloat(l.substr(0,l.length-2));!isNaN(c)&&c>m&&(m=c)}}return void(m>=0&&o.css(t,"line-height",m+"px"));case"origin":if("auto"!==s){var d=s.split(/\s+/);2===d.length&&(o.css(t,"position","absolute"),o.css(t,"left",this.ttmlToCssUnits(d[0],!0)),o.css(t,"top",this.ttmlToCssUnits(d[1],!1)))}return;case"opacity":return void o.css(t,r,l);case"padding":var b=a.getDimensions(t),p=s.split(/\s+/),M=void 0,S=void 0,w=void 0,T=void 0;switch(p.length){case 1:M=this.ttmlToCssUnits(p[0],!1,b),S=this.ttmlToCssUnits(p[0],!0,b),l=n.format("{0} {1} {0} {1}",M,S);break;case 2:M=this.ttmlToCssUnits(p[0],!1,b),S=this.ttmlToCssUnits(p[1],!0,b),l=n.format("{0} {1} {0} {1}",M,S);break;case 3:M=this.ttmlToCssUnits(p[0],!1,b),S=this.ttmlToCssUnits(p[1],!0,b),w=this.ttmlToCssUnits(p[2],!1,b),l=n.format("{0} {1} {2} {1}",M,S,w);break;case 4:M=this.ttmlToCssUnits(p[0],!1,b),S=this.ttmlToCssUnits(p[1],!0,b),w=this.ttmlToCssUnits(p[2],!1,b),T=this.ttmlToCssUnits(p[3],!0,b),l=n.format("{0} {1} {2} {3}",M,S,w,T)}return o.css(t,"box-sizing","border-box"),o.css(t,"border-style","solid"),o.css(t,"border-color","transparent"),void o.css(t,"border-width",l);case"textAlign":switch(s){case"start":l="left";break;case"end":l="right"}return void o.css(t,"text-align",l);case"textDecoration":return l=e.ttmlToCssTextDecoration(s),void o.css(t,"text-decoration",l);case"textOutline":return void o.css(t,"text-shadow",this.ttmlToCssTextOutline(l));case"unicodeBidi":switch(s){case"bidiOverride":l="bidi-override"}return void o.css(t,"unicode-bidi",l);
case"visibility":return void o.css(t,r,l);case"writingMode":switch(s){case"lr":case"lrtb":return o.css(t,"writing-mode","horizontal-tb"),o.css(t,"-webkit-writing-mode","horizontal-tb"),void o.css(t,"writing-mode","lr-tb");case"rl":case"rltb":return o.css(t,"writing-mode","horizontal-tb"),o.css(t,"-webkit-writing-mode","horizontal-tb"),void o.css(t,"writing-mode","rl-tb");case"tblr":return o.css(t,"text-orientation","upright"),o.css(t,"writing-mode","vertical-lr"),o.css(t,"-webkit-text-orientation","upright"),o.css(t,"-webkit-writing-mode","vertical-lr"),void o.css(t,"writing-mode","tb-lr");case"tb":case"tbrl":return o.css(t,"text-orientation","upright"),o.css(t,"writing-mode","vertical-rl"),o.css(t,"-webkit-text-orientation","upright"),o.css(t,"-webkit-writing-mode","vertical-rl"),void o.css(t,"writing-mode","tb-rl")}return;case"wrapOption":return void o.css(t,"white-space","noWrap"===s?"nowrap":"pre"===s?"pre":"normal");case"zIndex":return void o.css(t,r,l);default:return void o.css(t,r,l)}},e.defaultStyle=function(t){return o.css(t,"background-color",e.TtmlNamedColorMap.transparent),o.css(t,"offset","0"),o.css(t,"margin","0"),o.css(t,"padding","0"),o.css(t,"border","0"),t},e.prototype.ttmlToCssUnits=function(e,t,i){var r=e;if(e){var o=e.charAt(e.length-1);if("c"===o||"%"===o){var n=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion,a=parseFloat(e.substr(0,e.length-1)),s=t?n.width:n.height,l=void 0;if("c"===o){var u=t?this.settings.cellResolution.columns:this.settings.cellResolution.rows;l=a*s/u}else"%"===o&&(i&&(s=t?i.width:i.height),l=s*a/100);l=Math.round(10*l)/10,r=l+"px"}}return r},e.prototype.ttmlToCssFontSize=function(e,t,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var o=e;if(e){var n=e.charAt(e.length-1);if("c"===n||r&&"%"===n){var a=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion,s=parseFloat(e.substr(0,e.length-1)),l=t?a.width:a.height,u=t?this.settings.cellResolution.columns:this.settings.cellResolution.rows,c=s*l/u;"%"===n&&(c/=100),c=Math.floor(c*i*10)/10,o=c+"px"}}return o},e.prototype.ttmlToCssTextOutline=function(t){var i="none";if(!n.isNullOrWhiteSpace(t)&&"none"!==t){var r,o=t.split(/\s+/),a=void 0,s=void 0;if(1===o.length)a=$(this).css("color"),s=o[0],r="";else if(3===o.length)a=o[0],s=o[1],r=o[2];else if(2===o.length){var l=o[0].charAt(0);l>="0"&&l<="9"?(a=$(this).css("color"),s=o[0],r=o[1]):(a=o[0],s=o[1],r="")}if(r=this.ttmlToCssFontSize(r,!1,.75),s=this.ttmlToCssFontSize(s,!1,.75),o=e.lengthRegEx.exec(s),o&&3===o.length){var u=Math.round(parseFloat(o[1])),c=o[2];i="";for(var d=-u;d<=u;d++)for(var p=-u;p<=u;p++)0===d&&0===p||(i+=n.format("{0}{4} {1}{4} {2} {3}, ",d,p,r,e.ttmlToCssColor(a),c));i&&(i=i.substr(0,i.length-2))}}return i},e.ttmlToCssTextDecoration=function(e){for(var t="",i=e.split(/\s+/),r=0,o=i;r<o.length;r++){var a=o[r];switch(a){case"none":case"noUnderline":case"noLineThrough":case"noOverline":t="none"}}for(var s=0,l=i;s<l.length;s++){var a=l[s];switch(a){case"none":case"noUnderline":case"noLineThrough":case"noOverline":break;case"lineThrough":t+=" line-through";break;default:t+=" "+a}}return n.trim(t)},e.ttmlToCssColor=function(t){var i=t;if(t=t.toLowerCase(),0===t.indexOf("rgba")){var r=e.rgbaRegEx.exec(t);if(r&&5===r.length){var o=r[1],a=r[2],s=r[3],l=parseInt(r[4],10);i=n.format("rgba({0},{1},{2},{3})",o,a,s,Math.round(100*l/255)/100)}}else if("#"===t.charAt(0)&&9===t.length){var o=parseInt(t.substr(1,2),16),a=parseInt(t.substr(3,2),16),s=parseInt(t.substr(5,2),16),l=parseInt(t.substr(7,2),16);i=n.format("rgba({0},{1},{2},{3})",o,a,s,Math.round(100*l/255)/100)}else e.TtmlNamedColorMap[t]&&(i=e.TtmlNamedColorMap[t]);return i},e.lengthRegEx=/\s*(\d+\.*\d*)(.*)\s*/,e.rgbaRegEx=/\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*/,e.TtmlNamedColorMap={transparent:"rgba(0,0,0,0)",black:"rgba(0,0,0,1)",silver:"rgba(192,192,192,1)",gray:"rgba(128,128,128,1)",white:"rgba(255,255,255,1)",maroon:"rgba(128,0,0,1)",red:"rgba(255,0,0,1)",purple:"rgba(128,0,128,1)",fuchsia:"rgba(255,0,255,1)",magenta:"rgba(255,0,255,1)",green:"rgba(0,128,0,1)",lime:"rgba(0,255,0,1)",olive:"rgba(128,128,0,1)",yellow:"rgba(255,255,0,1)",navy:"rgba(0,0,128,1)",blue:"rgba(0,0,255,1)",teal:"rgba(0,128,128,1)",aqua:"rgba(0,255,255,1)",cyan:"rgba(0,255,255,1)"},e}();t.TtmlContext=s}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(5)],o=function(e,t,i){"use strict";t.xmlNS="http://www.w3.org/XML/1998/namespace";var r=function(){function e(e){this.ttmlNamespace="http://www.w3.org/ns/ttml",this.ttmlStyleNamespace="http://www.w3.org/ns/ttml#styling",this.ttmlParameterNamespace="http://www.w3.org/ns/ttml#parameter",this.ttmlMetaNamespace="http://www.w3.org/ns/ttml#metadata",this.idPrefix="",this.mediaFrameRate=30,this.mediaFrameRateMultiplier=1,this.mediaSubFrameRate=1,this.mediaTickRate=1e3,this.supportedTimeBase="media",this.cellResolution={rows:15,columns:32},this.defaultRegionStyle={backgroundColor:"transparent",color:"#E8E9EA",direction:"ltr",display:"auto",displayAlign:"before",extent:"auto",fontFamily:"default",fontSize:"1c",fontStyle:"normal",fontWeight:"normal",lineHeight:"normal",opacity:"1",origin:"auto",overflow:"hidden",padding:"0",showBackground:"always",textAlign:"start",textDecoration:"none",textOutline:"none",unicodeBidi:"normal",visibility:"visible",wrapOption:"normal",writingMode:"lrtb",zIndex:"auto"},this.fontMap={},this.fontMap.default="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.monospaceSerif="Courier",this.fontMap.proportionalSerif="Times New Roman, Serif",this.fontMap.monospaceSansSerif="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.proportionalSansSerif="Arial, Sans-serif",this.fontMap.casual="Verdana",this.fontMap.cursive="Zapf-Chancery, Segoe script, Cursive",this.fontMap.smallCaps="Arial, Helvetica",this.fontMap.monospace="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.sansSerif="Arial, Sans-serif",this.fontMap.serif="Times New Roman, Serif",e&&i.extend(this,e)}return e}();t.TtmlSettings=r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t],o=function(e,t){"use strict";var i=function(){function e(e,t){this.mediaFrameRate=e,this.mediaTickRate=t}return e.prototype.parse=function(t){if(!t)return 0;var i=e.absoluteTimeRegex.exec(t);if(i&&i.length>3){var r=60*parseInt(i[1],10)*60,o=60*parseInt(i[2],10),n=parseInt(i[3],10),a=0;return i[5]&&(a=1e3*parseFloat(i[4])),i[6]&&(a=Math.round(parseFloat(i[6])*this.getTimeUnitMultiplier("f"))),1e3*(r+o+n)+a}var s=e.relativeTimeRegex.exec(t);return s&&s.length>3?Math.round(parseFloat(s[1])*this.getTimeUnitMultiplier(s[3])):0},e.prototype.getTimeUnitMultiplier=function(e){switch(e){case"h":return 36e5;case"ms":return 1;case"m":return 6e4;case"s":return 1e3;case"f":return 1e3/this.mediaFrameRate;case"t":return 1e3/this.mediaTickRate;default:return 0}},e.absoluteTimeRegex=/^(\d{1,}):(\d{2}):(\d{2})((\.\d{1,})|:(\d{2,}(\.\d{1,})?))?$/,e.relativeTimeRegex=/^(\d+(\.\d+)?)(ms|[hmsft])$/,e}();t.TtmlTimeParser=i}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(19),i(6),i(5)],o=function(e,t,i,r,o){"use strict";t.closedCaptionsSettingsOptions={font:{pre:"cc_font_name_",map:{casual:"Verdana;font-variant:normal",cursive:"Zapf-Chancery,Segoe script,Cursive;font-variant:normal",monospacedsansserif:"Lucida sans typewriter,Lucida console,Consolas;font-variant:normal",monospacedserif:"Courier;font-variant:normal",proportionalsansserif:"Arial,Sans-serif;font-variant:normal",proportionalserif:"Times New Roman,Serif;font-variant:normal",smallcapitals:"Arial,Helvetica,Sans-serif;font-variant:small-caps"}},percent:{pre:"cc_percent_",map:{0:"0",50:"0.5",75:"0.75",100:"1"}},text_size:{pre:"cc_text_size_",map:{small:"75%",default:"100%",large:"125%",extralarge:"150%",maximum:"200%"}},color:{pre:"cc_color_",map:{white:"#FFFFFF",black:"#000000",blue:"#0000FF",cyan:"#00FFFF",green:"#00FF00",grey:"#BCBCBC",magenta:"#FF00FF",red:"#FF0000",yellow:"#FFFF00"}},text_edge_style:{pre:"cc_text_edge_style_",map:{none:"none",depressed:"1px 1px 0 #FFF,-1px -1px 0 #000",dropshadow:"1px 1px 0 #000",raised:"1px 1px 0 #000,-1px -1px 0x #FFF",uniform:"1px 1px 0 #000,-1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000"}}},t.closedCaptionsSettingsMap={text_font:{value:"font-family:",option:"font"},text_color:{value:"color:",option:"color"},text_size:{value:"font-size:",option:"text_size"},text_edge_style:{value:"text-shadow:",option:"text_edge_style"},text_opacity:{value:"color:",option:"percent"},text_background_color:{value:"background:",option:"color"},text_background_opacity:{value:"background:",option:"percent"},window_color:{value:"background:",option:"color"},window_opacity:{value:"background:",option:"percent"}},t.closedCaptionsPresetMap={preset1:{text_font:"monospacedserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset2:{text_font:"proportionalsansserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset3:{text_font:"proportionalsansserif",text_color:"yellow",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset4:{text_font:"proportionalsansserif",text_color:"blue",text_opacity:"100",text_background_color:"grey",text_background_opacity:"100"},preset5:{text_font:"casual",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"}},t.closedCaptionsSettinsDefaults={preset:"preset1",text_font:"monospacedserif",text_color:"white",text_opacity:"100",text_size:"default",text_edge_style:"none",text_background_color:"black",text_background_opacity:"100",window_color:"black",window_opacity:"0"};var n=function(){function e(){this.loadUserPreferences(),this.applySettings()}return e.prototype.saveUserPreferences=function(){o.saveToLocalStorage(e.storageKeyName,JSON.stringify(e.userPreferences))},e.prototype.loadUserPreferences=function(){var t=o.getValueFromLocalStorage(e.storageKeyName);if(t)try{var i=JSON.parse(t);for(var r in i)i.hasOwnProperty(r)&&this.setPreferences(r,i[r])}catch(e){}},e.prototype.reset=function(){e.userPreferences={},e.currentSettings={},this.saveUserPreferences(),this.applySettings()},e.prototype.setSetting=function(e,t){e&&t&&(this.setPreferences(e,t),this.saveUserPreferences(),this.applySettings())},e.prototype.getCurrentSettings=function(){return o.extend({},t.closedCaptionsSettinsDefaults,e.currentSettings)},e.prototype.setPreferences=function(i,r){if(i&&r)if(i===e.presetKey){var n=t.closedCaptionsPresetMap[r];n&&(e.userPreferences={},e.currentSettings={},e.userPreferences[i]=r,e.currentSettings[i]=r,o.extend(e.currentSettings,n))}else this.getOptionValue(i,r)&&(e.userPreferences=o.extend({},e.currentSettings),delete e.userPreferences[e.presetKey],e.currentSettings[e.presetKey]="none",e.userPreferences[i]=r,e.currentSettings[i]=r)},e.prototype.applySettings=function(){var e={},r=this.getCurrentSettings();for(var o in r)if(r.hasOwnProperty(o)){var n=this.getOptionValue(o,r[o]);n&&(e[o]=t.closedCaptionsSettingsMap[o].value+n)}i.VideoClosedCaptions.userPreferences.text=this.getPrefsCss(e,"text"),i.VideoClosedCaptions.userPreferences.window=this.getPrefsCss(e,"window")},e.prototype.getOptionValue=function(e,i){var r=t.closedCaptionsSettingsMap[e];if(r){var o=t.closedCaptionsSettingsOptions[r.option];return o&&o.map[i]}},e.prototype.getPrefsCss=function(e,t){var i={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(0===r.indexOf(t)&&r.indexOf("opacity")<0&&o&&o.length>0)for(var n=o.split(";"),a=0,s=n;a<s.length;a++){var l=s[a],u=l.split(":");u.length>1&&(i[u[0].trim()]=u[1].trim())}}for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(0===r.indexOf(t)&&r.indexOf("opacity")>0){var u=o.split(":");if(u.length>1){var c=i[u[0].trim()],d=u[1].trim();i[u[0].trim()]=this.formatAsRgba(c,d)}}}return i},e.prototype.formatAsRgba=function(e,t){var i=r.format("rgba(0,0,0,{0})",t),o=e?e.indexOf("#"):-1;if(o>=0){var n=e.substr(o+1),a=n.length/3;if(a>0){var s=parseInt(n.substr(0,a),16),l=parseInt(n.substr(a,a),16),u=parseInt(n.substr(2*a,a),16);i=r.format("rgba({0},{1},{2},{3})",s,l,u,t)}}return i},e.userPreferences={},e.currentSettings={},e.storageKeyName="mwf-video-player-cc-settings",e.presetKey="preset",e}();t.VideoClosedCaptionsSettings=n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(2),i(13),i(8),i(5)],o=function(e,t,i,r,o,n){"use strict";var a=function(){function e(){var e=this;this.triggerEvents=function(t){e.onMediaEventCallback&&e.onMediaEventCallback(t)}}return e.prototype.bindVideoEvents=function(){if(this.videoTag)for(var e=0,t=o.MediaEvents;e<t.length;e++){var i=t[e];r.addEvents(this.videoTag,i,this.triggerEvents)}},e.prototype.unbindVideoEvents=function(){if(this.videoTag)for(var e=0,t=o.MediaEvents;e<t.length;e++){var i=t[e];r.removeEvents(this.videoTag,i,this.triggerEvents)}},e.prototype.load=function(e,t,i,o){e||(console.log("player container is null"),i&&i()),this.videoTag&&this.dispose(),this.playerContainer=e,this.onMediaEventCallback=o,this.videoTag=r.selectFirstElementT("video",this.playerContainer),!this.videoTag&&i&&(console.log("video tag not found"),i()),this.bindVideoEvents(),t&&setTimeout(t,0)},e.prototype.play=function(){this.videoTag&&this.videoTag.play()},e.prototype.pause=function(){this.videoTag&&this.videoTag.pause()},e.prototype.isPaused=function(){return this.videoTag&&this.videoTag.paused},e.prototype.getVolume=function(){return this.videoTag?this.videoTag.volume:0},e.prototype.setVolume=function(e){this.videoTag&&(this.videoTag.volume=e)},e.prototype.isMuted=function(){return!!this.videoTag&&this.videoTag.muted},e.prototype.mute=function(){this.videoTag&&(this.videoTag.muted=!0)},e.prototype.unmute=function(){this.videoTag&&(this.videoTag.muted=!1)},e.prototype.getCurrentTime=function(){return this.videoTag?this.videoTag.currentTime:0},e.prototype.setCurrentTime=function(e){this.videoTag&&(this.videoTag.currentTime=e)},e.prototype.isSeeking=function(){return!!this.videoTag&&this.videoTag.seeking},e.prototype.getDuration=function(){return this.videoTag?this.videoTag.duration:0},e.prototype.getBufferedDuration=function(){var e=0;return this.videoTag&&this.videoTag.buffered&&this.videoTag.buffered.length&&(e=this.videoTag.buffered.end(this.videoTag.buffered.length-1)),e},e.prototype.setSource=function(e,t){if(e&&this.videoTag){var i=this.videoTag.getAttribute("src");e!==i&&(this.videoTag.setAttribute("src",e),this.videoTag.load&&this.videoTag.load())}},e.prototype.clearSource=function(){this.videoTag&&(this.videoTag.setAttribute("src",""),this.videoTag.load&&this.videoTag.load())},e.prototype.setPosterFrame=function(e){e&&this.videoTag&&this.videoTag.poster!==e&&(this.videoTag.poster=e)},e.prototype.getError=function(){var e;if(null!==this.videoTag&&null!==this.videoTag.error){switch(this.videoTag.error.code){case this.videoTag.error.MEDIA_ERR_ABORTED:e=i.VideoErrorCodes.MediaErrorAborted;break;case this.videoTag.error.MEDIA_ERR_NETWORK:e=i.VideoErrorCodes.MediaErrorNetwork;break;case this.videoTag.error.MEDIA_ERR_DECODE:e=i.VideoErrorCodes.MediaErrorDecode;break;case this.videoTag.error.MEDIA_ERR_SRC_NOT_SUPPORTED:e=i.VideoErrorCodes.MediaErrorSourceNotSupported;break;default:e=i.VideoErrorCodes.MediaErrorUnknown}return{errorCode:e}}return null},e.prototype.setPlaybackRate=function(e){this.videoTag&&e&&n.isNumber(e)&&(this.videoTag.playbackRate=e)},e.prototype.getPlayerTechName=function(){return"html5"},e.prototype.getWrapperName=function(){return"html5video"},e.prototype.getAudioTracks=function(){return null},e.prototype.switchToAudioTrack=function(e){throw new Error("HTML5.switchToAudioTrack is not supported")},e.prototype.getCurrentAudioTrack=function(){return null},e.prototype.getVideoTracks=function(){return null},e.prototype.switchToVideoTrack=function(e){throw new Error("HTML5.switchToVideoTrack is not supported")},e.prototype.getCurrentVideoTrack=function(){return null},e.prototype.dispose=function(){this.unbindVideoEvents(),this.clearSource()},e}();t.Html5VideoWrapper=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(2),i(13),i(6),i(8),i(18),i(5),i(1)],o=function(e,t,i,r,o,n,a,s,l){"use strict";var u=function(){function e(){var t=this;this.ampPlayer=null,this.triggerEvents=function(e){t.onMediaEventCallback&&t.onMediaEventCallback(e)},this.setupAmpPlayer=function(){var e=r.selectFirstElementT("video",t.playerContainer);e||(console.log("could not find video tag"),t.onLoadFailedCallback&&t.onLoadFailedCallback()),t.ampPlayer=window.amp(e,{nativeControlsForTouch:!1,autoplay:!1,controls:!1},t.onAmpPlayerInit),t.bindVideoEvents(),t.onLoadedCallback&&t.onLoadedCallback()},this.onAmpPlayerInit=function(){var e=r.selectFirstElement(".f-video-player",t.playerContainer);e&&(e.removeAttribute("style"),e.removeAttribute("tabindex"))},e.isAmpScriptLoaded()||a.PlayerUtility.loadScript(l.PlayerConfig.ampUrl)}return e.isAmpScriptLoaded=function(){return window&&window.amp},e.prototype.bindVideoEvents=function(){if(this.ampPlayer)for(var e=0,t=n.MediaEvents;e<t.length;e++){var i=t[e];this.ampPlayer.addEventListener(i,this.triggerEvents)}},e.prototype.unbindVideoEvents=function(){if(this.ampPlayer)for(var e=0,t=n.MediaEvents;e<t.length;e++){var i=t[e];this.ampPlayer.removeEventListener(i,this.triggerEvents)}},e.prototype.load=function(t,i,r,o){t||(console.log("player container is null"),r&&r()),this.ampPlayer&&this.dispose(),this.playerContainer=t,this.onMediaEventCallback=o,this.onLoadedCallback=i,this.onLoadFailedCallback=r,s.poll(e.isAmpScriptLoaded,e.pollingInterval,e.pollingTimeout,this.setupAmpPlayer,this.onLoadFailedCallback)},e.prototype.play=function(){this.ampPlayer&&this.ampPlayer.play()},e.prototype.pause=function(){this.ampPlayer&&this.ampPlayer.pause()},e.prototype.isPaused=function(){return this.ampPlayer&&this.ampPlayer.paused()},e.prototype.getVolume=function(){return this.ampPlayer?this.ampPlayer.volume():0},e.prototype.setVolume=function(e){this.ampPlayer&&this.ampPlayer.volume(e)},e.prototype.isMuted=function(){return!!this.ampPlayer&&this.ampPlayer.muted()},e.prototype.mute=function(){this.ampPlayer&&this.ampPlayer.muted(!0)},e.prototype.unmute=function(){this.ampPlayer&&this.ampPlayer.muted(!1)},e.prototype.getCurrentTime=function(){return this.ampPlayer?this.ampPlayer.currentTime():0},e.prototype.setCurrentTime=function(e){this.ampPlayer&&this.ampPlayer.currentTime(e)},e.prototype.isSeeking=function(){return!!this.ampPlayer&&this.ampPlayer.seeking()},e.prototype.getDuration=function(){return this.ampPlayer?this.ampPlayer.duration():0},e.prototype.getBufferedDuration=function(){var e=0;if(this.ampPlayer&&this.ampPlayer.buffered&&this.ampPlayer.buffered().length){var t=this.ampPlayer.buffered();t.length&&(e=t.end(t.length-1))}return e},e.prototype.setSource=function(e,t){if(e&&this.ampPlayer&&this.ampPlayer.currentSrc()!==e){var r="video/mp4";switch(t){case i.MediaTypes.HLS:r="application/vnd.apple.mpegurl";break;case i.MediaTypes.DASH:r="application/dash-xml";break;case i.MediaTypes.SMOOTH:r="application/vnd.ms-sstr+xml"}var o={src:e,type:r};this.ampPlayer.src([o])}},e.prototype.clearSource=function(){},e.prototype.setPosterFrame=function(e){e&&this.ampPlayer&&this.ampPlayer.poster()!==e&&this.ampPlayer.poster(e)},e.prototype.getError=function(){var e=this.ampPlayer&&this.ampPlayer.error();if(e){var t,r=window;return t=e.code&r.amp.errorCode.abortedErrStart?i.VideoErrorCodes.MediaErrorAborted:e.code&r.amp.errorCode.networkErrStart?i.VideoErrorCodes.MediaErrorNetwork:e.code&r.amp.errorCode.decodeErrStart?i.VideoErrorCodes.MediaErrorDecode:e.code&r.amp.errorCode.srcErrStart?i.VideoErrorCodes.MediaErrorSourceNotSupported:e.code&r.amp.errorCode.encryptErrStart?i.VideoErrorCodes.AmpEncryptError:e.code&r.amp.errorCode.srcPlayerMismatchStart?i.VideoErrorCodes.AmpPlayerMismatch:i.VideoErrorCodes.MediaErrorUnknown,{errorCode:t,message:"AMP Error Code: "+e.code}}return null},e.prototype.setPlaybackRate=function(e){},e.prototype.getPlayerTechName=function(){return this.ampPlayer&&this.ampPlayer.currentTechName()},e.prototype.getWrapperName=function(){return"amp"},e.prototype.getAudioTracks=function(){var e=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();if(!e)return null;var t=e.streams;if(!t)return null;for(var i=[],r=0,n=t;r<n.length;r++){var a=n[r],s=a.language&&o.startsWith(a.language,"dau-",!0)||a.title&&o.startsWith(a.title,"dau-",!0),l=s&&a.language?a.language.substring(4):a.language;i.push({isDescriptiveAudio:s,bitrate:a.bitrate,languageCode:l,name:a.name,title:a.title})}return i},e.prototype.switchToAudioTrack=function(e){var t=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();t&&t.switchIndex(e)},e.prototype.getCurrentAudioTrack=function(){var e=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();if(e&&e.enabledIndices){var t=e.enabledIndices;return t.length>0?t[0]:-1}},e.prototype.getVideoTracks=function(){var e=this.getSelectedAmpVideoStream();if(!e||!e.tracks)return null;for(var t=[],i=0,r=e.tracks;i<r.length;i++){var o=r[i];t.push({bitrate:o.bitrate,width:o.width,height:o.height})}return t},e.prototype.getSelectedAmpVideoStream=function(){if(!this.ampPlayer||!this.ampPlayer.currentVideoStreamList)return null;var e=this.ampPlayer.currentVideoStreamList();return e?!e.streams||e.selectedIndex<0||e.selectedIndex>=e.streams.length?null:e.streams[e.selectedIndex]:null},e.prototype.switchToVideoTrack=function(e){var t=this.getSelectedAmpVideoStream();return t&&t.selectTrackByIndex?void t.selectTrackByIndex(e):null},e.prototype.getCurrentVideoTrack=function(){var e=this.getSelectedAmpVideoStream();if(!e||!e.tracks||0===e.tracks.length)return null;var t=e.tracks,i=t.reduce(function(e,t){return t.selectable?e+1:e},0);if(i===t.length)return{auto:!0,trackIndex:null};if(1===i)for(var r=0;r<t.length;r++)if(t[r].selectable)return{auto:!1,trackIndex:r};return null},e.prototype.dispose=function(){this.clearSource(),this.unbindVideoEvents(),this.ampPlayer&&this.ampPlayer.dispose&&this.ampPlayer.dispose(),this.ampPlayer=null},e.pollingInterval=50,e.pollingTimeout=3e3,e}();t.AmpWrapper=u}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(5)],o=function(e,t,i){"use strict";var r=function(){function e(){this.timestamp=null,this.timeValue=null,this.firstValue=null,this.totalValue=null,this.intervals=null}return e.prototype.start=function(){this.timestamp||(this.timestamp=new Date,this.intervals++)},e.prototype.stop=function(){if(this.timestamp){var e=(new Date).valueOf()-this.timestamp.valueOf();this.timeValue+=e,this.totalValue+=e,this.firstValue||(this.firstValue=this.timeValue),this.timestamp=null}},e.prototype.reset=function(){this.timestamp=null,this.timeValue=this.intervals=this.firstValue=this.totalValue=0},e.prototype.isStarted=function(){return!!this.intervals},e.prototype.isStopped=function(){return!this.timestamp},e.prototype.hasReached=function(e){return!!(i.isNumber(e)&&this.getValue()>=e)&&(this.timestamp&&(this.totalValue+=(new Date).valueOf()-this.timestamp.valueOf(),this.timestamp=new Date),this.timeValue=0,this.intervals=0,!0)},e.prototype.getValue=function(){var e=this.timeValue;return this.timestamp&&(e+=(new Date).valueOf()-this.timestamp.valueOf()),e},e.prototype.getTotalValue=function(){var e=this.totalValue;return this.timestamp&&(e+=(new Date).valueOf()-this.timestamp.valueOf()),e},e.prototype.getFirstValue=function(){return this.firstValue},e.prototype.getIntervals=function(){return this.intervals},e}();t.Stopwatch=r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o,n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};r=[i,t,i(29),i(5)],o=function(e,t,i,r){"use strict";var o=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype.doPing=function(e,t,i,o){var n=this.getDefaultParams(e,i);r.extend(n,o),this.log("jsll - t: "+n.t+" behavior : "+t+" data : "+JSON.stringify(n));var a={videoObj:n},s={behavior:t,pageTags:a},l=window;l.awa&&l.awa.ct&&l.awa.ct.captureContentUpdate(s)},t.prototype.getDefaultParams=function(e,t){var i={};return t&&r.extend(i,t),e&&(r.extend(i,{d:e.videoDuration,piid:e.playerInstanceId,plt:e.playerType,ptech:e.playerTechnology,size:e.videoSize?e.videoSize.width+"x"+e.videoSize.height:null,vt:e.playerType,te:e.videoElapsedTime}),e.currentVideoFile&&r.extend(i,{vfc:e.currentVideoFile.formatCode,vfile:e.currentVideoFile.url,vmedia:e.currentVideoFile.mediaType,vQuality:e.currentVideoFile.quality}),e.playerOptions&&r.extend(i,{isAutoplay:e.playerOptions.autoplay}),e.videoMetadata&&r.extend(i,{eid:e.videoMetadata.videoId,vtitle:e.videoMetadata.title})),i},t.prototype.onCommonPlayerImpression=function(e){this.log("jsll - OnCommonPlayerImpression()"),this.doPing(e,null,t.usageCounters.commonPlayerImpression,this.getPerfMarkers())},t.prototype.onBufferComplete=function(e){this.log("jsll - OnBufferComplete()");var i={bd:e.totalBufferWaitTime},r=window.awa?window.awa.behavior.VIDEOBUFFERING:null;this.doPing(e,r,t.usageCounters.contentBuffering,i)},t.prototype.onContentStart=function(e){this.log("jsll - OnContentStart()");var i=window.awa?window.awa.behavior.VIDEOSTART:null;this.doPing(e,i,t.usageCounters.contentStart,this.getPerfMarkers())},t.prototype.onContentContinue=function(e){this.log("jsll - OnContentContinue()");var i=window.awa?window.awa.behavior.VIDEOCONTINUE:null;this.doPing(e,i,t.usageCounters.contentContinue)},t.prototype.onContentCheckpoint=function(e){this.log("jsll - OnContentCheckpoint()");var t={cp:e.checkpoint},i=window.awa?window.awa.behavior.VIDEOCHECKPOINT:null;this.doPing(e,i,null,t)},t.prototype.onContentComplete=function(e){this.log("jsll - OnContentComplete()");var i=window.awa?window.awa.behavior.VIDEOCOMPLETE:null;this.doPing(e,i,t.usageCounters.contentComplete)},t.prototype.onContentError=function(e){this.log("jsll - OnContentError()");var i={fi:e.currentVideoFile&&e.currentVideoFile.url,et:e.errorType,etd:e.errorDesc},r=window.awa?window.awa.behavior.VIDEOERROR:null;this.doPing(e,r,t.usageCounters.contentError,i)},t.prototype.onMute=function(e){this.log("jsll - OnMute()");var i=window.awa?window.awa.behavior.VIDEOMUTE:null;this.doPing(e,i,t.usageCounters.mute)},t.prototype.onUnmute=function(e){this.log("jsll - OnMute()");var i=window.awa?window.awa.behavior.VIDEOUNMUTE:null;this.doPing(e,i,t.usageCounters.unmute)},t.prototype.onPause=function(e){this.log("jsll - OnPause()");var i=window.awa?window.awa.behavior.VIDEOPAUSE:null;this.doPing(e,i,t.usageCounters.pause)},t.prototype.onSeek=function(e){if(e.seekFrom!==e.seekTo){this.log("jsll - OnSeek()");var i={te:e.seekFrom,st:e.seekTo},r=window.awa?window.awa.behavior.VIDEOJUMP:null;this.doPing(e,r,t.usageCounters.seek,i)}},t.prototype.onVideoQualityChanged=function(e){this.log("jsll - OnVideoQualityChanged()");var i={q:e.currentVideoFile.quality};this.doPing(e,null,t.usageCounters.videoQuality,i)},t.prototype.onFullScreenEnter=function(e){this.log("jsll - OnFullScreenEnter()");var i=window.awa?window.awa.behavior.VIDEOFULLSCREEN:null;this.doPing(e,i,t.usageCounters.fullScreenEnter)},t.prototype.onFullScreenExit=function(e){this.log("jsll - OnFullScreenExit()");var i=window.awa?window.awa.behavior.VIDEOUNFULLSCREEN:null;this.doPing(e,i,t.usageCounters.fullScreenExit)},t.prototype.onReplay=function(e){this.log("jsll - OnReplay()"),this.doPing(e,null,t.usageCounters.replay)},t.prototype.onResume=function(e){this.log("jsll - OnResume()"),this.doPing(e,null,t.usageCounters.resume)},t.prototype.on3ppVideoLoaded=function(e){this.log("jsll - On3ppVideoLoaded()"),this.doPing(e,null,t.usageCounters.contentImpression3PP)},t.prototype.onInteractiveOverlayClick=function(e){this.log("jsll - onInteractiveTriggerClick"),this.doPing(e,null,null,{interactiveOverlay:e.interactiveOverlay})},t.usageCounters={contentBuffering:{t:"2",evt:"ContentPlay"},contentError:{t:"20",evt:"ContentPlay"},contentStart:{t:"21",evt:"ContentPlay"},contentContinue:{t:"22",evt:"ContentPlay"},contentComplete:{t:"23",evt:"ContentPlay"},contentImpression3PP:{t:"41",evt:"ContentPlay"},commonPlayerImpression:{t:"61",evt:"ContentPlay"},cc:{t:"30",evt:"Click_Non-nav"},pause:{t:"31",evt:"Click_Non-nav"},seek:{t:"32",evt:"Click_Non-nav"},mute:{t:"33",evt:"Click_Non-nav"},fullScreenEnter:{t:"34",evt:"Click_Non-nav"},info:{t:"35",evt:"Click_Non-nav"},videoQuality:{t:"36",evt:"Click_Non-nav"},resume:{t:"37",evt:"Click_Non-nav"},fullScreenExit:{t:"38",evt:"Click_Non-nav"},replay:{t:"39",evt:"Click_Non-nav"},unmute:{t:"40",evt:"Click_Non-nav"},facebook:{t:"51",evt:"Click_Non-nav"},twitter:{t:"52",evt:"Click_Non-nav"},email:{t:"53",evt:"Click_Non-nav"}},t}(i.BaseReporter);t.JsllReporter=o}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(8),i(18),i(5)],o=function(e,t,i,r,o){"use strict";var n=[i.videoPerfMarkers.playerInit,i.videoPerfMarkers.playerLoadStart,i.videoPerfMarkers.locLoadStart,i.videoPerfMarkers.locReady,i.videoPerfMarkers.wrapperLoadStart,i.videoPerfMarkers.wrapperReady,i.videoPerfMarkers.playerReady,i.videoPerfMarkers.playTriggered,i.videoPerfMarkers.ttvs],a=function(){function e(e){this.videoComponent=e,this.isDebugMode=!1,e&&"true"===e.getAttribute("data-debug")&&(this.isDebugMode=!0,this.playerId=e.getAttribute("id"))}return e.prototype.reportEvent=function(e,t){if(e)switch(e){case i.PlayerEvents.CommonPlayerImpression:r.PlayerUtility.createVideoPerfMarker(this.playerId,i.videoPerfMarkers.playerReady),this.onCommonPlayerImpression(t);break;case i.PlayerEvents.Replay:this.onReplay(t);break;case i.PlayerEvents.BufferComplete:this.onBufferComplete(t);break;case i.PlayerEvents.ContentStart:r.PlayerUtility.createVideoPerfMarker(this.playerId,i.videoPerfMarkers.ttvs),this.onContentStart(t);break;case i.PlayerEvents.ContentError:this.onContentError(t);break;case i.PlayerEvents.ContentContinue:this.onContentContinue(t);break;case i.PlayerEvents.ContentComplete:this.onContentComplete(t);break;case i.PlayerEvents.ContentCheckpoint:this.onContentCheckpoint(t);break;case i.PlayerEvents.ContentLoaded3PP:this.on3ppVideoLoaded(t);break;case i.PlayerEvents.Pause:this.onPause(t);break;case i.PlayerEvents.Resume:this.onResume(t);break;case i.PlayerEvents.Seek:this.onSeek(t);break;case i.PlayerEvents.VideoQualityChanged:this.onVideoQualityChanged(t);break;case i.PlayerEvents.Mute:this.onMute(t);break;case i.PlayerEvents.Unmute:this.onUnmute(t);break;case i.PlayerEvents.FullScreenEnter:this.onFullScreenEnter(t);break;case i.PlayerEvents.FullScreenExit:this.onFullScreenExit(t);break;case i.PlayerEvents.InteractiveOverlayClick:this.onInteractiveOverlayClick(t)}},e.prototype.getPerfMarkers=function(){var e={},t=o.getPerfMarkerValue(i.videoPerfMarkers.scriptLoaded);t&&(e["p."+i.videoPerfMarkers.scriptLoaded]=t);for(var a=0,s=n;a<s.length;a++){var l=s[a],u=r.PlayerUtility.getVideoPerfMarker(this.playerId,l);u&&(e["p."+l]=u)}return e},e.prototype.log=function(e,t){void 0===t&&(t="Reporter"),this.isDebugMode&&(r.PlayerUtility.logConsoleMessage(e,t),r.PlayerUtility.logPanelMessage(e,t))},e}();t.BaseReporter=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o,n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};r=[i,t,i(29),i(5),i(6),i(18)],o=function(e,t,i,r,o,a){"use strict";!function(e){e[e.Start=100]="Start",e[e.PauseOrResume=101]="PauseOrResume",e[e.Checkpoint=102]="Checkpoint",e[e.Complete=103]="Complete",e[e.Seek=104]="Seek",e[e.Error=105]="Error",e[e.VxpLoaded=14]="VxpLoaded",
e[e.VxpCalled=21]="VxpCalled"}(t.InteractionTypesWedcs||(t.InteractionTypesWedcs={}));var s=t.InteractionTypesWedcs,l=function(e){function t(t){e.call(this,t),this.ariaIntToken="c72948bd381240f0b884ff50136eac99-b03e1036-eb04-409f-8c5f-b7a1ef963b63-7293",this.ariaProdToken="3724ab06061e4078942152a71950d821-3b7eebe1-5057-482b-acb0-52cba362e591-6813",this.initializeTelemetry("video")}return n(t,e),t.prototype.initializeTelemetry=function(e){this.groupName=e,window.microsoft&&(window.microsoft.applications.telemetry.LogManager.initialize(this.ariaIntToken),this.ariaLogger=new window.microsoft.applications.telemetry.Logger)},t.prototype.sendEvent=function(e,t,i,r){if(!this.ariaLogger)return void this.log("Unable to push events: WEDCS customevent and Aria logger Not found");var n=i.videoMetadata.videoId,l=i.perfData,u=i.interactiveOverlay;i=e!==s.Error?this.addEnvDetails(null):this.addEnvDetails(i);var c=["ms.cmpgrp",this.groupName,"ms.interactiontype",e,"ms.pgarea","body"],d=[];if(d.push({key:"ms.interactiontype",value:e}),l&&d.push({key:"ms.video.perf",value:JSON.stringify(l)}),u&&d.push({key:"ms.video.interactiveOverlay",value:JSON.stringify(u)}),(t||0===t)&&(c.push("ms.video.completionrate",t),d.push({key:"ms.video.completionrate",value:t})),"undefined"!=typeof i&&null!=i){var p="";if(window.JSON)p=JSON.stringify(i);else{p="{";for(var h in i)i.hasOwnProperty(h)&&(p+="'"+h+"':"+i[h]+",");p=p.slice(0,-1)+"}"}e===s.Error?c.push("ms.video_error","oneplayer.error"+p):c.push("errorType","oneplayer.info");for(var h in i)i.hasOwnProperty(h)&&d.push({key:h,value:i[h]})}"undefined"!=typeof n&&n&&o.trim(n.toString()).length&&(c.push("ms.asstID",n),d.push({key:"videouuid",value:n})),"undefined"==typeof this.pageImpressionId&&(this.pageImpressionId=a.PlayerUtility.getGUID()),c.push("ms.impid",this.pageImpressionId),d.push({key:"ms.impid",value:this.pageImpressionId});try{this.ariaLogger&&(this.ariaLogger.logEvent({name:"video_player_event",properties:d}),this.log("************************aria Sent telemetry event done: "+c))}catch(e){this.log("Aria logger threw exception : "+e)}try{window.MscomCustomEvent&&(MscomCustomEvent.apply(this,c),this.log("************************wedcs Sent telemetry event done: "+c))}catch(e){this.log("Wedcs logger threw exception : "+e)}},t.prototype.addEnvDetails=function(e){return e||(e={errorType:"oneplayer.info"}),e},t.prototype.onCommonPlayerImpression=function(e){},t.prototype.onBufferComplete=function(e){},t.prototype.onContentStart=function(e){this.log("aria - OnContentStart()"),r.extend(e,{perfData:this.getPerfMarkers()}),this.sendEvent(s.Start,0,e)},t.prototype.onContentContinue=function(e){},t.prototype.onContentCheckpoint=function(e){this.log("aria - OnContentCheckpoint()"),this.sendEvent(s.Checkpoint,e.checkpoint,e)},t.prototype.onContentComplete=function(e){this.log("aria - OnContentComplete()"),this.sendEvent(s.Complete,100,e)},t.prototype.onContentError=function(e){this.log("aria - OnContentError()");var t={fi:e.currentVideoFile.url,et:e.errorType,etd:e.errorDesc};this.sendEvent(s.Error,null,e,t)},t.prototype.onMute=function(e){},t.prototype.onUnmute=function(e){},t.prototype.onPause=function(e){this.log("aria - OnPause()"),this.sendEvent(s.PauseOrResume,null,e)},t.prototype.onSeek=function(e){e.seekFrom!==e.seekTo&&(this.log("aria - OnSeek()"),this.sendEvent(s.Seek,null,e))},t.prototype.onVideoQualityChanged=function(e){},t.prototype.onFullScreenEnter=function(e){},t.prototype.onFullScreenExit=function(e){},t.prototype.onReplay=function(e){},t.prototype.onResume=function(e){},t.prototype.on3ppVideoLoaded=function(e){},t.prototype.onInteractiveOverlayClick=function(e){this.log("aria - onInteractiveTriggerClick"),this.sendEvent(null,null,e)},t}(i.BaseReporter);t.AriaReporter=l}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(13),i(17),i(8)],o=function(e,t,i,r,o){"use strict";var n={"zh-cn":[o.shareTypes.facebook,o.shareTypes.twitter,o.shareTypes.linkedin,o.shareTypes.skype]},a=function(){function e(){}return e.getCurrentPageUrl=function(){var e=parent!==window,t=window.location.href;return e&&(t=document.referrer),t},e.tryCopyTextToClipboard=function(e){if(window.clipboardData)window.clipboardData.setData("text",e);else{var t=document.createElement("textarea");i.css(t,"position","absolute"),i.css(t,"left","-500px"),i.css(t,"top","-500px"),t.value=e;var r=i.selectFirstElement("body");r.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}t.remove()}},e.getShareOptionsData=function(t,i,a){if(!(i&&i.share&&i.shareOptions&&t))return null;for(var s=[],l=encodeURIComponent(a||e.getCurrentPageUrl()),u=0,c=i.shareOptions;u<c.length;u++){var d=c[u];if(d=d.toLowerCase(),!(i.market&&n[i.market]&&n[i.market].indexOf(d)>=0))switch(d){case o.shareTypes.facebook:s.push({url:"//www.facebook.com/share.php?u="+l,id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_facebook),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJSZXN0XzNfIiBjbGFzcz0ic3QwIj48ZyBpZD0iVHdpdHRlcl8zXyIgY2xhc3M9InN0MSI+PHBhdGggY2xhc3M9InN0MiIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yOC40IDguNmMtLjkuNC0xLjkuNy0yLjkuOCAxLS42IDEuOC0xLjYgMi4yLTIuOC0xIC42LTIuMSAxLTMuMiAxLjItLjktMS0yLjItMS42LTMuNy0xLjYtMi44IDAtNSAyLjMtNSA1IDAgLjQgMCAuOC4xIDEuMi00LjItLjItNy45LTIuMi0xMC40LTUuMy0uNC44LS43IDEuNy0uNyAyLjYgMCAxLjggMSAzLjMgMi4zIDQuMi0uOCAwLTIuMi0uMy0yLjItLjZ2LjFjMCAyLjQgMS42IDQuNSAzLjkgNS0uNC4xLS45LjItMS40LjItLjMgMC0uNyAwLTEtLjEuNiAyIDIuNSAzLjUgNC43IDMuNS0xLjUgMS4yLTMuNyAyLTYuMSAyLS40IDAtLjggMC0xLjItLjEgMi4yIDEuNCA0LjkgMi4zIDcuNyAyLjMgOS4zIDAgMTQuNC03LjcgMTQuNC0xNC40di0uN2MxLS42IDEuOC0xLjUgMi41LTIuNXoiLz48L2c+PC9nPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiIGlkPSJGYWNlYm9va183XyIvPjxwYXRoIGlkPSJXaGl0ZV8yXyIgY2xhc3M9InN0MyIgZD0iTTMwLjIgMEgxLjhDLjggMCAwIC44IDAgMS44djI4LjVjMCAxIC44IDEuOCAxLjggMS44aDE1LjNWMTkuNmgtNC4ydi00LjhoNC4ydi0zLjZjMC00LjEgMi41LTYuNCA2LjItNi40IDEuOCAwIDMuMy4yIDMuNy4ydjQuM2gtMi42Yy0yIDAtMi40IDEtMi40IDIuNHYzLjFoNC44bC0uNiA0LjhIMjJWMzJoOC4yYzEgMCAxLjgtLjggMS44LTEuOFYxLjhjMC0xLS44LTEuOC0xLjgtMS44eiIvPjwvc3ZnPg=="});break;case o.shareTypes.twitter:s.push({url:"//twitter.com/share?url="+l+"&text=",id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_twitter),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2ZpbGw6I0ZGRkZGRjt9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIgNi4xYy0xLjIuNS0yLjUuOS0zLjggMSAxLjMtLjggMi4zLTIuMSAyLjktMy42LTEuMy44LTIuNyAxLjMtNC4yIDEuNkMyNS44IDMuOCAyNC4xIDMgMjIuMSAzYy0zLjYgMC02LjUgMy02LjUgNi41IDAgLjUgMCAxIC4xIDEuNi01LjQtLjMtMTAuMi0yLjktMTMuNS02LjktLjUgMS0uOSAyLjItLjkgMy40IDAgMi4zIDEuMyA0LjMgMyA1LjUtMSAwLTIuOS0uNC0yLjktLjh2LjFjMCAzLjEgMi4xIDUuOSA1LjEgNi41LS41LjEtMS4yLjItMS44LjItLjQgMC0uOSAwLTEuMy0uMS44IDIuNiAzLjMgNC42IDYuMSA0LjYtMiAxLjYtNC44IDIuNi03LjkgMi42LS41IDAtMSAwLTEuNi0uMSAyLjkgMS44IDYuNCAzIDEwIDMgMTIuMSAwIDE4LjctMTAgMTguNy0xOC43di0uOWMxLjMtLjkgMi40LTIuMSAzLjMtMy40eiIvPjwvc3ZnPg=="});break;case o.shareTypes.skype:s.push({url:"//web.skype.com/share?url="+l+"&amp;lang="+i.market,id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_skype),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJMYXllcl8xXzFfIiBjbGFzcz0ic3QwIj48ZyBpZD0iUmVzdF8zXyIgY2xhc3M9InN0MSI+PGcgaWQ9IlR3aXR0ZXJfM18iPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjguNCA4LjZjLS45LjQtMS45LjctMi45LjggMS0uNiAxLjgtMS42IDIuMi0yLjgtMSAuNi0yLjEgMS0zLjIgMS4yLS45LTEtMi4yLTEuNi0zLjctMS42LTIuOCAwLTUgMi4zLTUgNSAwIC40IDAgLjguMSAxLjItNC4yLS4yLTcuOS0yLjItMTAuNC01LjMtLjQuOC0uNyAxLjctLjcgMi42IDAgMS44IDEgMy4zIDIuMyA0LjItLjggMC0yLjItLjMtMi4yLS42di4xYzAgMi40IDEuNiA0LjUgMy45IDUtLjQuMS0uOS4yLTEuNC4yLS4zIDAtLjcgMC0xLS4xLjYgMiAyLjUgMy41IDQuNyAzLjUtMS41IDEuMi0zLjcgMi02LjEgMi0uNCAwLS44IDAtMS4yLS4xIDIuMiAxLjQgNC45IDIuMyA3LjcgMi4zIDkuMyAwIDE0LjQtNy43IDE0LjQtMTQuNHYtLjdjMS0uNiAxLjgtMS41IDIuNS0yLjV6Ii8+PC9nPjwvZz48ZyBpZD0iRmFjZWJvb2tfN18iIGNsYXNzPSJzdDEiPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBpZD0iZl82XyIgY2xhc3M9InN0MyIgZD0iTTE4IDI2di05aDIuNmwuNS00SDE4di0xLjljMC0xLS4yLTIuMSAxLjMtMi4xSDIxVjYuMVMxOS43IDYgMTguNCA2QzE1LjcgNiAxNCA3LjcgMTQgMTAuN1YxM2gtM3Y0aDN2OWg0eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MyIgZD0iTTMwLjkgMTguNmMuMS0uOC4xLTEuOC4xLTIuNiAwLTguMy02LjctMTUtMTUtMTUtMSAwLTEuOCAwLTIuNi4yQzEyLjIuMyAxMC42IDAgOSAwIDQgMCAwIDQgMCA5YzAgMS42LjUgMy4yIDEuMSA0LjUtLjEuNy0uMSAxLjctLjEgMi41IDAgOC4zIDYuNyAxNSAxNSAxNSAxIDAgMS44IDAgMi42LS4yIDEuMy44IDIuOSAxLjEgNC41IDEuMSA1IDAgOS00IDktOS0uMS0xLjYtLjQtMy4xLTEuMi00LjN6bS0xNC43IDYuNWMtNS4xIDAtNy41LTIuNi03LjUtNC41IDAtMSAuOC0xLjYgMS44LTEuNiAyLjIgMCAxLjYgMy4yIDUuOCAzLjIgMi4xIDAgMy40LTEuMyAzLjQtMi40IDAtLjYtLjUtMS40LTEuOC0xLjhsLTQuOC0xYy0zLjctMS00LjMtMy00LjMtNC44IDAtMy44IDMuNS01LjMgNy01LjMgMy4yIDAgNi45IDEuOCA2LjkgNC4yIDAgMS0uOCAxLjYtMS44IDEuNi0xLjkgMC0xLjYtMi42LTUuMy0yLjYtMS45IDAtMi45LjgtMi45IDIuMXMxLjQgMS42IDIuNyAxLjlsMy40LjhjMy43LjggNC42IDMgNC42IDUuMS4xIDIuNy0yLjQgNS4xLTcuMiA1LjF6Ii8+PC9zdmc+"});break;case o.shareTypes.linkedin:s.push({url:"//www.linkedin.com/shareArticle?mini=true&url="+l+"&title=&summary=&source=",id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_linkedin),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJMYXllcl8xXzFfIiBjbGFzcz0ic3QwIj48ZyBpZD0iUmVzdF8zXyIgY2xhc3M9InN0MSI+PGcgaWQ9IlR3aXR0ZXJfM18iPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjguNCA4LjZjLS45LjQtMS45LjctMi45LjggMS0uNiAxLjgtMS42IDIuMi0yLjgtMSAuNi0yLjEgMS0zLjIgMS4yLS45LTEtMi4yLTEuNi0zLjctMS42LTIuOCAwLTUgMi4zLTUgNSAwIC40IDAgLjguMSAxLjItNC4yLS4yLTcuOS0yLjItMTAuNC01LjMtLjQuOC0uNyAxLjctLjcgMi42IDAgMS44IDEgMy4zIDIuMyA0LjItLjggMC0yLjItLjMtMi4yLS42di4xYzAgMi40IDEuNiA0LjUgMy45IDUtLjQuMS0uOS4yLTEuNC4yLS4zIDAtLjcgMC0xLS4xLjYgMiAyLjUgMy41IDQuNyAzLjUtMS41IDEuMi0zLjcgMi02LjEgMi0uNCAwLS44IDAtMS4yLS4xIDIuMiAxLjQgNC45IDIuMyA3LjcgMi4zIDkuMyAwIDE0LjQtNy43IDE0LjQtMTQuNHYtLjdjMS0uNiAxLjgtMS41IDIuNS0yLjV6Ii8+PC9nPjwvZz48ZyBpZD0iRmFjZWJvb2tfN18iIGNsYXNzPSJzdDEiPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBpZD0iZl82XyIgY2xhc3M9InN0MyIgZD0iTTE4IDI2di05aDIuNmwuNS00SDE4di0xLjljMC0xLS4yLTIuMSAxLjMtMi4xSDIxVjYuMVMxOS43IDYgMTguNCA2QzE1LjcgNiAxNCA3LjcgMTQgMTAuN1YxM2gtM3Y0aDN2OWg0eiIvPjwvZz48L2c+PGcgaWQ9IkxheWVyXzMiIGNsYXNzPSJzdDAiPjxnIGlkPSJTa3lwZV83XyIgY2xhc3M9InN0MSI+PHBhdGggY2xhc3M9InN0MiIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yNS4yIDE3LjZjLjEtLjUuMS0xLjEuMS0xLjYgMC01LjItNC4yLTkuNC05LjQtOS40LS42IDAtMS4xIDAtMS42LjEtLjgtLjUtMS44LS43LTIuOC0uNy0zLjEgMC01LjYgMi41LTUuNiA1LjYgMCAxIC4zIDIgLjcgMi44LS4xLjUtLjEgMS4xLS4xIDEuNiAwIDUuMiA0LjIgOS40IDkuNCA5LjQuNiAwIDEuMSAwIDEuNi0uMS44LjUgMS44LjcgMi44LjcgMy4xIDAgNS42LTIuNSA1LjYtNS42IDAtMS4xLS4yLTItLjctMi44ek0xNiAyMS43Yy0zLjIgMC00LjctMS42LTQuNy0yLjggMC0uNi41LTEgMS4xLTEgMS40IDAgMSAyIDMuNiAyIDEuMyAwIDIuMS0uOCAyLjEtMS41IDAtLjQtLjMtLjktMS4xLTEuMWwtMi45LS43Yy0yLjMtLjYtMi43LTEuOS0yLjctMyAwLTIuNCAyLjItMy4zIDQuNC0zLjMgMiAwIDQuMyAxLjEgNC4zIDIuNiAwIC42LS41IDEtMS4xIDEtMS4yIDAtMS0xLjYtMy4zLTEuNi0xLjIgMC0xLjguNS0xLjggMS4zcy45IDEgMS43IDEuMmwyLjEuNWMyLjMuNSAyLjkgMS45IDIuOSAzLjIgMCAxLjctMS42IDMuMi00LjYgMy4yeiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MyIgZD0iTTI5LjYgMEgyLjRDMS4xIDAgMCAxIDAgMi4zdjI3LjRDMCAzMSAxLjEgMzIgMi40IDMyaDI3LjNjMS4zIDAgMi40LTEgMi40LTIuM1YyLjNDMzIgMSAzMC45IDAgMjkuNiAwek05LjUgMjcuM0g0LjdWMTJoNC43djE1LjN6TTcuMSA5LjljLTEuNSAwLTIuOC0xLjItMi44LTIuOCAwLTEuNSAxLjItMi44IDIuOC0yLjggMS41IDAgMi44IDEuMiAyLjggMi44IDAgMS42LTEuMyAyLjgtMi44IDIuOHptMjAuMiAxNy40aC00Ljd2LTcuNGMwLTEuOCAwLTQtMi41LTRzLTIuOCAxLjktMi44IDMuOXY3LjZoLTQuN1YxMkgxN3YyLjFoLjFjLjYtMS4yIDIuMi0yLjUgNC41LTIuNSA0LjggMCA1LjcgMy4yIDUuNyA3LjN2OC40eiIvPjwvc3ZnPg=="});break;case o.shareTypes.mail:s.push({url:"mailto:?subject=Check out this great video&body="+l,id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_mail),glyph:"glyph-mail"});break;case o.shareTypes.copy:s.push({url:l,id:d,label:t.getLocalizedValue(r.playerLocKeys.sharing_copy),glyph:"glyph-copy"})}}return s},e}();t.SharingHelper=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(18),i(5),i(13)],o=function(e,t,i,r,o){"use strict";var n=function(){function e(e,t,n,a){var s=this;return this.playerContainer=e,this.triggerInfoUrl=t,this.onClickCallback=n,this.onCompleteCallback=a,this.interactedOverlays=[],this.isOverlayShown=!1,this.onTriggerInfoSuccess=function(e){try{s.interactivityInfo=JSON.parse(e),s.createOverlayContainer(),s.preloadImages(),s.setNextTrigger(0),o.addThrottledEvent(window,o.eventTypes.resize,s.onResized),s.onCompleteCallback&&s.onCompleteCallback()}catch(e){s.onCompleteCallback&&s.onCompleteCallback({error:"failed to parse trigger json"})}},this.onTriggerInfoFailed=function(){s.onCompleteCallback&&s.onCompleteCallback({error:"failed to get trigger json"})},this.onOverlayClick=function(e){var t=o.getEventTargetOrSrcElement(e);t&&s.currentOverlay&&(s.interactedOverlays.push(s.currentOverlay.overlayid),s.hideOverlay(),window.open(s.currentOverlay.linkString,"_blank"),s.onClickCallback&&s.onClickCallback(s.currentOverlay))},this.onResized=function(){if(s.overlayContainer){var e=r.getDimensions(s.playerContainer);s.currentOverlay&&s.showOverlay(),s.overlayText&&s.overlayText.setAttribute("aria-hidden",e.width<r.Viewports.allWidths[2]?"true":"false")}},e&&t?void i.PlayerUtility.ajax(this.triggerInfoUrl,this.onTriggerInfoSuccess,this.onTriggerInfoFailed):null}return e.prototype.seek=function(e){this.setNextTrigger(e),this.updateOverlays(e)},e.prototype.dispose=function(){this.hideOverlay(),this.currentOverlay=null,this.nextTrigger=null,o.removeEvent(this.overlayButton,o.eventTypes.click,this.onOverlayClick),o.removeEvent(window,o.eventTypes.resize,this.onResized)},e.prototype.createOverlayContainer=function(){var e="<div aria-hidden='true' class='f-interactive-overlay'>\n    <div class='f-overlay-info'>\n        <h1 class='c-headline'></h1>\n        <p class='c-paragraph'></p>\n    </div>\n    <div class='f-overlay-link'>\n        <button class='c-action-trigger f-heavyweight'></button>\n    </div>\n<div>",t=document.createElement("div");t.innerHTML=e,this.playerContainer.appendChild(t.firstChild),this.overlayContainer=o.selectFirstElement(".f-interactive-overlay",this.playerContainer),this.overlayHeadline=o.selectFirstElement("h1",this.overlayContainer),this.overlayText=o.selectFirstElement("p",this.overlayContainer),this.overlayButton=o.selectFirstElement("button",this.overlayContainer),o.addEvent(this.overlayButton,o.eventTypes.click,this.onOverlayClick),this.onResized()},e.prototype.updateOverlays=function(e){this.interactivityInfo&&r.isNumber(e)&&this.nextTrigger&&this.nextTrigger.triggerTimeTicks/1e7<=e&&(this.nextTrigger.isOverlayOn?(this.currentOverlay=this.getOverlayInfo(this.nextTrigger.overlayid),this.setOverlayData(this.currentOverlay),this.showOverlay()):(this.hideOverlay(),this.currentOverlay=null),this.setNextTrigger(e))},e.prototype.showOverlay=function(){this.overlayContainer&&(r.getDimensions(this.playerContainer).width<r.Viewports.allWidths[1]?this.hideOverlay():this.isOverlayShown||(clearTimeout(this.hideTimer),this.overlayContainer.setAttribute("aria-hidden","false"),o.addClass(this.overlayContainer,"f-interactive-overlay-slidein"),o.removeClass(this.overlayContainer,"f-interactive-overlay-slideout"),this.isOverlayShown=!0))},e.prototype.hideOverlay=function(){var e=this;this.overlayContainer&&this.isOverlayShown&&(o.addClass(this.overlayContainer,"f-interactive-overlay-slideout"),o.removeClass(this.overlayContainer,"f-interactive-overlay-slidein"),this.hideTimer=setTimeout(function(){e.overlayContainer.setAttribute("aria-hidden","true")},1e3),this.isOverlayShown=!1)},e.prototype.setOverlayData=function(e){this.overlayContainer&&e&&1===e.linkType&&(this.overlayHeadline&&o.setText(this.overlayHeadline,e.headline),this.overlayText&&o.setText(this.overlayText,e.text),this.nextTrigger.zIndex&&o.css(this.overlayContainer,"z-index",this.nextTrigger.zIndex),e.imageUrl&&o.css(this.overlayContainer,"background-image","url('"+e.imageUrl+"')"),this.overlayButton&&(o.setText(this.overlayButton,e.buttonText),this.overlayButton.setAttribute("aria-label",e.buttonText)))},e.prototype.getOverlayInfo=function(e){if(!(this.interactivityInfo&&this.interactivityInfo.overlays&&this.interactivityInfo.overlays.playerHtml&&this.interactivityInfo.overlays.playerHtml.length))return null;for(var t=0,i=this.interactivityInfo.overlays.playerHtml;t<i.length;t++){var r=i[t];if(r.overlayid===e)return r}return null},e.prototype.setNextTrigger=function(e){if(r.isNumber(e)){this.nextTrigger=null;for(var t=0,i=this.interactivityInfo.triggers;t<i.length;t++){var o=i[t];if(o.overlayid&&this.interactedOverlays.indexOf(o.overlayid)<0&&1===o.overlayTemplate&&o.triggerTimeTicks/1e7>=e)return void(this.nextTrigger=o)}}this.nextTrigger||this.hideOverlay()},e.prototype.preloadImages=function(){if(document.images&&this.interactivityInfo&&this.interactivityInfo.overlays&&this.interactivityInfo.overlays.playerHtml)for(var e=0,t=this.interactivityInfo.overlays.playerHtml;e<t.length;e++){var i=t[e];if(i.imageUrl){var r=new Image;r.src=i.imageUrl}}},e}();t.VideoPlayerInteractiveTriggersHelper=n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o,n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};r=[i,t,i(34),i(18),i(8)],o=function(e,t,i,r,o){"use strict";var a=function(e){function t(t,i){var n=this;e.call(this,t,i,!0),this.playerContainer=t,this.contentStartReported=!1,this.runIfDownloadFinished=function(){window.YT&&window.YT.Player?n.OnYouTubeIframeAPIReady():setTimeout(n.runIfDownloadFinished,50)},this.onPlayerStateChanged=function(e){if(n.player){var t=window;switch(e.data){case t.YT.PlayerState.PLAYING:n.onYouTubeVideoBegin();break;case t.YT.PlayerState.ENDED:n.onYouTubeVideoComplete();break;case t.YT.PlayerState.PAUSED:n.setPlaybackStatus(o.PlaybackStatus.VideoPaused);break;case t.YT.PlayerState.BUFFERING:n.setPlaybackStatus(o.PlaybackStatus.VideoBuffering)}n.log("state="+e.data)}},this.createElements(),this.oldOnYouTubeIframeAPIReady=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=this.OnYouTubeIframeAPIReady.bind(this),r.PlayerUtility.loadScript(this.metadata&&this.metadata.externalPlayerUrl||"https://www.youtube.com/iframe_api"),this.runIfDownloadFinished()}return n(t,e),t.prototype.OnYouTubeIframeAPIReady=function(){var e={autoplay:this.playerOptions&&this.playerOptions.autoplay?"1":"0",showinfo:"1",wmode:"window",modestbranding:1,enablejsapi:1,fs:1,rel:0,origin:encodeURIComponent(document.location.hostname)};this.player=new window.YT.Player(this.id,{height:"100%",width:"100%",videoId:this.metadata&&this.metadata.videoId,events:{onStateChange:this.onPlayerStateChanged},playerVars:e}),window.onYouTubeIframeAPIReady=this.oldOnYouTubeIframeAPIReady,this.oldOnYouTubeIframeAPIReady&&(this.oldOnYouTubeIframeAPIReady(),this.oldOnYouTubeIframeAPIReady=null)},t.prototype.onYouTubeVideoBegin=function(){this.setPlaybackStatus(o.PlaybackStatus.VideoPlaying),this.contentStartReported||(this.reportEvent(o.PlayerEvents.ContentStart),this.contentStartReported=!0)},t.prototype.onYouTubeVideoComplete=function(){this.setPlaybackStatus(o.PlaybackStatus.PlaybackCompleted),this.reportEvent(o.PlayerEvents.ContentComplete),this.contentStartReported=!1},t.prototype.load=function(e){},t.prototype.play=function(){},t.prototype.pause=function(){},t.prototype.mute=function(){},t.prototype.unmute=function(){},t}(i.ExternalPlayerBase);t.YoutubePlayer=a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(13),i(18),i(5),i(8),i(13),i(28)],o=function(e,t,i,r,o,n,a,s){"use strict";var l=function(){function e(t,r,o){this.videoComponent=t,this.reporters=[],t&&r&&(this.metadata=r.metadata,this.playerOptions=r.options,this.container=i.selectFirstElementT(".f-external-player",this.videoComponent),this.container||(this.container=document.createElement("div"),this.container.setAttribute("class",e.externalDivClass),t.appendChild(this.container)),this.initializeReporting(),o?this.reportEvent(n.PlayerEvents.CommonPlayerImpression):this.reportEvent(n.PlayerEvents.ContentLoaded3PP))}return e.prototype.initializeReporting=function(){this.playerOptions&&this.playerOptions.reporting&&this.playerOptions.reporting.enabled&&this.playerOptions.reporting.jsll&&this.reporters.push(new s.JsllReporter(this.videoComponent))},e.prototype.createElements=function(){this.id=r.PlayerUtility.random4CharString(),this.player=document.createElement("div"),this.player.setAttribute("id",this.id),this.container.appendChild(this.player)},e.prototype.getReport=function(){var e="3PP_"+(this.metadata&&this.metadata.playerName)||"unknown",t={playerTechnology:e,videoMetadata:this.metadata,playerInstanceId:this.videoComponent.getAttribute("id"),playerType:e,videoSize:o.getDimensions(this.container)};return t},e.prototype.setPlaybackStatus=function(e){e&&e!==this.playbackStatus&&(this.playbackStatus=e,a.customEvent(this.videoComponent,n.PlayerEvents.PlaybackStatusChanged,{detail:{status:n.PlayerEvents.PlaybackStatusChanged}}))},e.prototype.reportEvent=function(e){var t=this.getReport();this.log("Event reported : "+n.PlayerEvents[e]+" | data : "+JSON.stringify(t));for(var i=0,r=this.reporters;i<r.length;i++){var o=r[i];o.reportEvent(e,t)}a.customEvent(this.videoComponent,n.PlayerEvents[e],{detail:t})},e.prototype.log=function(e){this.playerOptions&&this.playerOptions.debug&&e&&r.PlayerUtility.logConsoleMessage(e,"3PP")},e.prototype.dispose=function(){var e=i.selectFirstElement("iframe",this.container);e&&e.setAttribute("src",""),setTimeout(function(){i.removeInnerHtml(this.container)},0)},e.externalDivClass="f-external-player",e}();t.ExternalPlayerBase=l}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,i){var r,o;r=[i,t,i(12),i(3)],o=function(e,t,i,r){"use strict";var o=function(){function e(){}return e}();t.VideoPlayerAutoInitializer=o,function(){i.ComponentFactory.create([{c:r.VideoPlayer}])}()}.apply(t,r),!(void 0!==o&&(e.exports=o))}]);
//# sourceMappingURL=mwfVideoPlayer-main.var.min.js.map